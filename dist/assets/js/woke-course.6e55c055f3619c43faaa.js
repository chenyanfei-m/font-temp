webpackJsonp([18],{1075:function(t,e){},1124:function(t,e){},1138:function(t,e){},1139:function(t,e){},1166:function(t,e){},1476:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",[s("div",{staticClass:"logo",on:{click:t.toHome}},[s("img",{attrs:{src:n(52)}}),t._v(" "),s("span",{staticClass:"title"},[t._v("沃课名校课程")])]),t._v(" "),s("div",[s("span",[t._v(t._s(t.username))]),t._v(" "),s("span",{staticClass:"logout",on:{click:t.logout}},[t._v("注销")])])])])},staticRenderFns:[]}},1524:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"course-list",attrs:{"element-loading-text":"数据加载中..."}},[t.courses.length?n("div",t._l(t.courses,function(e){return n("div",{key:e.id,on:{click:function(n){t.handleClick(e.id)}}},[n("el-card",{attrs:{title:e.title}},[n("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[n("span",[t._v(t._s(e.title))]),t._v(" "),n("span",[t._v(t._s(e.lessonCount)+"课时")])]),t._v(" "),n("div",[t._v("播放时间: "+t._s(e.startDate)+"至"+t._s(e.endDate))]),t._v(" "),n("div",[t._v("回看时间: "+t._s(t.getPlaybackDate(e)))])])],1)})):n("div",{staticClass:"none"},[t._v("\n    没有课程\n  ")])])},staticRenderFns:[]}},1540:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-container"},[s("el-card",[s("el-form",{attrs:{model:t.form}},[s("el-form-item",{staticStyle:{margin:"35px 0"}},[s("img",{staticStyle:{width:"150px"},attrs:{src:n(492),alt:"沃课名校课程"}})]),t._v(" "),s("el-form-item",[s("el-input",{attrs:{placeholder:"用户名","prefix-icon":""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),s("el-form-item",[s("el-input",{attrs:{placeholder:"密码","prefix-icon":"",type:"password"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(e)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),s("el-form-item",{staticStyle:{"margin-top":"40px"}},[s("el-button",{attrs:{type:"primary",disabled:t.loginDisabled,loading:t.loading},on:{click:t.login}},[t._v("登录")])],1)],1)],1)],1)},staticRenderFns:[]}},1566:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"course-detail"},[n("strong",{staticClass:"course-name"},[t._v(t._s(t.title))]),t._v(" "),t.selectItem?n("el-card",{staticClass:"video-container"},[n("div",{staticClass:"title"}),t._v(" "),n("div",{staticClass:"describe"},[n("span",[t._v(t._s(t.selectItem.title))]),t._v(" "),n("span",[t._v("老师: "+t._s(t.selectItem.teacherName))])]),t._v(" "),n("video",{attrs:{autoplay:"",controls:"",src:t.selectItem.videoPath.cdn,controlslist:"nodownload"}})]):t._e(),t._v(" "),n("div",{staticClass:"course-list"},[n("div",{staticClass:"course-list-header"},[n("strong",[t._v("课时列表")]),t._v(" "),n("div",[n("el-select",{staticStyle:{width:"150px"},attrs:{size:"medium"},model:{value:t.selectDate,callback:function(e){t.selectDate=e},expression:"selectDate"}},t._l(t.dates,function(t){var e=t.label,s=t.value;return n("el-option",{key:s,attrs:{value:s,label:e}})})),t._v(" "),n("el-select",{staticStyle:{width:"150px"},attrs:{size:"medium"},model:{value:t.selectSubject,callback:function(e){t.selectSubject=e},expression:"selectSubject"}},t._l(t.subjects,function(t){var e=t.label,s=t.value;return n("el-option",{key:s,attrs:{value:s,label:e}})}))],1)]),t._v(" "),n("div",{staticClass:"list"},t._l(t.lessons,function(e){return n("div",{key:e.id,on:{click:function(n){t.handleItemClick(e)}}},[n("el-card",{style:{backgroundColor:e.id===t.selectId?"#ddd":"#fff"}},[n("div",{staticClass:"head",style:{color:t.statusMap[e.status].color}},[n("span",[t._v(t._s(t.statusMap[e.status].text))])]),t._v(" "),n("div",{attrs:{title:e.title}},[n("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"time"},[t._v("上课时间: "+t._s(e.startTime))]),t._v(" "),n("div",[n("span",{staticClass:"teacher"},[t._v("老师: "+t._s(e.teacherName))]),t._v(" "),n("span")])])])],1)}))])],1)},staticRenderFns:[]}},291:function(t,e){},292:function(t,e){},295:function(t,e){},296:function(t,e){},297:function(t,e){},298:function(t,e){},300:function(t,e){},397:function(t,e){},492:function(t,e,n){t.exports=n.p+"assets/img/logo.90a048d.png"},5:function(t,e){},52:function(t,e,n){t.exports=n.p+"assets/img/brand-logo.9bce946.png"},584:function(t,e,n){"use strict";var s=n(3),r=n.n(s),a=n(322),i=n.n(a),o=n(26),u=n.n(o),c=n(8),d=n.n(c),l=n(7),f=n.n(l),p=n(25),v=n.n(p);f.a.interceptors.request.use(function(t){var e=t.headers,n=window,s=n.localStorage.accessToken,r=void 0===s?"{}":s,a=JSON.parse(r).access_token;return d()({},t,{headers:u()(e,a?{Authorization:"Bearer "+a}:{})})},function(t){return i.a.reject(t)});var m=function t(){r()(this,t),this.userLogin=function(t){var e=t.client_id,n=void 0===e?"2d3d9191b47682118f24":e,s=t.client_secret,r=void 0===s?"589bfebc1dda118532673d315d563f3776d84cf8":s,a=t.refresh_token,i=t.grant_type,o=t.username,c=t.password;return f.a.post("/pad/api/account/login",v.a.stringify(u()({client_id:n,client_secret:r},"password"===i?{username:o,password:c,grant_type:i}:{refresh_token:a,grant_type:i})))},this.getStudentInfo=function(){return f.a.get("/banker/api/users/?fields=username")},this.getCourses=function(t){return f.a.get("/pad/api/holiday-courses",{params:t})},this.getCourseDetail=function(t){var e=t.id;return f.a.get("/pad/api/holiday-courses/"+e)},this.getCourseSubjects=function(t){var e=t.id;return f.a.get("/pad/api/holiday-courses/"+e+"/subjects")},this.getCourseDates=function(t){var e=t.id;return f.a.get("/pad/api/holiday-courses/"+e+"/dates")},this.getLessons=function(t,e){return f.a.get("/pad/api/holiday-courses/"+t+"/lessons",{params:e})}};e.a=m},635:function(t,e){},708:function(t,e,n){function s(t){n(1166)}var r=n(0)(n(907),n(1566),s,"data-v-72b9021f",null);t.exports=r.exports},709:function(t,e,n){function s(t){n(1075)}var r=n(0)(n(908),n(1476),s,"data-v-265c4e5b",null);t.exports=r.exports},710:function(t,e,n){function s(t){n(1124)}var r=n(0)(n(909),n(1524),s,"data-v-53e5bd28",null);t.exports=r.exports},711:function(t,e,n){function s(t){n(1138),n(1139)}var r=n(0)(n(910),n(1540),s,"data-v-5e99a1ea",null);t.exports=r.exports},84:function(t,e){},9:function(t,e,n){"use strict";n.d(e,"X",function(){return h}),n.d(e,"_21",function(){return _}),n.d(e,"_1",function(){return b}),n.d(e,"a",function(){return x}),n.d(e,"u",function(){return y}),n.d(e,"_6",function(){return k}),n.d(e,"K",function(){return w}),n.d(e,"J",function(){return C}),n.d(e,"I",function(){return j}),n.d(e,"_5",function(){return I}),n.d(e,"P",function(){return D}),n.d(e,"N",function(){return S}),n.d(e,"M",function(){return $}),n.d(e,"L",function(){return L}),n.d(e,"_8",function(){return P}),n.d(e,"W",function(){return T}),n.d(e,"U",function(){return M}),n.d(e,"T",function(){return O}),n.d(e,"S",function(){return A}),n.d(e,"R",function(){return R}),n.d(e,"Q",function(){return E}),n.d(e,"v",function(){return F}),n.d(e,"Z",function(){return N}),n.d(e,"_0",function(){return J}),n.d(e,"_7",function(){return q}),n.d(e,"_17",function(){return B}),n.d(e,"s",function(){return z}),n.d(e,"t",function(){return H}),n.d(e,"i",function(){return K}),n.d(e,"_19",function(){return V}),n.d(e,"j",function(){return W}),n.d(e,"k",function(){return G}),n.d(e,"_20",function(){return Q}),n.d(e,"m",function(){return U}),n.d(e,"p",function(){return X}),n.d(e,"q",function(){return Y}),n.d(e,"n",function(){return Z}),n.d(e,"o",function(){return tt}),n.d(e,"l",function(){return et}),n.d(e,"y",function(){return nt}),n.d(e,"_18",function(){return st}),n.d(e,"A",function(){return rt}),n.d(e,"C",function(){return at}),n.d(e,"E",function(){return it}),n.d(e,"F",function(){return ot}),n.d(e,"D",function(){return ut}),n.d(e,"f",function(){return ct}),n.d(e,"g",function(){return dt}),n.d(e,"h",function(){return lt}),n.d(e,"Y",function(){return ft}),n.d(e,"V",function(){return pt}),n.d(e,"O",function(){return vt}),n.d(e,"H",function(){return mt}),n.d(e,"B",function(){return gt}),n.d(e,"G",function(){return ht}),n.d(e,"z",function(){return _t}),n.d(e,"r",function(){return bt}),n.d(e,"x",function(){return xt}),n.d(e,"w",function(){return yt}),n.d(e,"b",function(){return kt}),n.d(e,"c",function(){return wt}),n.d(e,"d",function(){return Ct}),n.d(e,"e",function(){return jt}),n.d(e,"_22",function(){return It}),n.d(e,"_3",function(){return Dt}),n.d(e,"_9",function(){return St}),n.d(e,"_4",function(){return $t}),n.d(e,"_2",function(){return Lt}),n.d(e,"_10",function(){return Pt}),n.d(e,"_13",function(){return Tt}),n.d(e,"_12",function(){return Mt}),n.d(e,"_14",function(){return Ot}),n.d(e,"_15",function(){return At}),n.d(e,"_16",function(){return Rt}),n.d(e,"_11",function(){return Et});var s,r,a,i,o,u,c,d,l,f,p,v,m=n(32),g=n.n(m),h=99,_=[0,1,2,3,4,5,6,7,8,9],b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],x=(s={},g()(s,0,"全部学科"),g()(s,1,"英语"),g()(s,2,"数学"),g()(s,3,"语文"),g()(s,4,"物理"),g()(s,5,"化学"),g()(s,6,"地理"),g()(s,7,"历史"),g()(s,8,"政治"),g()(s,9,"生物"),g()(s,10,"历史与社会"),g()(s,11,"科学"),g()(s,12,"综合素质"),g()(s,13,"信息技术"),g()(s,14,"音乐"),g()(s,15,"美术"),g()(s,16,"通用技术"),g()(s,17,"品德"),g()(s,18,"体育"),s),y=(r={},g()(r,1,"英语"),g()(r,2,"数学"),g()(r,3,"语文"),g()(r,4,"物理"),g()(r,5,"化学"),g()(r,6,"地理"),g()(r,7,"历史"),g()(r,8,"政治"),g()(r,9,"生物"),r),k=2,w=3,C=4,j=5,I=6,D=20,S=7,$=8,L=9,P=10,T=14,M=15,O=16,A=17,R=18,E=19,F=(a={},g()(a,0,"全部年级"),g()(a,1,"大学"),g()(a,k,"高中"),g()(a,w,"高三"),g()(a,C,"高二"),g()(a,j,"高一"),g()(a,I,"初中"),g()(a,D,"初四"),g()(a,S,"初三"),g()(a,$,"初二"),g()(a,L,"初一"),g()(a,P,"小学"),g()(a,T,"小六"),g()(a,M,"小五"),g()(a,O,"小四"),g()(a,A,"小三"),g()(a,R,"小二"),g()(a,E,"小一"),a),N=[I,L,$,S,D],J=[k,j,C,w],q=[P,E,R,A,O,M,T],B=[I,L,$,S,D,k,j,C,w,P,E,R,A,O,M,T],z=2,H=3,K=0,V=1,W=2,G=3,Q=(i={},g()(i,K,"未收卷"),g()(i,V,"已收卷"),g()(i,W,"已完成批改"),g()(i,G,"待发送/定时中"),i),U=2030,X=2018,Y=2035,Z=2032,tt=2025,et=(o={},g()(o,X,"试卷"),g()(o,tt,"互动资料"),g()(o,2019,"课件"),g()(o,2024,"PPT"),g()(o,2020,"WORD"),g()(o,2028,"Excel"),g()(o,2021,"PDF"),g()(o,2022,"图片"),g()(o,2004,"视频"),g()(o,2023,"音频"),g()(o,2031,"截图下发"),o),nt=[2020,2022,2021,2023,2004],st=["doc","docx","pdf","ppt","pptx","xls","xlsx","png","jpg","bmp","jpeg","mp3","mp4"],rt=(u={},g()(u,2020,["doc","docx"]),g()(u,2021,["pdf"]),g()(u,2024,["ppt","pptx"]),g()(u,2028,["xls","xlsx"]),g()(u,2022,["jpg","jpeg","png","bmp"]),g()(u,2004,["mp4"]),g()(u,2023,["mp3"]),u),at={0:"全部",1:"容易",2:"较易",3:"中等",4:"较难",5:"困难"},it={1012:"听力短对话",1014:"听力长对话",1017:"单选题",1047:"完形填空",1020:"仔细阅读",1034:"七选五",1045:"短文填词",1083:"完成句子",1019:"作文",2e3:"选择题",2002:"填空题",2006:"解答题",7100:"选择题",7110:"填空题",7120:"解答题",7200:"选择题",7210:"填空题",7220:"解答题",7e3:"选择题",7010:"填空题",7020:"解答题",8e3:"选择题",8010:"阅读题",8020:"材料题",8030:"写作",8100:"选择题",8110:"阅读题",8120:"材料题",8200:"选择题",8210:"阅读题",8220:"材料题",8300:"选择题",8310:"阅读题",8320:"材料题"},ot={1012:1.5,1014:1.5,1017:2,1047:1.5,1020:2,1034:2,1045:1.5,1083:2,1019:25,2e3:5,2002:5,2006:10,7100:5,7110:5,7120:10,7200:5,7210:5,7220:10,7e3:5,7010:5,7020:10,8e3:3,8010:10,8020:10,8030:60,8100:5,8110:10,8120:10,8200:5,8210:10,8220:10,8300:5,8310:10,8320:10},ut=(c={},g()(c,1,[1012,1014,1017,1047,1020,1034,1045,1083,1019]),g()(c,2,[2e3,2002,2006]),g()(c,5,[7100,7110,7120]),g()(c,4,[7200,7210,7220]),g()(c,9,[7e3,7010,7020]),g()(c,3,[8e3,8010,8020,8030]),g()(c,7,[8100,8110,8120]),g()(c,6,[8200,8210,8220]),g()(c,8,[8300,8310,8320]),c),ct=3,dt=2,lt=1,ft=(d={},g()(d,ct,"课前预习"),g()(d,dt,"上课课件"),g()(d,lt,"课后练习"),d),pt=1,vt=2,mt=(l={},g()(l,pt,"六三制"),g()(l,vt,"五四制"),l),gt="oss-cn-beijing",ht="oss-cn-beijing.aliyuncs.com",_t="padmedia",bt="http://"+_t+"."+ht+"/",xt={doc:"page-document",docx:"page-document",ppt:"page-document",pptx:"page-document",pdf:"page-document",jpg:"page-image",jpeg:"page-image",bmp:"page-image",png:"page-image",mp3:"page-audio",mp4:"page-video",xls:"page-document",xlsx:"page-document"},yt={0:"全部",1:"教案",2:"素材",3:"课件",4:"习题",5:"拓展",6:"微课"},kt=[1,2,3,4,5,6,7,8,9,10,11,13],wt=1,Ct=2,jt=10,It=(f={},g()(f,wt,"正常"),g()(f,Ct,"已删除"),g()(f,jt,"已归档"),f),Dt=1,St=3,$t=10,Lt=(p={},g()(p,Dt,"正常"),g()(p,2,"已毕业"),g()(p,St,"已删除"),g()(p,$t,"已归档"),p),Pt=0,Tt=3,Mt=(v={},g()(v,1,"已发送"),g()(v,Tt,"定时，待发送"),v),Ot=2060,At=2061,Rt=2050,Et={0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六",7:"周日"}},907:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(42),r=n.n(s),a=n(49),i=n.n(a),o=n(26),u=n.n(o),c=n(281),d=n.n(c),l=n(9),f={0:{text:"上课中",color:"#F56C6C"},1:{text:"可回看",color:"#67C23A"},2:{text:"已结束",color:"#909399"},3:{text:"未开课",color:"#909399"}};e.default={data:function(){return{statusMap:f,title:"",lessons:[],subjectIds:[],lessonDates:[],selectSubject:0,selectDate:0,selectId:null,loading:!1}},methods:{lessonsStatusJudge:function(t){var e=t.startTime,n=t.videoSeconds,s=t.playbackMethod,r=t.playbackAbsoluteDate,a=t.playbackRelativeDays,i=d()(),o=i.isBefore(d()(e)),u=i.isSame(d()(e)),c=i.isAfter(d()(e)),l=i.isBefore(d()(e).add(n,"second"));return o?3:u||c&&l?0:1===s&&i.isAfter(d()(r))?1:2===s&&i.isAfter(d()(e).add(a,"day"))?1:2},updateLessons:function(t){var e=this;this.lessons=t.map(function(t){return u()(t,{status:e.lessonsStatusJudge(t)})})},getLessons:function(t,e){var n=this,s=e.date,r=void 0===s?0:s,a=e.subjectId,i=void 0===a?0:a;this.$api.getLessons(t,{date:r,subjectId:i}).then(function(t){var e=t.data;e.lessons?n.updateLessons(e.lessons):n.$message({type:"error",message:e.detail})}),this.loading=!1},getCourseDetail:function(t){var e=this,n=t.id;this.$api.getCourseDetail({id:n}).then(function(t){var n=t.data.title;e.title=n})},handleItemClick:function(t){var e=t.id,n=t.status;return 3===n?this.$message({type:"error",message:"还未开课"}):2===n?this.$message({type:"error",message:"还没到回看时间"}):void(this.selectId=e)},autoSelectInClass:function(){var t=this.lessons.find(function(t){return 0===t.status});t&&null===this.selectId&&(this.selectId=t.id)}},mounted:function(){var t=this;return i()(r.a.mark(function e(){var n,s,a,i,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,n=t.id,t.getCourseDetail({id:n}),e.next=5,t.$api.getCourseSubjects({id:n});case 5:return s=e.sent,a=s.data.subjectIds,e.next=9,t.$api.getCourseDates({id:n});case 9:i=e.sent,o=i.data.lessonDates,t.subjectIds=a,t.lessonDates=o,t.getLessons(n,{});case 14:case"end":return e.stop()}},e,t)}))()},computed:{id:function(){return this.$route.query.id},subjects:function(){return[{label:"全部学科",value:0}].concat(this.subjectIds.map(function(t){return{label:u()(l.a,{99:"综合"})[t],value:t}}))},dates:function(){return[{label:"全部日期",value:0}].concat(this.lessonDates.map(function(t){return{label:t,value:t}}))},selectItem:function(){var t=this;return this.lessons.find(function(e){return e.id===t.selectId})}},watch:{selectSubject:function(t){this.getLessons(this.id,{subjectId:t,date:this.selectDate})},selectDate:function(t){this.getLessons(this.id,{subjectId:this.selectSubject,date:t})},lessons:function(t,e){var n=this;!e.length&&t.length&&(this.autoSelectInClass(),window.setInterval(function(){n.updateLessons(n.lessons),n.autoSelectInClass()},1e3))},selectId:function(){var t=this;this.$nextTick(function(){if(t.selectItem){var e=window.document.querySelector(".video-container"),n=e.offsetTop;window.scrollTo(0,n)}})}}}},908:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{username:""}},mounted:function(){var t=this;this.$api.getStudentInfo().then(function(e){var n=e.data.username;t.username=n})},methods:{toHome:function(){this.$router.push("/list")},logout:function(){window.localStorage.removeItem("accessToken"),this.$router.push("/login")}}}},909:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{courses:[],loading:!1}},methods:{handleClick:function(t){this.$router.push({path:"/detail",query:{id:t}})},getPlaybackDate:function(t){var e=t.playbackMethod,n=t.playbackAbsoluteDate,s=t.playbackRelativeDays;return 1===e?n:2===e?"播放"+s+"天后":void 0}},mounted:function(){var t=this;this.loading=!0,this.$api.getCourses({filterKind:"mine"}).then(function(e){var n=e.data.courses;t.courses=n,t.loading=!1})}}},910:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),r=n.n(s),a=n(34),i=n.n(a);e.default={data:function(){return{form:{username:"",password:""},loading:!1}},methods:{login:function(){var t=this;if(!this.loginDisabled){this.loading=!0;var e=this.form,n=e.username,s=e.password;this.$api.userLogin({grant_type:"password",username:n,password:s}).then(function(e){var n=e.data;window.localStorage.setItem("accessToken",i()(r()({},n,{login_time:new Date}))),t.$router.push("/list"),t.loading=!1}).catch(function(e){var n=e.response;t.form.password="",t.$message({type:"error",message:n.data&&n.data.error?n.data.error:"登录失败"}),t.loading=!1})}}},computed:{loginDisabled:function(){var t=this.form,e=t.username,n=t.password;return!e.trim().length||!n.trim().length}}}},949:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(42),r=n.n(s),a=n(49),i=n.n(a),o=n(8),u=n.n(o),c=n(34),d=n.n(c),l=n(84),f=(n.n(l),n(5)),p=(n.n(f),n(205)),v=n.n(p),m=n(297),g=(n.n(m),n(343)),h=n.n(g),_=n(298),b=(n.n(_),n(319)),x=n.n(b),y=n(300),k=(n.n(y),n(320)),w=n.n(k),C=n(292),j=(n.n(C),n(338)),I=n.n(j),D=n(291),S=(n.n(D),n(290)),$=n.n(S),L=n(295),P=(n.n(L),n(341)),T=n.n(P),M=n(397),O=(n.n(M),n(282)),A=n.n(O),R=n(296),E=(n.n(R),n(342)),F=n.n(E),N=n(28),J=n(45),q=n(281),B=n.n(q),z=n(711),H=n.n(z),K=n(710),V=n.n(K),W=n(708),G=n.n(W),Q=n(709),U=n.n(Q),X=n(635),Y=(n.n(X),n(584)),Z=this;N.default.use(J.a),N.default.use(F.a),N.default.use(A.a),N.default.use(T.a),N.default.use($.a),N.default.use(I.a),N.default.use(w.a),N.default.use(x.a),N.default.use(h.a.directive),N.default.prototype.$message=v.a,N.default.prototype.$api=new Y.a;var tt=new J.a({mode:"history",base:"/pad/woke-course",routes:[{path:"/login",component:H.a},{path:"/list",component:V.a},{path:"/detail",component:G.a},{path:"/",redirect:"/list"}],linkActiveClass:"active"}),et=function(t,e){(new Y.a).userLogin({refresh_token:t,grant_type:"refresh_token"}).then(function(t){var e=t.data;window.localStorage.setItem("accessToken",d()(u()({},e,{login_time:new Date})))}).catch(function(){e("/login")})};tt.beforeEach(function(t,e,n){var s=window.localStorage.accessToken,r=void 0===s?"{}":s,a=JSON.parse(r);if("/login"!==t.path){if(!a.expires_in)return n("/login");!B()().isBefore(B()(a.login_time).add(a.expires_in,"second"))&&et(a.refresh_token,n)}n()}),i()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.next=3;break;case 3:new N.default({delimiters:["${","}"],el:"#app",router:tt,data:{},components:{VHeader:U.a}});case 4:case"end":return t.stop()}},t,Z)}))()}},[949]);
//# sourceMappingURL=woke-course.6e55c055f3619c43faaa.js.map
webpackJsonp([12],{100:function(t,e){},101:function(t,e){},102:function(t,e){},103:function(t,e){},104:function(t,e){},1045:function(t,e){},1046:function(t,e){},1047:function(t,e){},1049:function(t,e){},105:function(t,e){},106:function(t,e){},1065:function(t,e){},107:function(t,e){},1081:function(t,e){},1084:function(t,e){},1085:function(t,e){},1086:function(t,e){},1087:function(t,e){},1097:function(t,e){},11:function(t,e){},110:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"subjective-result"},[t.studentResult?s("sketch-pad",{key:"single-"+t.studentResult.images[0].id,attrs:{result:t.studentResult,studentName:t.student.name,question:t.question,canClose:!1}}):s("p",{staticClass:"section-label text-danger"},[t._v("学生未作答")])],1)},staticRenderFns:[]}},1105:function(t,e){},1108:function(t,e){},111:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.options&&t.options.length?s("div",{staticClass:"circular-chart"},[s("svg",{attrs:{version:"1.1",baseProfile:"full",height:40,width:32*this.options.length,viewBox:t.viewBoxVal,xmlns:"http://www.w3.org/2000/svg"}},t._l(t.options,function(e,n){return s("g",{key:e.id,class:t.genOptionClasses(e)},[s("circle",{attrs:{cx:18+40*n,cy:"18",r:"15.9155",stroke:"#bbb","stroke-width":".5",fill:"none"}}),t._v(" "),s("path",{attrs:{d:"M"+(18+40*n)+" 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none","stroke-width":"3","stroke-dasharray":Math.round(100*e.sids.length/t.totalStuCount)+", 100"}}),t._v(" "),s("text",{staticClass:"seq-label",attrs:{x:18+40*n,y:"18",dx:"0",dy:"6","text-anchor":"middle",fill:"#666","font-size":"18"}},[t._v(" "+t._s(e.seqLabel)+" ")]),t._v(" "),s("text",{attrs:{x:18+40*n,y:"36",dx:"0",dy:"14","text-anchor":"middle",fill:"#666","font-size":"12"}},[t._v(" "+t._s(e.sids.length)+"人 ")])])}))]):t._e()},staticRenderFns:[]}},1111:function(t,e){},1118:function(t,e){},112:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.question&&t.question.hasReport&&t.allStudents?n("page-modal",{staticClass:"modal-large",on:{close:function(e){t.$emit("close")}}},[n("div",{staticClass:"modal-blank-results",attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"header"},[n("h3",{staticClass:"title"},[t._v("作答详情")]),t._v(" "),n("span",{staticClass:"text-small"},[t._v(t._s(t.stuWrongCount)+"人错误，"+t._s(t.stuCorrectCount)+"人正确，"+t._s(t.totalStuCount-t.stuWrongCount-t.stuCorrectCount)+"人未作答")])]),t._v(" "),n("div",{staticClass:"section"},[t.question.wrongResults.length?[n("h4",{staticClass:"title"},[t._v("错误学生："+t._s(t.question.wrongResults.length)+"人")]),t._v(" "),n("table",[n("tbody",t._l(t.question.wrongResults,function(e){return n("tr",[n("td",{staticClass:"s-name"},[n("span",[t._v(t._s(t.allStudents[e.sid].name))])]),t._v(" "),n("td",{staticClass:"s-answer"},[t._v(t._s(e.answer))])])}))])]:t._e(),t._v(" "),t.question.correctSids.length?[n("h4",{staticClass:"title"},[t._v("正确学生："+t._s(t.question.correctSids.length)+"人")]),t._v(" "),n("student-labels",{attrs:{allStudents:t.allStudents,orderedSids:t.question.correctSids}})]:t._e(),t._v(" "),t.question.correctSids.length||t.question.wrongResults.length?t._e():n("div",{staticClass:"content-empty"},[n("img",{attrs:{src:s(30)}}),t._v(" "),n("p",[t._v("本题还没有人作答")])])],2)])]):t._e()},staticRenderFns:[]}},1122:function(t,e){},1128:function(t,e){},113:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.blankQuestion?s("div",{staticClass:"bar-chart blank-chart"},[s("svg",{staticClass:"correct",attrs:{version:"1.1",baseProfile:"full",viewBox:"0 0 165 20",xmlns:"http://www.w3.org/2000/svg"}},[s("text",{staticClass:"seq-label",attrs:{x:"0",y:"10",dx:"0",dy:"4","text-anchor":"start","font-size":"14"}},[t._v("对")]),t._v(" "),s("rect",{staticClass:"progress-base",attrs:{x:"30",y:"5",width:"95",height:"8",rx:"4",ry:"4"}}),t._v(" "),t.totalStuCount?s("rect",{staticClass:"progress",attrs:{x:"30",y:"5",width:Math.round(95*t.blankCorrectRate),height:"8",rx:"4",ry:"4"}}):t._e(),t._v(" "),s("text",{attrs:{x:"128",y:"14","font-size":"13","text-anchor":"start",fill:"#666"}},[t._v(t._s(t.blankQuestion.correctSids.length)+"人")])]),t._v(" "),s("svg",{staticClass:"wrong",attrs:{version:"1.1",baseProfile:"full",viewBox:"0 0 165 20",xmlns:"http://www.w3.org/2000/svg"}},[s("text",{staticClass:"seq-label",attrs:{x:"0",y:"10",dx:"0",dy:"4","text-anchor":"start","font-size":"14"}},[t._v("错")]),t._v(" "),s("rect",{staticClass:"progress-base",attrs:{x:"30",y:"5",width:"95",height:"8",rx:"4",ry:"4"}}),t._v(" "),t.totalStuCount?s("rect",{staticClass:"progress",attrs:{x:"30",y:"5",width:Math.round(95*t.blankWrongRate),height:"8",rx:"4",ry:"4"}}):t._e(),t._v(" "),s("text",{attrs:{x:"128",y:"14","font-size":"12","text-anchor":"start",fill:"#666"}},[t._v(t._s(t.blankQuestion.wrongResults.length)+"人")])])]):s("div",{staticClass:"bar-chart choice-chart"},t._l(t.options,function(e){return s("svg",{key:e.id,class:e.isAnswer?"correct":"wrong",attrs:{version:"1.1",baseProfile:"full",viewBox:"0 0 160 25",xmlns:"http://www.w3.org/2000/svg"}},[e.multiAnswer?s("rect",{staticClass:"option-label",attrs:{cx:"10",cy:"10",width:"20",height:"20",fill:"green"}}):s("circle",{staticClass:"option-label",attrs:{cx:"10",cy:"10",r:"10",fill:"green"}}),t._v(" "),s("text",{staticClass:"seq-label",attrs:{x:"10",y:"10",dx:"0",dy:"4","text-anchor":"middle","font-size":"14"}},[t._v("\n      "+t._s(e.seqLabel)+"\n    ")]),t._v(" "),s("rect",{staticClass:"progress-base",attrs:{x:"23",y:"5",width:"100",height:"8",rx:"4",ry:"4"}}),t._v(" "),t.totalStuCount?s("rect",{staticClass:"progress",attrs:{x:"23",y:"5",width:Math.round(100*e.sids.length/t.totalStuCount),height:"8",rx:"4",ry:"4"}}):t._e(),t._v(" "),s("text",{attrs:{x:"128",y:"14","font-size":"12","text-anchor":"start",fill:"#666"}},[t._v(t._s(e.sids.length)+"人")])])}))},staticRenderFns:[]}},1131:function(t,e){},114:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loader"},[s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"line"})])}]}},115:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"page-modal modal-mask",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.clickModalMask()}}},[t.showCloseIcon?s("button",{staticClass:"ui tiny icon dismiss-modal button",on:{click:function(e){t.$emit("close")}}},[s("icon",{attrs:{name:"slim-remove"}})],1):t._e(),t._v(" "),s("div",{staticClass:"modal-container"},[t._t("content")],2)])])},staticRenderFns:[]}},1153:function(t,e){},116:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.question&&t.question.hasReport&&t.allStudents?n("page-modal",{staticClass:"modal-large",on:{close:function(e){t.$emit("close")}}},[n("div",{staticClass:"modal-objective-results",attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"header"},[n("h3",{staticClass:"title"},[t._v("作答详情")]),t._v(" "),n("span",{staticClass:"text-small"},[t._v("\n        "+t._s(t.wrongSids.size)+"人错误，"+t._s(t.rightSids.size)+"人正确，"+t._s(t.unansweredSids.size)+"人未作答\n      ")])]),t._v(" "),n("div",{staticClass:"section"},[t._l(t.question.options,function(e){return e.sids.length?[n("h4",{staticClass:"title"},[t._v("选 "),n("span",{class:e.isAnswer&&"option-correct"||"option-wrong"},[t._v(t._s(e.seqLabel))]),t._v(" "),n("span",{staticClass:"text-muted"},[t._v(t._s(e.sids.length)+"人 /"+t._s(Math.round(100*e.sids.length/t.totalStuCount))+"%")])]),t._v(" "),n("student-labels",{attrs:{allStudents:t.allStudents,orderedSids:e.sids}})]:t._e()}),t._v(" "),t.answeredSids.size?t._e():n("div",{staticClass:"content-empty"},[n("img",{attrs:{src:s(30)}}),t._v(" "),n("p",[t._v("本题还没有人作答")])])],2)])]):t._e()},staticRenderFns:[]}},1162:function(t,e){},1164:function(t,e){},1167:function(t,e){},1168:function(t,e){},117:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"student-labels",class:t.active?"":"inactive"},[null!==t.orderedSids?t._l(t.orderedSids,function(e){return s("div",{staticClass:"student-label",attrs:{title:t.allStudents[e].name}},[t._v("\n      "+t._s(t.allStudents[e].name)+"\n    ")])}):null!==t.orderedStudents?t._l(t.orderedStudents,function(e){return s("div",{staticClass:"student-label",attrs:{title:e.name}},[t._v("\n      "+t._s(e.name)+"\n    ")])}):null!==t.orderedResults&&null!==t.allStudents?t._l(t.orderedResults,function(e){return s("div",{staticClass:"student-label",class:t.selectedItem===e?"selected":"clickable",attrs:{title:t.allStudents[e.sid].name},on:{click:function(s){t.$emit("selected",e)}}},[t._v("\n      "+t._s(t.allStudents[e.sid].name)+"\n    ")])}):null!==t.orderedResults?t._l(t.orderedResults,function(e){return s("div",{staticClass:"student-label",class:t.selectedItem===e?"selected":"clickable",attrs:{title:e.name},on:{click:function(s){t.$emit("selected",e)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}):t._e()],2)},staticRenderFns:[]}},1175:function(t,e){},1176:function(t,e){},1178:function(t,e){},1179:function(t,e){},118:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.allStudents?s("div",{staticClass:"inline-subjective-result"},[t.viewStudentResult?s("sketch-pad",{key:t.viewStudentResult.images[0].id,attrs:{result:t.viewStudentResult,studentName:t.allStudents[t.viewStudentResult.sid].name,question:t.question,"fixed-top":!0},on:{"update:result":function(e){t.viewStudentResult=e},close:t.toggleResultViewer,succeed:t.jumpToNextUnReviewed}}):t._e(),t._v(" "),t.unreviewResults.length?[t._m(0),t._v(" "),s("student-labels",{attrs:{allStudents:t.allStudents,orderedResults:t.unreviewResults,selectedItem:t.viewStudentResult},on:{selected:t.toggleResultViewer}})]:t._e(),t._v(" "),t.reviewResults.length?[t._m(1),t._v(" "),s("student-labels",{attrs:{allStudents:t.allStudents,orderedResults:t.reviewResults,selectedItem:t.viewStudentResult},on:{selected:t.toggleResultViewer}})]:t._e(),t._v(" "),t.question.unansweredSids.length?[s("h3",{staticClass:"ui header"},[t._v("提交未作答")]),t._v(" "),s("student-labels",{attrs:{allStudents:t.allStudents,orderedSids:t.question.unansweredSids,active:!1}})]:t._e(),t._v(" "),t.unsubmitedSids.length?[s("h3",{staticClass:"ui header"},[t._v("未提交")]),t._v(" "),s("student-labels",{attrs:{allStudents:t.allStudents,orderedSids:t.unsubmitedSids,active:!1}})]:t._e()],2):t._e()},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h3",{staticClass:"ui header red"},[t._v("未批改"),s("span",{staticClass:"note"},[t._v(" 点击标签批改，分数框输入回车直接提交。")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h3",{staticClass:"ui header"},[t._v("已批改"),s("span",{staticClass:"note"},[t._v(" 点击标签查看详情")])])}]}},1194:function(t,e){},12:function(t,e,s){function n(t){s(105)}var i=s(0)(s(92),s(116),n,"data-v-abe1cf5e",null);t.exports=i.exports},1202:function(t,e){},1204:function(t,e){},1205:function(t,e){},121:function(t,e,s){"use strict";s.d(e,"b",function(){return g}),s.d(e,"a",function(){return w});var n=s(26),i=s.n(n),a=s(4),o=s.n(a),r=s(20),l=s.n(r),u=s(1),c=s.n(u),d=s(15),p=s.n(d),v=s(3),h=s.n(v),f=s(17),m=s.n(f),_=s(16),y=s.n(_),b=s(21),q=s(6),g=function(t){function e(t){h()(this,e);var s=m()(this,(e.__proto__||p()(e)).call(this,t));if(s.kind=q.l,s.analysisRich=t.analysisRich||{},s.answerSeq=t.answerSeq||0,s.options=[],t.options){var n=!0,i=!1,a=void 0;try{for(var o,r=c()(t.options);!(n=(o=r.next()).done);n=!0){var l=o.value;l.vkey=s.increKey++,l.sourceAction=t.sourceAction,l.seq===s.answerSeq&&(l.isAnswer=!0),s.options.push(new b.a(l))}}catch(t){i=!0,a=t}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}}if(0===s.options.length&&s.onEdit){for(var u=0;u<4;u++)s.options.push(new b.a({seq:u,vkey:s.increKey++}));s.options[0].isAnswer=!0,s.answerSeq=0}return Object.defineProperty(s,"answerSeqLabel",{get:function(){return String.fromCharCode(65+s.answerSeq)}}),s.richtextPreparation(),s}return y()(e,t),e}(b.b),w=function(t){function e(t){h()(this,e);var s=m()(this,(e.__proto__||p()(e)).call(this,t,q.e));if(s.structureLevel=2,s.stemRich=t.stemRich||{},s.answerSeq=t.answerSeq||0,s.questions=[],t.questions){var n=!0,i=!1,a=void 0;try{for(var o,r=c()(t.questions);!(n=(o=r.next()).done);n=!0){var l=o.value;l.vkey=s.increKey++,l.sourceAction=t.sourceAction,s.questions.push(new g(l))}}catch(t){i=!0,a=t}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}}return 0===s.questions.length&&s.onEdit&&s.questions.push(new g({seq:1,vkey:s.increKey++,sourceAction:t.sourceAction})),s.windup(),s}return y()(e,t),o()(e,[{key:"validate",value:function(){var t=l()(e.prototype.__proto__||p()(e.prototype),"validate",this).call(this);if(t)return t;var s=!0,n=!1,i=void 0;try{for(var a,o=c()(this.questions);!(s=(a=o.next()).done);s=!0){if(t=a.value.validate())return t}}catch(t){n=!0,i=t}finally{try{!s&&o.return&&o.return()}finally{if(n)throw i}}}}]),e}(b.c);i()(w.prototype,b.d)},1217:function(t,e){},1218:function(t,e){},122:function(t,e,s){"use strict";s.d(e,"b",function(){return w}),s.d(e,"a",function(){return x});var n=s(26),i=s.n(n),a=s(4),o=s.n(a),r=s(20),l=s.n(r),u=s(1),c=s.n(u),d=s(15),p=s.n(d),v=s(3),h=s.n(v),f=s(17),m=s.n(f),_=s(16),y=s.n(_),b=s(9),q=s(21),g=s(6),w=function(t){function e(t){h()(this,e);var s=m()(this,(e.__proto__||p()(e)).call(this,t));if(s.kind=g.l,s.textRich=t.textRich||{},s.analysisRich=t.analysisRich||{},s.answerSeq=t.answerSeq||0,s.options=[],t.options){var n=!0,i=!1,a=void 0;try{for(var o,r=c()(t.options);!(n=(o=r.next()).done);n=!0){var l=o.value;l.vkey=s.increKey++,l.sourceAction=t.sourceAction,l.seq===s.answerSeq&&(l.isAnswer=!0),s.options.push(new q.a(l))}}catch(t){i=!0,a=t}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}}if(0===s.options.length&&s.onEdit){for(var u=0;u<4;u++)s.options.push(new q.a({seq:u,vkey:s.increKey++}));s.options[0].isAnswer=!0,s.answerSeq=0}return Object.defineProperty(s,"answerSeqLabel",{get:function(){return String.fromCharCode(65+this.answerSeq)}}),s.richtextPreparation(),s}return y()(e,t),e}(q.b),x=function(t){function e(t){h()(this,e);var s=m()(this,(e.__proto__||p()(e)).call(this,t,g.g));if(s.structureLevel=2,s.stemRich=t.stemRich||{},s.answerSeq=t.answerSeq||0,s.audioTextRich=t.audioTextRich||{},s.audioPath=t.audioPath||"",s.audioPathWrite=t.audioPath||"",s.questions=[],t.questions){var n=!0,i=!1,a=void 0;try{for(var o,r=c()(t.questions);!(n=(o=r.next()).done);n=!0){var l=o.value;l.vkey=s.increKey++,l.sourceAction=t.sourceAction,s.questions.push(new w(l))}}catch(t){i=!0,a=t}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}}return 0===s.questions.length&&s.onEdit&&s.questions.push(new w({seq:1,vkey:s.increKey++,sourceAction:t.sourceAction})),s.windup(),s}return y()(e,t),o()(e,[{key:"validate",value:function(){var t=l()(e.prototype.__proto__||p()(e.prototype),"validate",this).call(this);if(t)return t;var s=!0,n=!1,i=void 0;try{for(var a,o=c()(this.questions);!(s=(a=o.next()).done);s=!0){if(t=a.value.validate())return t}}catch(t){n=!0,i=t}finally{try{!s&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"audioUrl",get:function(){return this.audioPath?b.r+this.audioPath:""}}]),e}(q.c);i()(x.prototype,q.d)},123:function(t,e,s){"use strict";s.d(e,"b",function(){return q}),s.d(e,"a",function(){return g});var n=s(1),i=s.n(n),a=s(20),o=s.n(a),r=s(15),l=s.n(r),u=s(3),c=s.n(u),d=s(4),p=s.n(d),v=s(17),h=s.n(v),f=s(16),m=s.n(f),_=s(21),y=s(51),b=s(6),q=function(t){function e(t){c()(this,e);var n=h()(this,(e.__proto__||l()(e)).call(this,t));return n.kind=b.n,n.analysisRich=t.analysisRich||{},n.answerComposed=t.answerComposed||"",n.userAnswers={},s.i(y.b)(n),n}return m()(e,t),p()(e,[{key:"getUserAnswer",value:function(t){return t in this.userAnswers?this.userAnswers[t]:""}},{key:"isUserCorrect",value:function(t){return this.answers.includes(this.getUserAnswer(t))}},{key:"validate",value:function(){if(this.answerComposed=this.answers.join("$$"),this.answers.length<=0)return[!1,"请补全答案"]}},{key:"answers",get:function(){return this.answerComposed.split("$$").map(function(t){return t.trim()}).filter(function(t){return t.length>0})}}]),e}(_.b),g=function(t){function e(t){c()(this,e);var s=h()(this,(e.__proto__||l()(e)).call(this,t,b.d));if(s.structureLevel=2,s.stemRich=t.stemRich||{},s.questions=[],t.questions){var n=!0,a=!1,o=void 0;try{for(var r,u=i()(t.questions);!(n=(r=u.next()).done);n=!0){var d=r.value;d.vkey=s.increKey++,d.sourceAction=t.sourceAction,s.questions.push(new q(d))}}catch(t){a=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}}return s.windup(s),s}return m()(e,t),p()(e,[{key:"validate",value:function(){var t=o()(e.prototype.__proto__||l()(e.prototype),"validate",this).call(this);if(t)return t}},{key:"injectReportData",value:function(t){var e=!0,s=!1,n=void 0;try{for(var a,o=i()(this.questions);!(e=(a=o.next()).done);e=!0){var r=a.value,l=t[r.id];r.correctSids=[],r.wrongResults=[];var u=r.answers;for(var c in l){var d=l[c].trim();d&&(u.includes(d)?r.correctSids.push(c):r.wrongResults.push({sid:c,answer:d}),l[c]=d)}r.userAnswers=t[r.id],r.hasReport=!0}}catch(t){s=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw n}}this.hasReport=!0}}]),e}(_.c)},124:function(t,e,s){"use strict";function n(t){var e=T.k[t].kind;return A[e]}e.a=n;var i,a=s(32),o=s.n(a),r=s(173),l=s.n(r),u=s(169),c=s.n(u),d=s(171),p=s.n(d),v=s(165),h=s.n(v),f=s(172),m=s.n(f),_=s(167),y=s.n(_),b=s(170),q=s.n(b),g=s(166),w=s.n(g),x=s(175),C=s.n(x),k=s(168),S=s.n(k),T=s(6),A=(i={},o()(i,T.a,l.a),o()(i,T.b,c.a),o()(i,T.c,p.a),o()(i,T.d,q.a),o()(i,T.e,h.a),o()(i,T.f,m.a),o()(i,T.g,y.a),o()(i,T.h,w.a),o()(i,T.i,C.a),o()(i,T.j,S.a),i)},125:function(t,e,s){"use strict";s.d(e,"b",function(){return g}),s.d(e,"a",function(){return w});var n=s(26),i=s.n(n),a=s(4),o=s.n(a),r=s(20),l=s.n(r),u=s(1),c=s.n(u),d=s(15),p=s.n(d),v=s(3),h=s.n(v),f=s(17),m=s.n(f),_=s(16),y=s.n(_),b=s(21),q=s(6),g=function(t){function e(t){h()(this,e);var s=m()(this,(e.__proto__||p()(e)).call(this,t));if(s.kind=q.l,s.textRich=t.textRich||{},s.analysisRich=t.analysisRich||{},s.answerSeq=t.answerSeq||0,s.options=[],t.options){var n=!0,i=!1,a=void 0;try{for(var o,r=c()(t.options);!(n=(o=r.next()).done);n=!0){var l=o.value;l.vkey=s.increKey++,l.sourceAction=t.sourceAction,l.seq===s.answerSeq&&(l.isAnswer=!0),s.options.push(new b.a(l))}}catch(t){i=!0,a=t}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}}if(0===s.options.length&&s.onEdit){for(var u=0;u<4;u++)s.options.push(new b.a({seq:u,vkey:s.increKey++}));s.options[0].isAnswer=!0,s.answerSeq=0}return Object.defineProperty(s,"answerSeqLabel",{get:function(){return String.fromCharCode(65+this.answerSeq)}}),s.richtextPreparation(),s}return y()(e,t),e}(b.b),w=function(t){function e(t){h()(this,e);var s=m()(this,(e.__proto__||p()(e)).call(this,t,q.c));if(s.structureLevel=2,s.stemRich=t.stemRich||{},s.questions=[],t.questions){var n=!0,i=!1,a=void 0;try{for(var o,r=c()(t.questions);!(n=(o=r.next()).done);n=!0){var l=o.value;l.vkey=s.increKey++,l.sourceAction=t.sourceAction,s.questions.push(new g(l))}}catch(t){i=!0,a=t}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}}return 0===s.questions.length&&s.onEdit&&s.questions.push(new g({seq:1,vkey:s.increKey++,sourceAction:t.sourceAction})),s.windup(),s}return y()(e,t),o()(e,[{key:"validate",value:function(){var t=l()(e.prototype.__proto__||p()(e.prototype),"validate",this).call(this);if(t)return t;var s=!0,n=!1,i=void 0;try{for(var a,o=c()(this.questions);!(s=(a=o.next()).done);s=!0){if(t=a.value.validate())return t}}catch(t){n=!0,i=t}finally{try{!s&&o.return&&o.return()}finally{if(n)throw i}}}}]),e}(b.c);i()(w.prototype,b.d)},128:function(t,e,s){function n(t){s(1046),s(1047)}var i=s(0)(s(782),s(1452),n,"data-v-11ac071e",null);t.exports=i.exports},129:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(29),i=s.n(n),a=s(12),o=s.n(a),r=s(2),l=s.n(r),u=(s(13),s(22)),c=s.n(u),d=s(6);e.default={name:"preview-cloze",props:{question:{type:Object,required:!0,validate:function(t){return t.kind===d.e}},index:{type:Number,default:0},showDisplayName:{type:Boolean,default:!0},unfoldAnalysis:{type:Boolean,default:!1},showStat:{type:Boolean,required:!1,default:!1},showAnswer:{type:Boolean,default:!0},showUserAnswer:{type:Boolean,default:!1},studentId:{type:Number,default:null},answerSheetMode:{type:Boolean,default:!1},allStudents:{type:Object,required:!1,default:null}},data:function(){return{resultModalTarget:null}},components:{ToggleAnalysis:c.a,Icon:l.a,CircularChart:i.a,ModalObjectiveResults:o.a},mounted:function(){},methods:{optionClass:function(t){var e=["option"];if(this.showAnswer&&t.isAnswer&&e.push("option-correct"),this.showUserAnswer){e.push("with-user");var s=t.isUserAnswer(this.studentId);s&&e.push("user-answer"),!t.isAnswer&&s&&e.push("option-wrong")}return e.join(" ")}}}},13:function(t,e,s){"use strict";var n=s(2);s.n(n).a.register({"slim-remove":{width:1e3,height:1e3,paths:[{d:"M96.7403771,4.6593655 C90.6035336,-1.47747801 80.6626199,-1.47273636 74.5283261,4.66155745 L4.66155745,74.5283261 C-1.47857637,80.6684599 -1.47371773,90.6072939 4.6593655,96.7403771 L407.918988,500 L4.6593655,903.259623 C-1.47747801,909.396466 -1.47273636,919.33738 4.66155745,925.471674 L74.5283261,995.338443 C80.6684599,1001.47858 90.6072939,1001.47372 96.7403771,995.340634 L500,592.081012 L903.259623,995.340634 C909.396466,1001.47748 919.33738,1001.47274 925.471674,995.338443 L995.338443,925.471674 C1001.47858,919.33154 1001.47372,909.392706 995.340634,903.259623 L592.081012,500 L995.340634,96.7403771 C1001.47748,90.6035336 1001.47274,80.6626199 995.338443,74.5283261 L925.471674,4.66155745 C919.33154,-1.47857637 909.392706,-1.47371773 903.259623,4.6593655 L500,407.918988 L96.7403771,4.6593655 Z"}]}})},130:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(14),i=s.n(n),a=s(36),o=s.n(a),r=s(38),l=s.n(r),u=s(2),c=s.n(u),d=(s(13),s(6)),p=s(22),v=s.n(p);e.default={name:"preview-essay",props:{question:{type:Object,required:!0,validate:function(t){return t.kind===d.h}},index:{type:Number,default:0},showDisplayName:{type:Boolean,default:!0},unfoldAnalysis:{type:Boolean,default:!1},showStat:{type:Boolean,required:!1,default:!1},showAnswer:{type:Boolean,default:!0},showUserAnswer:{type:Boolean,default:!1},studentId:{type:Number,default:null},answerSheetMode:{type:Boolean,default:!1},allStudents:{type:Object,required:!1,default:null}},data:function(){return{}},components:{Icon:c.a,ToggleAnalysis:v.a,InlineSubjectiveResults:o.a,SubjectiveResult:l.a},mounted:function(){},computed:{totalStuCount:function(){return this.allStudents?i()(this.allStudents).length:0}}}},131:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(29),i=s.n(n),a=s(12),o=s.n(a),r=s(2),l=s.n(r),u=(s(13),s(22)),c=s.n(u),d=s(6);e.default={name:"preview-long-dialog",props:{question:{type:Object,required:!0,validate:function(t){return t.kind===d.g}},localAudioInstead:{type:Boolean,default:!1},index:{type:Number,default:0},showDisplayName:{type:Boolean,default:!0},unfoldAnalysis:{type:Boolean,default:!1},showStat:{type:Boolean,required:!1,default:!1},showAnswer:{type:Boolean,default:!0},showUserAnswer:{type:Boolean,default:!1},studentId:{type:Number,default:null},answerSheetMode:{type:Boolean,default:!1},allStudents:{type:Object,required:!1,default:null}},data:function(){return{resultModalTarget:null}},components:{Icon:l.a,ToggleAnalysis:c.a,CircularChart:i.a,ModalObjectiveResults:o.a},mounted:function(){},methods:{optionClass:function(t){var e=["option"];if(this.showAnswer&&t.isAnswer&&e.push("option-correct"),this.showUserAnswer){e.push("with-user");var s=t.isUserAnswer(this.studentId);s&&e.push("user-answer"),!t.isAnswer&&s&&e.push("option-wrong")}return e.join(" ")}}}},132:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(29),i=s.n(n),a=s(12),o=s.n(a),r=s(2),l=s.n(r),u=(s(13),s(6)),c=s(22),d=s.n(c);e.default={name:"preview-matching",props:{question:{type:Object,required:!0,validate:function(t){return t.kind===u.j}},index:{type:Number,default:0},showDisplayName:{type:Boolean,default:!0},unfoldAnalysis:{type:Boolean,default:!1},showStat:{type:Boolean,required:!1,default:!1},showAnswer:{type:Boolean,default:!0},showUserAnswer:{type:Boolean,default:!1},studentId:{type:Number,default:null},answerSheetMode:{type:Boolean,default:!1},allStudents:{type:Object,required:!1,default:null}},data:function(){return{resultModalTarget:null}},components:{ToggleAnalysis:d.a,Icon:l.a,CircularChart:i.a,ModalObjectiveResults:o.a}}},133:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(27),i=s.n(n),a=s(12),o=s.n(a),r=s(2),l=s.n(r),u=(s(13),s(6)),c=s(22),d=s.n(c);e.default={name:"preview-multi-choice",props:{question:{type:Object,required:!0,validate:function(t){return t.kind===u.b}},index:{type:Number,default:0},showDisplayName:{type:Boolean,default:!0},unfoldAnalysis:{type:Boolean,default:!1},showStat:{type:Boolean,required:!1,default:!1},showAnswer:{type:Boolean,default:!0},showUserAnswer:{type:Boolean,default:!1},studentId:{type:Number,default:null},answerSheetMode:{type:Boolean,default:!1},allStudents:{type:Object,required:!1,default:null}},data:function(){return{resultModalTarget:null}},components:{Icon:l.a,ToggleAnalysis:d.a,BarChart:i.a,ModalObjectiveResults:o.a},mounted:function(){},methods:{optionClass:function(t){var e=["option"];if(this.showAnswer&&t.isAnswer&&e.push("option-correct"),this.showUserAnswer){e.push("with-user");var s=t.isUserAnswer(this.studentId);s&&e.push("user-answer"),!t.isAnswer&&s&&e.push("option-wrong")}return e.join(" ")}}}},134:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(27),i=s.n(n),a=s(58),o=s.n(a),r=s(2),l=s.n(r),u=(s(13),s(22)),c=s.n(u),d=s(6);e.default={name:"preview-objective-blank",props:{question:{type:Object,required:!0,validate:function(t){return t.kind===d.d}},index:{type:Number,default:0},showDisplayName:{type:Boolean,default:!0},unfoldAnalysis:{type:Boolean,default:!1},showStat:{type:Boolean,required:!1,default:!1},showAnswer:{type:Boolean,default:!0},showUserAnswer:{type:Boolean,default:!1},studentId:{type:Number,default:null},answerSheetMode:{type:Boolean,default:!1},allStudents:{type:Object,required:!1,default:null}},data:function(){return{resultModalTarget:null}},components:{ToggleAnalysis:c.a,Icon:l.a,BarChart:i.a,ModalBlankResults:o.a}}},135:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(29),i=s.n(n),a=s(12),o=s.n(a),r=s(2),l=s.n(r),u=(s(13),s(22)),c=s.n(u),d=s(6);e.default={name:"preview-reading-choice",props:{question:{type:Object,required:!0,validate:function(t){return t.kind===d.c}},index:{type:Number,default:0},showDisplayName:{type:Boolean,default:!0},unfoldAnalysis:{type:Boolean,default:!1},showStat:{type:Boolean,required:!1,default:!1},showAnswer:{type:Boolean,default:!0},showUserAnswer:{type:Boolean,default:!1},studentId:{type:Number,default:null},answerSheetMode:{type:Boolean,default:!1},allStudents:{type:Object,required:!1,default:null}},data:function(){return{resultModalTarget:null}},components:{Icon:l.a,ToggleAnalysis:c.a,CircularChart:i.a,ModalObjectiveResults:o.a},mounted:function(){},methods:{optionClass:function(t){var e=["option"];if(this.showAnswer&&t.isAnswer&&e.push("option-correct"),this.showUserAnswer){e.push("with-user");var s=t.isUserAnswer(this.studentId);s&&e.push("user-answer"),!t.isAnswer&&s&&e.push("option-wrong")}return e.join(" ")}}}},136:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),i=s.n(n),a=s(27),o=s.n(a),r=s(12),l=s.n(r),u=(s(13),s(6)),c=s(22),d=s.n(c);e.default={name:"preview-short-dialog",props:{question:{type:Object,required:!0,validate:function(t){return t.kind===u.f}},localAudioInstead:{type:Boolean,default:!1},index:{type:Number,default:0},showDisplayName:{type:Boolean,default:!0},unfoldAnalysis:{type:Boolean,default:!1},showStat:{type:Boolean,required:!1,default:!1},showAnswer:{type:Boolean,default:!0},showUserAnswer:{type:Boolean,default:!1},studentId:{type:Number,default:null},answerSheetMode:{type:Boolean,default:!1},allStudents:{type:Object,required:!1,default:null}},data:function(){return{resultModalTarget:null}},components:{Icon:i.a,ToggleAnalysis:d.a,BarChart:o.a,ModalObjectiveResults:l.a},methods:{optionClass:function(t){var e=["option"];if(this.showAnswer&&t.isAnswer&&e.push("option-correct"),this.showUserAnswer){e.push("with-user");var s=t.isUserAnswer(this.studentId);s&&e.push("user-answer"),!t.isAnswer&&s&&e.push("option-wrong")}return e.join(" ")}}}},1363:function(t,e,s){function n(t){s(1128)}var i=s(0)(s(753),s(1529),n,null,null);t.exports=i.exports},1365:function(t,e,s){function n(t){s(1118)}var i=s(0)(s(756),s(1518),n,null,null);t.exports=i.exports},1366:function(t,e,s){function n(t){s(1202)}var i=s(0)(s(759),s(1597),n,null,null);t.exports=i.exports},137:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(27),i=s.n(n),a=s(12),o=s.n(a),r=s(2),l=s.n(r),u=(s(13),s(6)),c=s(22),d=s.n(c);e.default={name:"preview-single-choice",props:{question:{type:Object,required:!0,validate:function(t){return t.kind===u.a}},index:{type:Number,default:0},showDisplayName:{type:Boolean,default:!0},unfoldAnalysis:{type:Boolean,default:!1},showStat:{type:Boolean,required:!1,default:!1},showAnswer:{type:Boolean,default:!0},showUserAnswer:{type:Boolean,default:!1},studentId:{type:Number,default:null},answerSheetMode:{type:Boolean,default:!1},allStudents:{type:Object,required:!1,default:null}},data:function(){return{resultModalTarget:null}},components:{Icon:l.a,ToggleAnalysis:d.a,BarChart:i.a,ModalObjectiveResults:o.a},mounted:function(){},methods:{optionClass:function(t){var e=["option"];if(this.showAnswer&&t.isAnswer&&e.push("option-correct"),this.showUserAnswer){e.push("with-user");var s=t.isUserAnswer(this.studentId);s&&e.push("user-answer"),!t.isAnswer&&s&&e.push("option-wrong")}return e.join(" ")}}}},138:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"toggle-analysis",props:{question:{type:Object,required:!1},customSlot:{type:Boolean,required:!1,default:!1}},data:function(){return{}},computed:{hasMultiSubQ:function(){return this.question.questions.length>1}},methods:{toggleContent:function(){this.question&&(this.question.analysisFolded=!this.question.analysisFolded),$(this.$el.querySelector(".toggle-content")).slideToggle()}}}},139:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(27),i=s.n(n),a=s(12),o=s.n(a),r=s(2),l=s.n(r),u=(s(13),s(6)),c=s(22),d=s.n(c);e.default={name:"preview-true-false",props:{question:{type:Object,required:!0,validate:function(t){return t.kind===u.i}},index:{type:Number,default:0},showDisplayName:{type:Boolean,default:!0},unfoldAnalysis:{type:Boolean,default:!1},showStat:{type:Boolean,required:!1,default:!1},showAnswer:{type:Boolean,default:!0},showUserAnswer:{type:Boolean,default:!1},studentId:{type:Number,default:null},answerSheetMode:{type:Boolean,default:!1},allStudents:{type:Object,required:!1,default:null}},data:function(){return{resultModalTarget:null}},components:{Icon:l.a,ToggleAnalysis:d.a,BarChart:i.a,ModalObjectiveResults:o.a},mounted:function(){},methods:{optionClass:function(t){var e=["option"];if(this.showAnswer&&t.isAnswer&&e.push("option-correct"),this.showUserAnswer){e.push("with-user");var s=t.isUserAnswer(this.studentId);s&&e.push("user-answer"),!t.isAnswer&&s&&e.push("option-wrong")}return e.join(" ")}}}},140:function(t,e,s){"use strict";var n=s(3),i=s.n(n),a=function t(e,s,n){i()(this,t),this.id=e,this.name=s,this.avatar=n};e.a=a},141:function(t,e,s){"use strict";var n=s(1),i=s.n(n),a=s(15),o=s.n(a),r=s(3),l=s.n(r),u=s(4),c=s.n(u),d=s(17),p=s.n(d),v=s(20),h=s.n(v),f=s(16),m=s.n(f),_=s(54),y=s.n(_),b=s(21),q=s(6),g=function(t){function e(t){l()(this,e);var s=p()(this,(e.__proto__||o()(e)).call(this,t,q.h));return s.structureLevel=1,s.stemRich=t.stemRich||{},s.analysisRich=t.analysisRich||{},s.answerRich=t.answerRich||{},s.results=[],s.unansweredSids=[],s.windup(),s}return m()(e,t),c()(e,[{key:"validate",value:function(){return h()(e.prototype.__proto__||o()(e.prototype),"validate",this).call(this)}},{key:"injectReportData",value:function(t,e){this.results=[];var s=[],n=!0,a=!1,o=void 0;try{for(var r,l=i()(t);!(n=(r=l.next()).done);n=!0){var u=r.value;this.results.push(u),s.push(u.sid)}}catch(t){a=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}this.unansweredSids=y()(e,s),this.hasReport=!0}}]),e}(b.c);e.a=g},142:function(t,e,s){"use strict";s.d(e,"a",function(){return q});var n=s(26),i=s.n(n),a=s(1),o=s.n(a),r=s(15),l=s.n(r),u=s(3),c=s.n(u),d=s(4),p=s.n(d),v=s(17),h=s.n(v),f=s(16),m=s.n(f),_=s(21),y=s(6),b=function(t){function e(t,s){c()(this,e);var n=h()(this,(e.__proto__||l()(e)).call(this,t));if(n.kind=y.l,n.analysisRich=t.analysisRich||{},n.answerSeq=t.answerSeq,n.options=[],s){var i=!0,a=!1,r=void 0;try{for(var u,d=o()(s);!(i=(u=d.next()).done);i=!0){var p=u.value,v=new _.a(p);v.seq===n.answerSeq&&(v.isAnswer=!0),n.options.push(v)}}catch(t){a=!0,r=t}finally{try{!i&&d.return&&d.return()}finally{if(a)throw r}}}return Object.defineProperty(n,"answerSeqLabel",{get:function(){return String.fromCharCode(65+this.answerSeq)}}),n.richtextPreparation(),n}return m()(e,t),p()(e,[{key:"getUserAnswerOption",value:function(t){return this.options.find(function(e){return e.sids.includes(t)})}}]),e}(_.b),q=function(t){function e(t){c()(this,e);var s=h()(this,(e.__proto__||l()(e)).call(this,t,y.j));if(s.structureLevel=2,s.stemRich=t.stemRich||{},s.questions=[],t.questions){var n=s.onPreview&&t.options||[],i=!0,a=!1,r=void 0;try{for(var u,d=o()(t.questions);!(i=(u=d.next()).done);i=!0){var p=u.value;p.vkey=s.increKey++,p.sourceAction=t.sourceAction,s.questions.push(new b(p,n))}}catch(t){a=!0,r=t}finally{try{!i&&d.return&&d.return()}finally{if(a)throw r}}}if(0===s.questions.length&&s.onEdit)for(var v=1;v<=5;v++)s.questions.push(new b({seq:v,vkey:s.increKey++,sourceAction:t.sourceAction}));if(s.options=[],t.options){var f=!0,m=!1,q=void 0;try{for(var g,w=o()(t.options);!(f=(g=w.next()).done);f=!0){var x=g.value;x.vkey=s.increKey++,s.options.push(new _.a(x))}}catch(t){m=!0,q=t}finally{try{!f&&w.return&&w.return()}finally{if(m)throw q}}}if(0===s.options.length&&s.onEdit)for(var C=0;C<7;C++)s.options.push(new _.a({seq:C,vkey:s.increKey++}));return s.windup(),s}return m()(e,t),p()(e,[{key:"validate",value:function(){var t=this.commonInfoValidate();if(t)return t;if(this.stemEmpty)return[!0,"题干不能为空"];if(7!==this.options.length)return[!1,"选项个数不正确"];var e=!0,s=!1,n=void 0;try{for(var i,a=o()(this.options);!(e=(i=a.next()).done);e=!0){var r=i.value;if(r.seq<0||r.seq>=7)return[!1,"选项标签设置错误"];var l=r.validate();if(l)return l}}catch(t){s=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(s)throw n}}var u=[],c=!0,d=!1,p=void 0;try{for(var v,h=o()(this.questions);!(c=(v=h.next()).done);c=!0){var f=v.value;if(f.answerSeq<0||f.answerSeq>=7)return[!1,"第"+f.seq+"小题答案设置有问题"];if(u.includes(f.answerSeq))return[!1,"答案设置出现重复，请修正"];u.push(f.answerSeq)}}catch(t){d=!0,p=t}finally{try{!c&&h.return&&h.return()}finally{if(d)throw p}}}}]),e}(_.c);i()(q.prototype,_.d)},1425:function(t,e,s){function n(t){s(1164)}var i=s(0)(s(873),s(1564),n,"data-v-71e34857",null);t.exports=i.exports},1429:function(t,e,s){function n(t){s(1045)}var i=s(0)(s(912),s(1450),n,"data-v-102b2e13",null);t.exports=i.exports},143:function(t,e,s){"use strict";var n=s(26),i=s.n(n),a=s(8),o=s.n(a),r=s(1),l=s.n(r),u=s(15),c=s.n(u),d=s(3),p=s.n(d),v=s(4),h=s.n(v),f=s(17),m=s.n(f),_=s(20),y=s.n(_),b=s(16),q=s.n(b),g=s(21),w=s(6),x=function(t){function e(t){p()(this,e);var s=m()(this,(e.__proto__||c()(e)).call(this,t,w.b));if(s.structureLevel=1,s.stemRich=t.stemRich||{},s.analysisRich=t.analysisRich||{},s.options=[],t.options){var n=!0,i=!1,a=void 0;try{for(var r,u=l()(t.options);!(n=(r=u.next()).done);n=!0){var d=r.value;s.options.push(new g.a(o()({multiAnswer:!0,vkey:s.increKey++},d)))}}catch(t){i=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(i)throw a}}}if(0===s.options.length&&s.onEdit)for(var v=0;v<4;v++)s.options.push(new g.a({seq:v,vkey:s.increKey++}));return s.windup(),s}return q()(e,t),h()(e,[{key:"validate",value:function(){return y()(e.prototype.__proto__||c()(e.prototype),"validate",this).call(this)}},{key:"answerSeqComposed",get:function(){return this.options.filter(function(t){return t.isAnswer}).map(function(t){return String.fromCharCode(65+t.seq)}).join(" ")}}]),e}(g.c);i()(x.prototype,g.d),e.a=x},1430:function(t,e,s){function n(t){s(1097)}var i=s(0)(s(913),s(1497),n,"data-v-3ea9b862",null);t.exports=i.exports},1431:function(t,e,s){function n(t){s(1081)}var i=s(0)(s(915),s(1482),n,"data-v-2f3727e4",null);t.exports=i.exports},1432:function(t,e,s){function n(t){s(1153)}var i=s(0)(s(916),s(1552),n,"data-v-6a1d848a",null);t.exports=i.exports},1433:function(t,e,s){function n(t){s(1105)}var i=s(0)(s(917),s(1504),n,"data-v-45c47c08",null);t.exports=i.exports},1434:function(t,e,s){function n(t){s(1111)}var i=s(0)(s(918),s(1510),n,"data-v-4a2cff34",null);t.exports=i.exports},1435:function(t,e,s){var n=s(0)(s(919),s(1519),null,null,null);t.exports=n.exports},1436:function(t,e,s){function n(t){s(1122)}var i=s(0)(s(921),s(1522),n,"data-v-51530641",null);t.exports=i.exports},1437:function(t,e,s){function n(t){s(1194)}var i=s(0)(s(922),s(1586),n,"data-v-a3a0a790",null);t.exports=i.exports},1438:function(t,e,s){function n(t){s(1167)}var i=s(0)(s(923),s(1567),n,"data-v-730db0d7",null);t.exports=i.exports},1439:function(t,e,s){function n(t){s(1162)}var i=s(0)(s(924),s(1562),n,"data-v-6ef88ce3",null);t.exports=i.exports},144:function(t,e,s){"use strict";var n=s(26),i=s.n(n),a=s(1),o=s.n(a),r=s(15),l=s.n(r),u=s(3),c=s.n(u),d=s(4),p=s.n(d),v=s(17),h=s.n(v),f=s(20),m=s.n(f),_=s(16),y=s.n(_),b=s(9),q=s(21),g=s(6),w=function(t){function e(t){c()(this,e);var s=h()(this,(e.__proto__||l()(e)).call(this,t,g.f));if(s.structureLevel=1,s.stemRich=t.stemRich||{},s.analysisRich=t.analysisRich||{},s.answerSeq=t.answerSeq||0,s.audioTextRich=t.audioTextRich||{},s.audioPath=t.audioPath||"",s.audioPathWrite=t.audioPath||"",s.options=[],t.options){var n=!0,i=!1,a=void 0;try{for(var r,u=o()(t.options);!(n=(r=u.next()).done);n=!0){var d=r.value;d.vkey=s.increKey++,d.sourceAction=t.sourceAction,d.seq===s.answerSeq&&(d.isAnswer=!0),s.options.push(new q.a(d))}}catch(t){i=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(i)throw a}}}if(0===s.options.length&&s.onEdit){for(var p=0;p<4;p++)s.options.push(new q.a({seq:p,vkey:s.increKey++}));s.options[0].isAnswer=!0,s.answerSeq=0}return Object.defineProperty(s,"answerSeqLabel",{get:function(){return String.fromCharCode(65+this.answerSeq)}}),s.windup(),s}return y()(e,t),p()(e,[{key:"validate",value:function(){return m()(e.prototype.__proto__||l()(e.prototype),"validate",this).call(this)}},{key:"audioUrl",get:function(){return this.audioPath?b.r+this.audioPath:""}}]),e}(q.c);i()(w.prototype,q.d),e.a=w},145:function(t,e,s){"use strict";var n=s(26),i=s.n(n),a=s(1),o=s.n(a),r=s(15),l=s.n(r),u=s(3),c=s.n(u),d=s(4),p=s.n(d),v=s(17),h=s.n(v),f=s(20),m=s.n(f),_=s(16),y=s.n(_),b=s(21),q=s(6),g=function(t){function e(t){c()(this,e);var s=h()(this,(e.__proto__||l()(e)).call(this,t,q.a));if(s.structureLevel=1,s.stemRich=t.stemRich||{},s.analysisRich=t.analysisRich||{},s.answerSeq=t.answerSeq||0,s.options=[],t.options){var n=!0,i=!1,a=void 0;try{for(var r,u=o()(t.options);!(n=(r=u.next()).done);n=!0){var d=r.value;d.vkey=s.increKey++,d.sourceAction=t.sourceAction,d.seq===s.answerSeq&&(d.isAnswer=!0),s.options.push(new b.a(d))}}catch(t){i=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(i)throw a}}}if(0===s.options.length&&s.onEdit){for(var p=0;p<4;p++)s.options.push(new b.a({seq:p,vkey:s.increKey++}));s.options[0].isAnswer=!0,s.answerSeq=0}return Object.defineProperty(s,"answerSeqLabel",{get:function(){return String.fromCharCode(65+this.answerSeq)}}),s.windup(),s}return y()(e,t),p()(e,[{key:"validate",value:function(){return m()(e.prototype.__proto__||l()(e.prototype),"validate",this).call(this)}}]),e}(b.c);i()(g.prototype,b.d),e.a=g},1450:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"checkbox-options"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("选项")]),t._v(" "),s("div",{staticClass:"qrow-content"},[t._l(t.options,function(e,n){return s("div",{key:"option-"+e.vkey,staticClass:"d-flex"},[s("span",{staticClass:"ui checkbox",on:{click:function(s){t.toggleAnswer(e)}}},[s("input",{attrs:{type:"checkbox"},domProps:{checked:e.isAnswer}}),t._v(" "),s("label",[t._v(t._s(e.seqLabel))])]),t._v(" "),s("text-editor",{staticClass:"flex-1",attrs:{nRow:1},model:{value:e.textRich,callback:function(s){t.$set(e,"textRich",s)},expression:"option.textRich"}}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.canRemoveOption,expression:"canRemoveOption"}],staticClass:"minus red circle icon",on:{click:function(s){t.removeOption(e)}}})],1)}),t._v(" "),t.canAddOption?s("span",{staticClass:"ui tiny basic primary button add-option",on:{click:function(e){t.addNewOption()}}},[t._v("增加选项")]):t._e()],2)])])},staticRenderFns:[]}},1452:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-editor"},[s("div",{staticClass:"editor-wrapper",style:"height: "+1.5*t.nRow+"em;"}),t._v(" "),t.openFormulaEditor?s("formula-editor",{on:{close:function(e){t.openFormulaEditor=!1},updateFormula:function(e){return t.insertOrUpdateFormula(e)}}}):t._e()],1)},staticRenderFns:[]}},1454:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"radio-options"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("选项")]),t._v(" "),s("div",{staticClass:"qrow-content"},[t._l(t.options,function(e,n){return s("div",{key:"option-"+e.vkey,staticClass:"d-flex"},[s("span",{staticClass:"ui radio checkbox",on:{click:function(s){t.setAnswer(e)}}},[s("input",{attrs:{type:"radio"},domProps:{checked:e.isAnswer}}),t._v(" "),s("label",[t._v(t._s(e.seqLabel))])]),t._v(" "),s("text-editor",{staticClass:"flex-1",attrs:{nRow:1},model:{value:e.textRich,callback:function(s){t.$set(e,"textRich",s)},expression:"option.textRich"}}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.canRemoveOption,expression:"canRemoveOption"}],staticClass:"minus red circle icon",on:{click:function(s){t.removeOption(e)}}})],1)}),t._v(" "),t.canAddOption?s("span",{staticClass:"ui tiny basic primary button add-option",on:{click:function(e){t.addNewOption()}}},[t._v("增加选项")]):t._e()],2)])])},staticRenderFns:[]}},146:function(t,e,s){"use strict";var n=s(26),i=s.n(n),a=s(15),o=s.n(a),r=s(17),l=s.n(r),u=s(20),c=s.n(u),d=s(16),p=s.n(d),v=s(3),h=s.n(v),f=s(4),m=s.n(f),_=s(21),y=s(6),b=function(){function t(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h()(this,t),this.seq=e,this.isAnswer=s===this.seq,this.sids=[],0===this.seq&&(this.seqLabel="对"),1===this.seq&&(this.seqLabel="错")}return m()(t,[{key:"validate",value:function(){if(![0,1].includes(this.seq))return[!1,"选项数据错误"]}},{key:"isUserAnswer",value:function(t){return this.sids.includes(t)}},{key:"injectReportData",value:function(t){this.sids=t[this.seq]||[],this.hasReport=!0}}]),t}(),q=function(t){function e(t){h()(this,e);var s=l()(this,(e.__proto__||o()(e)).call(this,t,y.i));return s.structureLevel=1,s.stemRich=t.stemRich||{},s.analysisRich=t.analysisRich||{},s.answerSeq=t.answerSeq||0,s.options=[],s.options.push(new b(0,s.answerSeq)),s.options.push(new b(1,s.answerSeq)),s.windup(),s}return p()(e,t),m()(e,[{key:"validate",value:function(){return c()(e.prototype.__proto__||o()(e.prototype),"validate",this).call(this)}},{key:"answerSeqLabel",get:function(){return 0===this.answerSeq?"对":1===this.answerSeq?"错":void 0}}]),e}(_.c);i()(q.prototype,_.d),e.a=q},1468:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"secondary-navbar"},[s("div",{staticClass:"ui compact secondary pointing blue menu"},[s("router-link",{staticClass:"dropdown item",class:"bank-gallery"===t.$route.name?"active":"",attrs:{tag:"div",to:{name:"bank-gallery",query:{tree_type:"knowledge"}}}},[s("div",{staticClass:"text"},[t._v("手动组卷")]),t._v(" "),s("i",{staticClass:"dropdown icon"}),t._v(" "),s("div",{staticClass:"menu"},[s("router-link",{staticClass:"menu-item",attrs:{to:{name:"bank-gallery",query:{tree_type:"chapter"}},tag:"a",exact:""}},[t._v("同步章节组卷")]),t._v(" "),s("router-link",{staticClass:"menu-item",attrs:{to:{name:"bank-gallery",query:{tree_type:"knowledge"}},tag:"a",exact:""}},[t._v("知识点组卷")])],1)]),t._v(" "),s("router-link",{staticClass:"item",attrs:{to:{name:"manage-questions"},tag:"a"}},[t._v("管理题目")]),t._v(" "),t.initCreateDKind?s("router-link",{staticClass:"item",attrs:{to:{name:"create-question",query:{display_kind:t.initCreateDKind}},tag:"a"}},[s("i",{staticClass:"add square icon"}),t._v("新建题目")]):t._e()],1)])},staticRenderFns:[]}},1482:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-question-form edit-essay"},[s("div",{staticClass:"left-panel"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("题干")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{attrs:{"n-row":8},model:{value:t.question.stemRich,callback:function(e){t.$set(t.question,"stemRich",e)},expression:"question.stemRich"}})],1)]),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("参考答案")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:t.question.answerRich,callback:function(e){t.$set(t.question,"answerRich",e)},expression:"question.answerRich"}})],1)]),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("解析")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:t.question.analysisRich,callback:function(e){t.$set(t.question,"analysisRich",e)},expression:"question.analysisRich"}})],1)])]),t._v(" "),s("div",{staticClass:"right-panel flex-1"},[s("common-info",{attrs:{question:t.question}}),t._v(" "),s("button",{staticClass:"ui primary button",on:{click:t.saveQuestion}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"ui button",on:{click:function(e){t.modalOpen=!0}}},[t._v("预览")]),t._v(" "),t.modalOpen?s("single-preview-modal",{attrs:{question:t.question},on:{close:function(e){t.modalOpen=!1}}}):t._e()],1)])},staticRenderFns:[]}},1485:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{staticClass:"modal-default modal-large single-preview-modal",attrs:{"with-footer":"false"},on:{close:function(e){t.$emit("close")}}},[s("h4",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.question.displayName)+"-预览")]),t._v(" "),s("div",{attrs:{slot:"body"},slot:"body"},[t.localAudioFile?s("div",{staticClass:"local-audio"},[s("audio",{staticClass:"local-audio-preview",attrs:{controls:"",controlsList:"nodownload"}}),t._v(" "),s("span",{staticClass:"text-muted"},[t._v(" 选中的本地听力文件（未上传） ")])]):t._e(),t._v(" "),s(t.currentView(t.question),{key:t.question.uuid,tag:"component",attrs:{question:t.question,showDisplayName:!1,localAudioInstead:Boolean(this.localAudioFile)}})],1)])},staticRenderFns:[]}},1486:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"create-question",attrs:{id:"create-question"}},[t.question?s("dkind-switcher"):t._e(),t._v(" "),t.selectedDkind&&t.question?s(t.currentView,{tag:"component",attrs:{question:t.question,action:"create"}}):t._e()],1)},staticRenderFns:[]}},1497:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-question-form edit-cloze"},[s("div",{staticClass:"left-panel"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("题干")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{attrs:{supportBlankBlot:!0,"n-row":10},model:{value:t.question.stemRich,callback:function(e){t.$set(t.question,"stemRich",e)},expression:"question.stemRich"}}),t._v(" "),s("div",{staticClass:"text-editor-extra"},[s("span",{staticClass:"ui tiny basic primary button add-placeholder",on:{click:function(e){t.insertBlankPlaceholder()}}},[t._v("插入占位符")]),t._v(" "),s("span",{staticClass:"text-muted"},[t._v("空格占位符和小题弱关联，注意占位符个数应等于小题数。")])])],1)]),t._v(" "),t._l(t.question.questions,function(e){return s("div",{key:"subq-"+e.vkey,staticClass:"sub-question-wrapper grey-bg"},[s("div",{staticClass:"top-left-floated"},[s("span",{staticClass:"sub-question-seq"},[t._v("小题 "+t._s(e.seq))]),t._v(" "),t.canDelSubQ?s("span",{staticClass:"link link-default link-delete",on:{click:function(s){t.delSubQ(e)}}},[t._v("删除")]):t._e()]),t._v(" "),s("radio-options",{attrs:{options:e.options,increKey:e.increKey,answerSeq:e.answerSeq},on:{"update:increKey":function(s){t.$set(e,"increKey",s)},"update:answerSeq":function(s){t.$set(e,"answerSeq",s)}}}),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("解析")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:e.analysisRich,callback:function(s){t.$set(e,"analysisRich",s)},expression:"subQ.analysisRich"}})],1)])],1)}),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"}),t._v(" "),s("div",{staticClass:"qrow-content"},[s("span",{staticClass:"ui tiny basic primary button add-question",on:{click:function(e){t.addNewSubQ()}}},[t._v("增加小题")])])])],2),t._v(" "),s("div",{staticClass:"right-panel"},[s("common-info",{attrs:{question:t.question}}),t._v(" "),s("button",{staticClass:"ui primary button",on:{click:t.saveQuestion}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"ui button",on:{click:function(e){t.modalOpen=!0}}},[t._v("预览")]),t._v(" "),t.modalOpen?s("single-preview-modal",{attrs:{question:t.question},on:{close:function(e){t.modalOpen=!1}}}):t._e()],1)])},staticRenderFns:[]}},1504:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-question-form edit-matching"},[s("div",{staticClass:"left-panel"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("题干")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{attrs:{supportBlankBlot:!0,"n-row":10},model:{value:t.question.stemRich,callback:function(e){t.$set(t.question,"stemRich",e)},expression:"question.stemRich"}}),t._v(" "),s("div",{staticClass:"text-editor-extra"},[s("span",{staticClass:"ui tiny basic primary button add-placeholder",on:{click:function(e){t.insertBlankPlaceholder()}}},[t._v("插入占位符")]),t._v(" "),s("span",{staticClass:"text-muted"},[t._v("空格占位符和小题弱关联，注意占位符个数应等于小题数。")])])],1)]),t._v(" "),s("div",{staticClass:"radio-options"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("备选项")]),t._v(" "),s("div",{staticClass:"qrow-content"},t._l(t.question.options,function(e){return s("div",{key:e.vkey,staticClass:"d-flex"},[s("span",{staticClass:"seq-label option-label"},[t._v(t._s(e.seqLabel))]),t._v(" "),s("text-editor",{staticClass:"flex-1",attrs:{nRow:1},model:{value:e.textRich,callback:function(s){t.$set(e,"textRich",s)},expression:"option.textRich"}})],1)}))])]),t._v(" "),t._l(t.question.questions,function(e){return s("div",{staticClass:"sub-question-wrapper grey-bg"},[s("div",{staticClass:"top-left-floated"},[s("span",{staticClass:"sub-question-seq"},[t._v("小题 "+t._s(e.seq))])]),t._v(" "),s("div",{staticClass:"radio-options"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("选项")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("div",{staticClass:"d-flex"},t._l(t.question.options,function(n){return s("span",{key:n.vkey,class:t.matchOptionClass(e,n),on:{click:function(s){t.setAnswer(e,n)}}},[s("input",{attrs:{type:"radio"},domProps:{checked:n.seq===e.answerSeq}}),t._v(" "),s("label",[t._v(t._s(n.seqLabel))])])}))])])]),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("解析")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{attrs:{nRow:3},model:{value:e.analysisRich,callback:function(s){t.$set(e,"analysisRich",s)},expression:"subQ.analysisRich"}})],1)])])})],2),t._v(" "),s("div",{staticClass:"right-panel flex-1"},[s("common-info",{attrs:{question:t.question}}),t._v(" "),s("button",{staticClass:"ui primary button",on:{click:t.saveQuestion}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"ui button",on:{click:function(e){t.modalOpen=!0}}},[t._v("预览")]),t._v(" "),t.modalOpen?s("single-preview-modal",{attrs:{question:t.question},on:{close:function(e){t.modalOpen=!1}}}):t._e()],1)])},staticRenderFns:[]}},1508:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"common-info"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("难度")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("span",{staticClass:"ui radio checkbox",on:{click:function(e){t.question.difficulty=1}}},[s("input",{attrs:{type:"radio"},domProps:{checked:1===t.question.difficulty}}),t._v(" "),s("label",[t._v("简单")])]),t._v(" "),s("span",{staticClass:"ui radio checkbox",on:{click:function(e){t.question.difficulty=3}}},[s("input",{attrs:{type:"radio"},domProps:{checked:3===t.question.difficulty}}),t._v(" "),s("label",[t._v("中等")])]),t._v(" "),s("span",{staticClass:"ui radio checkbox",on:{click:function(e){t.question.difficulty=5}}},[s("input",{attrs:{type:"radio"},domProps:{checked:5===t.question.difficulty}}),t._v(" "),s("label",[t._v("困难")])])])]),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("章节")]),t._v(" "),s("div",{staticClass:"qrow-content"},[t._l(t.question.chapters,function(e){return s("span",{staticClass:"ui chapter label"},[t._v("\n        "+t._s(e.label)+"\n        "),s("span",{staticClass:"action-icon",on:{click:function(s){t.removeChapter(e)}}},[s("icon",{attrs:{name:"slim-remove"}})],1)])}),t._v(" "),s("button",{staticClass:"link link-primary",on:{click:function(e){t.openChapterModal=!0}}},[s("i",{staticClass:"edit icon"}),t._v("选择")])],2)]),t._v(" "),s("chapter-tag-modal",{attrs:{open:t.openChapterModal,selectedChapters:t.question.chapters},on:{close:function(e){t.openChapterModal=!1}}}),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("知识点")]),t._v(" "),s("div",{staticClass:"qrow-content"},[t._l(t.question.knowledges,function(e){return s("span",{staticClass:"ui knowledge label"},[t._v("\n        "+t._s(e.label)+"\n        "),s("span",{staticClass:"action-icon",on:{click:function(s){t.removeKnowledge(e)}}},[s("icon",{attrs:{name:"slim-remove"}})],1)])}),t._v(" "),s("button",{staticClass:"link link-primary",on:{click:function(e){t.openKnowledgeModal=!0}}},[s("i",{staticClass:"edit icon"}),t._v("选择")])],2)]),t._v(" "),s("knowledge-tag-modal",{attrs:{open:t.openKnowledgeModal,selectedKnowledges:t.question.knowledges},on:{close:function(e){t.openKnowledgeModal=!1}}}),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("来源")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.question.source,expression:"question.source"}],staticClass:"input-cross",attrs:{type:"text"},domProps:{value:t.question.source},on:{input:function(e){e.target.composing||t.$set(t.question,"source",e.target.value)}}})])])],1)},staticRenderFns:[]}},1510:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-question-form edit-multi-choice"},[s("div",{staticClass:"left-panel"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("题干")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:t.question.stemRich,callback:function(e){t.$set(t.question,"stemRich",e)},expression:"question.stemRich"}})],1)]),t._v(" "),s("checkbox-options",{staticClass:"grey-bg",attrs:{increKey:t.question.increKey,options:t.question.options},on:{"update:increKey":function(e){t.$set(t.question,"increKey",e)}}}),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("解析")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:t.question.analysisRich,callback:function(e){t.$set(t.question,"analysisRich",e)},expression:"question.analysisRich"}})],1)])],1),t._v(" "),s("div",{staticClass:"right-panel flex-1"},[s("common-info",{attrs:{question:t.question}}),t._v(" "),s("button",{staticClass:"ui primary button",on:{click:t.saveQuestion}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"ui button",on:{click:function(e){t.modalOpen=!0}}},[t._v("预览")]),t._v(" "),t.modalOpen?s("single-preview-modal",{attrs:{question:t.question},on:{close:function(e){t.modalOpen=!1}}}):t._e()],1)])},staticRenderFns:[]}},1518:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{staticClass:"formula-editor modal-massive",attrs:{withFooter:!1},on:{close:function(e){t.$emit("close")}}},[s("h3",{attrs:{slot:"header"},slot:"header"},[t._v("编辑公式")]),t._v(" "),s("template",{attrs:{slot:"body"},slot:"body"},[s("div",{staticClass:"common-usage",attrs:{id:"fcommon-usage"}},[s("div",{staticClass:"common-symbol"},[t._l(t.mathSymbols,function(e){return[s("h4",[t._v(t._s(e.name))]),t._v(" "),s("div",t._l(e.collection,function(e){return s("span",{staticClass:"symbol-item",attrs:{title:e.latex},on:{click:function(s){t.insertLatex(e.latex)}}},[t._v("\\("+t._s(e.latex)+"\\)")])}))]})],2),t._v(" "),s("div",{staticClass:"common-formula"},[s("div",{staticClass:"pill-filter"},t._l(t.mathFormulas,function(e){return s("div",{staticClass:"filter-label ",class:t.formulaGroupSelected(e.groupId)?"active":"",on:{click:function(s){t.toggleFormulaGroup(e.groupId)}}},[s("span",{staticClass:"formula"},[t._v("\\("+t._s(e.latex)+"\\)")]),t._v(" "),s("span",{staticClass:"formula-text"},[t._v(t._s(e.name))])])})),t._v(" "),t._l(t.mathFormulas,function(e){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.formulaGroupSelected(e.groupId),expression:"formulaGroupSelected(formulaCollection.groupId)"}]},[t._l(e.collection,function(e){return s("span",{staticClass:"formula-item",attrs:{title:e.latex},on:{click:function(s){t.insertLatex(e.latex)}}},[t._v(" \\("+t._s(e.latex)+"\\) ")])}),t._v(" "),8===e.groupId?s("p",{staticClass:"text-muted"},[t._v("可视化输入不支持矩阵类型的公式, 请用latex直接输入")]):t._e()],2)})],2)]),t._v(" "),s("div",{staticClass:"edit-area"},[s("div",{staticClass:"ui secondary pointing blue menu"},[s("a",{staticClass:"item",class:t.isLatexInput?"active":"",on:{click:function(e){t.typeMethod=2}}},[t._v("Latex输入")]),t._v(" "),s("a",{staticClass:"item",class:t.isQuillInput?"active":"",on:{click:function(e){t.typeMethod=1}}},[t._v("可视化输入")]),t._v(" "),s("div",{staticClass:"right menu"},[s("a",{staticClass:"ui item",attrs:{href:"/pad/support/formula-editor.md",target:"_blank"}},[s("i",{staticClass:"help circle outline icon"}),t._v("公式录入说明")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isQuillInput,expression:"isQuillInput"}]},[s("div",[t._v("输入公式：")]),t._v(" "),s("div",{attrs:{id:"math-field-animated"}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLatexInput,expression:"isLatexInput"}]},[s("div",[t._v("输入latex:")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.latextyped,expression:"latextyped"}],staticClass:"formula-latex-input",attrs:{id:"formula-latex-input",rows:"6"},domProps:{value:t.latextyped},on:{input:function(e){e.target.composing||(t.latextyped=e.target.value)}}})]),t._v(" "),s("button",{staticClass:"ui small primary button",on:{click:function(e){t.saveFormula()}}},[t._v("\n        保存\n      ")]),t._v(" "),s("button",{staticClass:"ui small button",on:{click:function(e){t.$emit("close")}}},[t._v("\n        取消\n      ")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLatexInput,expression:"isLatexInput"}]},[s("p",[t._v("公式渲染结果：")]),t._v(" "),s("span",{staticClass:"formula latex-typed-render",attrs:{id:"latex-typed-render"}})])])])],2)},staticRenderFns:[]}},1519:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-question-form edit-objective-blank"},[s("div",{staticClass:"left-panel"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("题干")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{attrs:{supportBlankBlot:!0},model:{value:t.question.stemRich,callback:function(e){t.$set(t.question,"stemRich",e)},expression:"question.stemRich"}}),t._v(" "),s("div",{staticClass:"text-editor-extra"},[s("span",{staticClass:"ui tiny basic primary button add-question",on:{click:function(e){t.insertBlankPlaceholder()}}},[t._v("增加小题")]),t._v(" "),s("span",{staticClass:"text-muted"},[t._v("空格占位符和小题强关联，删除占位符会自动删除相关小题。多个正确答案以$$分隔。此题型为机器自动判卷。")])])],1)]),t._v(" "),t._l(t.question.questions,function(e,n){return s("div",{key:"subq-"+e.vkey,staticClass:"sub-question-wrapper grey-bg"},[s("div",{staticClass:"top-left-floated"},[s("span",{staticClass:"sub-question-seq"},[t._v("小题 "+t._s(e.seq))]),t._v(" "),s("span",{staticClass:"link link-default link-delete",on:{click:function(e){t.delBlankPlaceholder(n+1)}}},[t._v("删除")])]),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("答案")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.answerComposed,expression:"subQ.answerComposed"}],staticClass:"input-cross",attrs:{placeholder:"请输入答案，以$$分隔..."},domProps:{value:e.answerComposed},on:{input:function(s){s.target.composing||t.$set(e,"answerComposed",s.target.value)}}})])]),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("解析")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{attrs:{nRow:2},model:{value:e.analysisRich,callback:function(s){t.$set(e,"analysisRich",s)},expression:"subQ.analysisRich"}})],1)])])})],2),t._v(" "),s("div",{staticClass:"right-panel flex-1"},[s("common-info",{attrs:{question:t.question}}),t._v(" "),s("button",{staticClass:"ui primary button",on:{click:t.saveQuestion}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"ui button",on:{click:function(e){t.modalOpen=!0}}},[t._v("预览")]),t._v(" "),t.modalOpen?s("single-preview-modal",{attrs:{question:t.question},on:{close:function(e){t.modalOpen=!1}}}):t._e()],1)])},staticRenderFns:[]}},1522:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-question-form edit-reading-choice"},[s("div",{staticClass:"left-panel"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("题干")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{attrs:{"n-row":10},model:{value:t.question.stemRich,callback:function(e){t.$set(t.question,"stemRich",e)},expression:"question.stemRich"}})],1)]),t._v(" "),t._l(t.question.questions,function(e){return s("div",{key:"subq-"+e.vkey,staticClass:"sub-question-wrapper grey-bg"},[s("div",{staticClass:"top-left-floated"},[s("span",{staticClass:"sub-question-seq"},[t._v("小题 "+t._s(e.seq))]),t._v(" "),t.canDelSubQ?s("span",{staticClass:"link link-default link-delete",on:{click:function(s){t.delSubQ(e)}}},[t._v("删除")]):t._e()]),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("题干")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{attrs:{nRow:2,placeholder:"输入小题题干..."},model:{value:e.textRich,callback:function(s){t.$set(e,"textRich",s)},expression:"subQ.textRich"}})],1)]),t._v(" "),s("radio-options",{attrs:{options:e.options,increKey:e.increKey,answerSeq:e.answerSeq},on:{"update:increKey":function(s){t.$set(e,"increKey",s)},"update:answerSeq":function(s){t.$set(e,"answerSeq",s)}}}),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("解析")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:e.analysisRich,callback:function(s){t.$set(e,"analysisRich",s)},expression:"subQ.analysisRich"}})],1)])],1)}),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"}),t._v(" "),s("div",{staticClass:"qrow-content"},[s("span",{staticClass:"ui tiny basic primary button add-question",on:{click:function(e){t.addNewSubQ()}}},[t._v("增加小题")])])])],2),t._v(" "),s("div",{staticClass:"right-panel flex-1"},[s("common-info",{attrs:{question:t.question}}),t._v(" "),s("button",{staticClass:"ui primary button",on:{click:t.saveQuestion}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"ui button",on:{click:function(e){t.modalOpen=!0}}},[t._v("预览")]),t._v(" "),t.modalOpen?s("single-preview-modal",{attrs:{question:t.question},on:{close:function(e){t.modalOpen=!1}}}):t._e()],1)])},staticRenderFns:[]}},1529:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.open?s("page-modal",{staticClass:"modal-small chapter-tag-modal",on:{close:function(e){t.$emit("close")}}},[s("template",{attrs:{slot:"content"},slot:"content"},[s("chapter-selector",{key:"sidebar-selector",attrs:{bookSource:"platform",mustSelectOne:!1,initFirstSelected:!1,multiSelect:!0,onlyLeafCanSelect:!1,openLevel:2,selectedNodes:t.selectedChapters}}),t._v(" "),s("div",{staticClass:"collected-nodes"},[t._v("\n      已选章节："+t._s(0===t.selectedChapters.length?"无":"")+"\n      "),t._l(t.selectedChapters,function(e){return s("span",{staticClass:"ui chapter label"},[t._v("\n        "+t._s(e.label)),s("span",{staticClass:"action-icon",on:{click:function(s){t.removeChapter(e)}}},[s("icon",{attrs:{name:"slim-remove"}})],1)])})],2)],1)],2):t._e()},staticRenderFns:[]}},153:function(t,e){},1532:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"knowledge-selector"},[n("div",{staticClass:"book-tree"},[t.knowledgesLoading?n("loader"):[t.knowledges.length?n("pad-tree",{attrs:{treeData:t.knowledges,onlyLeafCanSelect:t.onlyLeafCanSelect,mustSelectOne:t.mustSelectOne,multiSelect:t.multiSelect,initFirstSelected:t.initFirstSelected,openLevel:t.openLevel,selectedNodes:t.selectedNodes}}):n("div",{staticClass:"content-empty"},[n("img",{attrs:{src:s(30)}}),t._v(" "),n("p",[t._v("本教材还没有录入章节")])])]],2)])},staticRenderFns:[]}},154:function(t,e){},155:function(t,e){},1552:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-question-form edit-long-dialog"},[s("div",{staticClass:"left-panel"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("音频")]),t._v(" "),s("audio-uploader",{ref:"audio",staticClass:"qrow-content",attrs:{audioPathWrite:t.question.audioPathWrite},on:{uploadSucceed:function(e){return t.audioUploaded(e)}}})],1),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("听力原文")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:t.question.audioTextRich,callback:function(e){t.$set(t.question,"audioTextRich",e)},expression:"question.audioTextRich"}})],1)]),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("题干")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:t.question.stemRich,callback:function(e){t.$set(t.question,"stemRich",e)},expression:"question.stemRich"}})],1)]),t._v(" "),t._l(t.question.questions,function(e){return s("div",{key:e.vkey,staticClass:"sub-question-wrapper grey-bg"},[s("div",{staticClass:"top-left-floated"},[s("span",{staticClass:"sub-question-seq"},[t._v("小题 "+t._s(e.seq))]),t._v(" "),t.canDelSubQ?s("span",{staticClass:"link link-default link-delete",on:{click:function(s){t.delSubQ(e)}}},[t._v("删除")]):t._e()]),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("题干")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{attrs:{nRow:2,placeholder:"输入小题题干..."},model:{value:e.textRich,callback:function(s){t.$set(e,"textRich",s)},expression:"subQ.textRich"}})],1)]),t._v(" "),s("radio-options",{attrs:{options:e.options,increKey:e.increKey,answerSeq:e.answerSeq},on:{"update:increKey":function(s){t.$set(e,"increKey",s)},"update:answerSeq":function(s){t.$set(e,"answerSeq",s)}}}),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("解析")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:e.analysisRich,callback:function(s){t.$set(e,"analysisRich",s)},expression:"subQ.analysisRich"}})],1)])],1)}),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"}),t._v(" "),s("div",{staticClass:"qrow-content"},[s("span",{staticClass:"ui tiny basic primary button add-question",on:{click:function(e){t.addNewSubQ()}}},[t._v("增加小题")])])])],2),t._v(" "),s("div",{staticClass:"right-panel flex-1"},[s("common-info",{attrs:{question:t.question}}),t._v(" "),s("button",{staticClass:"ui primary button",on:{click:t.checkQuestion}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"ui button",on:{click:function(e){t.modalOpen=!0}}},[t._v("预览")]),t._v(" "),t.modalOpen?s("single-preview-modal",{attrs:{localAudioFile:t.$refs.audio.audioFile,question:t.question},on:{close:function(e){t.modalOpen=!1}}}):t._e()],1)])},staticRenderFns:[]}},156:function(t,e){},1562:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-question-form edit-true-false"},[s("div",{staticClass:"left-panel"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("题干")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:t.question.stemRich,callback:function(e){t.$set(t.question,"stemRich",e)},expression:"question.stemRich"}})],1)]),t._v(" "),s("div",{staticClass:"radio-options"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("选项")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("div",{staticClass:"d-flex"},t._l(t.question.options,function(e,n){return s("span",{key:e.key,staticClass:"ui radio checkbox",on:{click:function(s){t.setAnswer(e)}}},[s("input",{attrs:{type:"radio"},domProps:{checked:e.isAnswer}}),t._v(" "),s("label",[t._v(t._s(e.seqLabel))])])}))])])]),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("解析")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:t.question.analysisRich,callback:function(e){t.$set(t.question,"analysisRich",e)},expression:"question.analysisRich"}})],1)])]),t._v(" "),s("div",{staticClass:"right-panel flex-1"},[s("common-info",{attrs:{question:t.question}}),t._v(" "),s("button",{staticClass:"ui primary button",on:{click:t.saveQuestion}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"ui button",on:{click:function(e){t.modalOpen=!0}}},[t._v("预览")]),t._v(" "),t.modalOpen?s("single-preview-modal",{attrs:{question:t.question},on:{close:function(e){t.modalOpen=!1}}}):t._e()],1)])},staticRenderFns:[]}},1564:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.teacher&&t.selectedDkind?s("div",{staticClass:"dkind-switcher"},[s("span",{staticClass:"subject-label"},[t._v(t._s(t.subjects[t.teacher.subjectId])+" / ")]),t._v(" "),s("div",{staticClass:"ui scrolling selection dropdown"},[s("i",{staticClass:"dropdown icon"}),t._v(" "),s("div",{staticClass:"text"},[t._v(t._s(t.kindNameMap[t.selectedDkind].displayName))]),t._v(" "),s("div",{staticClass:"menu"},t._l(t.questionDkinds,function(e){return e.displayKind!==t.selectedDkind?s("div",{staticClass:"item",on:{click:function(s){t.$router.push({name:"create-question",query:{display_kind:e.displayKind}})}}},[t._v(t._s(e.displayName))]):t._e()}))])]):t._e()},staticRenderFns:[]}},1567:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-question-form edit-single-choice"},[s("div",{staticClass:"left-panel"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("题干")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:t.question.stemRich,callback:function(e){t.$set(t.question,"stemRich",e)},expression:"question.stemRich"}})],1)]),t._v(" "),s("radio-options",{staticClass:"grey-bg",attrs:{options:t.question.options,answerSeq:t.question.answerSeq,increKey:t.question.increKey},on:{"update:answerSeq":function(e){t.$set(t.question,"answerSeq",e)},"update:increKey":function(e){t.$set(t.question,"increKey",e)}}}),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("解析")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:t.question.analysisRich,callback:function(e){t.$set(t.question,"analysisRich",e)},expression:"question.analysisRich"}})],1)])],1),t._v(" "),s("div",{staticClass:"right-panel flex-1"},[s("common-info",{attrs:{question:t.question}}),t._v(" "),s("button",{staticClass:"ui primary button",on:{click:t.saveQuestion}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"ui button",on:{click:function(e){t.modalOpen=!0}}},[t._v("预览")]),t._v(" "),t.modalOpen?s("single-preview-modal",{attrs:{question:t.question},on:{close:function(e){t.modalOpen=!1}}}):t._e()],1)])},staticRenderFns:[]}},1568:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"upload-area"},[s("button",{staticClass:"ui basic small default button"},[t._v("选择音频文件 *.mp3")]),t._v(" "),t.audioFile?s("span",[t._v(t._s(t.audioFile.name))]):t.audioPathWrite?s("span",[t._v(t._s(t.audioPathWrite))]):t._e(),t._v(" "),s("label",{attrs:{for:"file-selector"}}),t._v(" "),s("input",{attrs:{type:"file",id:"file-selector",accept:".mp3"}}),t._v(" "),t.showProgressBar?s("modal",{attrs:{withHeader:!1},on:{close:function(e){t.showProgressBar=!1}}},[s("div",{attrs:{slot:"body"},slot:"body"},[s("progress-bar",{staticClass:"info",attrs:{percent:t.percent,showPercent:!0,label:t.progressLabel}})],1)]):t._e()],1)},staticRenderFns:[]}},157:function(t,e){},1573:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"duplicate-question",attrs:{id:"duplicate-question"}},[t.question?n("p",{staticClass:"ui header"},[t._v("复制并编辑 / "+t._s(t.question.displayName))]):t._e(),t._v(" "),n("p",{staticClass:"text-muted"},[t._v("从源题目拷贝一份，编辑保存生成为自己的题目")]),t._v(" "),t.question?n(t.currentView,{tag:"component",attrs:{question:t.question,action:"duplicate"}}):t._e(),t._v(" "),!t.question&&t.errorMsg?n("div",{staticClass:"content-empty"},[n("img",{attrs:{src:s(30)}}),t._v(" "),!t.question&&t.errorMsg?n("p",[t._v(t._s(t.errorMsg)+" 前往"),n("span",{staticClass:"link link-primary",on:{click:function(e){t.$router.push({name:"manage-questions"})}}},[t._v("题目管理列表")])]):t._e()]):t._e()],1)},staticRenderFns:[]}},1575:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question-bank",attrs:{id:"question-bank"}},[n("div",{staticClass:"sidebar-tree"},[t.showFavorited?n("span",{staticClass:"text-muted"},[t._v("收藏的题目不支持章节/知识点筛选")]):n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:"chapter"===t.treeType,expression:"treeType==='chapter'"}]},[n("div",{staticClass:"sidebar-title"},[n("span",[t._v("根据章节筛选")]),t._v(" "),t.searchMode?t._e():n("span",{staticClass:"link search link-primary",on:{click:function(e){t.searchMode=!0}}},[n("i",{staticClass:"search icon"})]),t._v(" "),t.searchMode?n("span",{staticClass:"link link-primary",on:{click:function(e){t.searchMode=!1}}},[t._v("返回章节树")]):t._e()]),t._v(" "),n("v-select",{directives:[{name:"show",rawName:"v-show",value:t.searchMode,expression:"searchMode"}],attrs:{"on-search":t.searchChapter,options:t.options,"on-change":t.searchChapterIdChanged,placeholder:"输入关键词，搜索所有教材的章节"}}),t._v(" "),n("chapter-selector",{directives:[{name:"show",rawName:"v-show",value:!t.searchMode,expression:"!searchMode"}],key:"question-chapter-selector",staticClass:"question-chapter-selector",attrs:{bookSource:"question",onlyLeafCanSelect:!1},on:{selectChapter:function(e){return t.selectedChapterId=e}}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"knowledge"===t.treeType,expression:"treeType==='knowledge'"}]},[t._m(0),t._v(" "),n("knowledge-selector",{directives:[{name:"show",rawName:"v-show",value:!t.searchMode,expression:"!searchMode"}],key:"sidebar-selector",staticClass:"question-knowledge-selector",attrs:{mustSelectOne:!1,initFirstSelected:!1,onlyLeafCanSelect:!1,openLevel:2},on:{selectKnowledge:function(e){return t.selectedKnowledgeId=e}}})],1)]),t._v(" "),n("div",{staticClass:"question-bucket"},[n("div",{staticClass:"stat-labels"},t._l(t.bucketKindCount,function(e,s){return e?n("span",{key:s,staticClass:"ui label"},[t._v(t._s(t.dkindInfoMap[s].displayName)),n("div",{staticClass:"detail"},[t._v(t._s(e))])]):t._e()})),t._v(" "),n("button",{staticClass:"ui primary button",on:{click:t.showModalPaper}},[t._v("试题篮 ["+t._s(t.bucketQuestionCount)+"] / 编辑预览")])])]),t._v(" "),n("div",{staticClass:"question-container",attrs:{id:"question-container"}},[n("div",{staticClass:"filter-section"},[t.teacher?n("div",{staticClass:"pill-filter"},[t._v("\n        题型：\n        "),n("span",{staticClass:"filter-label",class:0===t.displayKind?"active":"",on:{click:function(e){t.displayKind=0}}},[t._v("全部")]),t._v(" "),t._l(t.questionDkinds,function(e){return n("span",{key:e.displayKind,staticClass:"filter-label",class:t.displayKind===e.displayKind?"active":"",on:{click:function(s){t.displayKind=e.displayKind}}},[t._v(t._s(e.displayName))])})],2):t._e(),t._v(" "),n("div",{staticClass:"pill-filter"},[t._v("\n        难度：\n        "),n("span",{staticClass:"filter-label",class:0===t.difficulty?"active":"",on:{click:function(e){t.difficulty=0}}},[t._v("全部")]),t._v(" "),t._l(t.difficulties,function(e){return n("span",{key:e.difficulty,staticClass:"filter-label",class:e.value===t.difficulty?"active":"",on:{click:function(s){t.difficulty=e.value}}},[t._v(t._s(e.label))])})],2),t._v(" "),n("div",{staticClass:"pill-filter"},[t._v("\n        来源：\n        "),n("span",{staticClass:"filter-label",class:0===t.gallerySource?"active":"",on:{click:function(e){t.gallerySource=0}}},[t._v("题库")]),t._v(" "),n("span",{staticClass:"filter-label",class:1===t.gallerySource?"active":"",on:{click:function(e){t.gallerySource=1}}},[t._v("我创建的")])])]),t._v(" "),n("div",{staticClass:"question-list"},[t.loading?n("loader"):t._l(t.questions,function(e){return n("div",{key:e.uuid,staticClass:"question-block",on:{click:function(t){e.analysisFolded=!e.analysisFolded}}},[n("div",{staticClass:"question-header borderless ui menu"},[n("div",{staticClass:"item item-name"},[t._v("\n              "+t._s(e.displayName)+"\n            ")]),t._v(" "),n("div",{staticClass:"right menu"},[n("div",{staticClass:"item blue",on:{click:function(s){s.stopPropagation(),t.openDuplicateQuestion(e)}}},[n("i",{staticClass:"copy outline icon"}),t._v("复制\n              ")]),t._v(" "),e.favorited?n("button",{staticClass:"ui icon yellow basic button",attrs:{"data-tooltip":"取消收藏","data-position":"bottom right","data-variation":"mini","data-inverted":""},on:{click:function(s){s.stopPropagation(),t.undoFavorite(e)}}},[n("i",{staticClass:"star icon"})]):n("button",{staticClass:"ui icon basic button",attrs:{"data-tooltip":"收藏","data-position":"bottom right","data-variation":"small","data-inverted":""},on:{click:function(s){s.stopPropagation(),t.favorite(e)}}},[n("i",{staticClass:"empty star icon"})]),t._v(" "),t.checkInBucket(e)?n("div",{staticClass:"item red",on:{click:function(s){s.stopPropagation(),t.removeFromBucket(e)}}},[n("i",{staticClass:"remove icon"}),t._v(" 移出组卷\n              ")]):n("div",{staticClass:"item blue",on:{click:function(s){s.stopPropagation(),t.addInBucket(e,s)}}},[n("i",{staticClass:"add icon"}),t._v(" 加入组卷\n              ")])])]),t._v(" "),n(t.currentView(e),{key:e.uuid,tag:"component",attrs:{question:e,"show-display-name":!1}})],1)})],2),t._v(" "),t.loading||0!==t.questions.length?t._e():n("div",{staticClass:"content-empty"},[n("img",{attrs:{src:s(30)}}),t._v(" "),t._m(1)]),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&t.questions.length,expression:"!loading && questions.length"}],staticClass:"pagination",attrs:{totalPage:t.totalPage,curPage:t.selectedPage},on:{"update:selected":function(e){return t.fetchQuestions(e)}}})],1),t._v(" "),t.modalPaper?n("page-modal",{key:"modal-paper",staticClass:"modal-paper",class:t.bucketQuestions.length?"modal-massive":"",on:{close:function(e){t.modalPaper=!1}}},[n("template",{attrs:{slot:"content"},slot:"content"},[t.bucketQuestions.length?n("div",{staticClass:"paper-content"},[n("div",{staticClass:"question-list"},t._l(t.bucketQuestions,function(e,s){return n("div",{key:e.uuid,staticClass:"question-block"},[n("div",{staticClass:"question-header borderless tiny ui menu"},[n("div",{staticClass:"item item-name"},[t._v("\n                "+t._s(s+1)+". "+t._s(e.displayName)+"\n              ")]),t._v(" "),n("div",{staticClass:"item muted"},[t._v("\n                每小题"),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.subScore,expression:"question.subScore",modifiers:{number:!0}}],staticClass:"set-score",attrs:{type:"number",min:"0",max:"100"},domProps:{value:e.subScore},on:{input:[function(s){s.target.composing||t.$set(e,"subScore",t._n(s.target.value))},function(s){return t.changeQuestionScore(e,s)}],blur:function(e){t.$forceUpdate()}}}),t._v("分 / 本题共"+t._s(e.subScore*e.subQuestionCount)+"分\n              ")]),t._v(" "),n("div",{staticClass:"right menu"},[n("div",{staticClass:"item",class:0===s?"disabled":"",on:{click:function(s){t.qForward(e)}}},[n("i",{staticClass:"arrow up icon"}),t._v("上移\n                ")]),t._v(" "),n("div",{staticClass:"item",class:s===t.bucketQuestions.length-1?"disabled":"",on:{click:function(s){t.qBackward(e)}}},[n("i",{staticClass:"arrow down icon"}),t._v(" 下移\n                ")]),t._v(" "),n("div",{staticClass:"item red",on:{click:function(s){t.removeFromBucket(e)}}},[n("i",{staticClass:"remove icon"}),t._v(" 移出组卷\n                ")])])]),t._v(" "),n(t.currentView(e),{key:e.key,tag:"component",attrs:{question:e,"show-stat":!1,"show-display-name":!1}})],1)})),t._v(" "),n("div",{staticClass:"modal-paper-sidebar"},[n("h3",[t._v("组卷："),n("span",[t._v("共"+t._s(t.bucketQuestions.length)+"大题，总分"+t._s(t.bucketTotalScore)+"分")])]),t._v(" "),n("table",{staticClass:"ui compact table"},[n("thead",[n("tr",{staticClass:"center aligned"},[n("th",[t._v("序号")]),t._v(" "),n("th",[t._v("题型")]),t._v(" "),n("th",[t._v("小题分数")]),t._v(" "),n("th",[t._v("本题总分")])])]),t._v(" "),n("tbody",[t._l(t.bucketQuestions,function(e,s){return n("tr",{key:e.uuid,staticClass:"center aligned"},[n("td",[t._v(t._s(s+1))]),t._v(" "),n("td",[t._v(t._s(t.dkindInfoMap[e.displayKind].displayName))]),t._v(" "),n("td",[n("input",{staticClass:"set-score",attrs:{type:"number",min:"0",max:"100"},domProps:{value:e.subScore},on:{input:function(s){return t.changeQuestionScore(e,s)}}})]),t._v(" "),n("td",[t._v(t._s(e.subScore*e.subQuestionCount))])])}),t._v(" "),n("tr",{staticClass:"center aligned"},[n("td"),t._v(" "),n("td",[t._v("共"+t._s(t.bucketQuestions.length)+"大题")]),t._v(" "),n("td"),t._v(" "),n("td",[t._v("总分"+t._s(t.bucketTotalScore)+"分")])])],2)]),t._v(" "),n("div",[n("button",{staticClass:"ui tiny blue button pull-right",on:{click:t.showModalPaperPublish}},[t._v("确定，下一步")]),t._v(" "),t.teacher.isSubjectMaster?n("span",{staticClass:"link link-primary",on:{click:function(e){t.importPaperData.modalOpened=!0}}},[t._v("从已有试题组导入题目")]):t._e()])])]):n("div",{staticClass:"content-empty"},[n("img",{attrs:{src:s(30)}}),t._v(" "),n("p",[t._v("还没有题目，先添加几题吧。\n          "),t.teacher.isSubjectMaster?n("span",{staticClass:"link link-primary",on:{click:function(e){t.importPaperData.modalOpened=!0}}},[t._v("或从已有试题组导入题目")]):t._e()])])])],2):t._e(),t._v(" "),t.importPaperData.modalOpened?n("page-modal",{staticClass:"modal-padded import-paper-modal",on:{close:t.closeImportPaperModal}},[n("template",{attrs:{slot:"content"},slot:"content"},[n("h3",[t._v("\n        从已有试题组导入题目"),n("br"),t._v(" "),n("span",{staticClass:"text-muted text-small text-normal"},[t._v("只能导入自己学科的题目。若试题组包含其他老师独立录入的题目（即非系统题库中的题），将被过滤掉。")])]),t._v(" "),n("div",{staticClass:"ui small form"},[n("div",{staticClass:"field inline required"},[n("label",{staticClass:"text-muted"},[t._v("要导入的试题组ID")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.importPaperData.fromPaperId,expression:"importPaperData.fromPaperId"}],attrs:{type:"number",placeholder:"试题组ID必填"},domProps:{value:t.importPaperData.fromPaperId},on:{input:function(e){e.target.composing||t.$set(t.importPaperData,"fromPaperId",e.target.value)}}}),t._v(" "),n("span",{staticClass:"text-muted"},[t._v(t._s(t.importPaperData.paper&&"试题组："+t.importPaperData.paper.name||"未指定有效的试题组"))]),t._v(" "),t.importPaperData.paper?n("table",{staticClass:"ui compact table"},[n("thead",[n("tr",[n("th",[t._v("序号")]),t._v(" "),n("th",[t._v("题型")]),t._v(" "),n("th",[t._v("系统题库/老师创建")]),t._v(" "),n("th",[t._v("是否会被导入")])])]),t._v(" "),n("tbody",t._l(t.importPaperData.paper.questions,function(e,s){return n("tr",[n("td",[t._v(t._s(s+1))]),t._v(" "),n("td",[t._v(t._s(e.displayName))]),t._v(" "),n("td",[t._v(t._s(e.authorId&&"老师"||"系统"))]),t._v(" "),n("td",[t.checkInBucket(e)?[n("i",{staticClass:"ui icon red close"}),t._v("已在试题篮中\n                  ")]:e.authorId?[e.authorId?n("i",{staticClass:"ui icon red close"}):t._e(),t._v("老师创建\n                  ")]:n("i",{staticClass:"ui icon teal check"})],2)])}))]):t._e()]),t._v(" "),t.showImportPaperButton?n("div",[n("button",{staticClass:"ui tiny blue button",on:{click:t.addPaperQuestionsIntoBucket}},[t._v("导入题目列表")]),t._v(" "),n("button",{staticClass:"ui tiny button",on:{click:t.closeImportPaperModal}},[t._v("取消")])]):t._e()])])],2):t._e(),t._v(" "),t.modalPaperPublish?n("page-modal",{key:"modal-paper-publish",staticClass:"modal-padded modal-paper modal-paper-publish",on:{close:function(e){t.modalPaperPublish=!1}}},[n("template",{attrs:{slot:"content"},slot:"content"},[n("h3",[t._v("生成试卷："),n("span",[t._v("共"+t._s(t.bucketQuestions.length)+"大题，总分"+t._s(t.bucketTotalScore)+"分")])]),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("创建成功的试卷将放入 备课->我的->我的试题组 中")]),t._v(" "),n("div",[n("div",{staticClass:"paper-form ui form"},[n("div",{staticClass:"field"},[n("label",{attrs:{for:"paper-title"}},[t._v("试卷题目*")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.paperTitle,expression:"paperTitle"}],attrs:{type:"text",name:"paper-title",placeholder:"不超过100个字符"},domProps:{value:t.paperTitle},on:{input:function(e){e.target.composing||(t.paperTitle=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"field"},[n("label",[t._v("为本卷关联章节（可不填）")]),t._v(" "),n("chapter-selector",{key:"platform-chapter-selector",attrs:{bookSource:"platform"},on:{selectChapter:function(e){return t.paperChapterId=e}}})],1),t._v(" "),n("div",{staticClass:"field"},[n("button",{staticClass:"ui tiny button",on:{click:t.showModalPaper}},[t._v("上一步")]),t._v(" "),n("button",{staticClass:"ui tiny blue button",on:{click:function(e){t.createPaper(e)}}},[t._v("生成试卷")])])])])])],2):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sidebar-title"},[s("span",[t._v("根据知识点筛选")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("\n        什么也没有，试试"),s("span",{staticClass:"text-danger"},[t._v("减少筛选条件")])])}]}},158:function(t,e){},1586:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-question-form edit-short-dialog"},[s("div",{staticClass:"left-panel"},[s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("音频")]),t._v(" "),s("audio-uploader",{ref:"audio",staticClass:"qrow-content",attrs:{audioPathWrite:t.question.audioPathWrite},on:{uploadSucceed:function(e){return t.audioUploaded(e)}}})],1),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("听力原文")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:t.question.audioTextRich,callback:function(e){t.$set(t.question,"audioTextRich",e)},expression:"question.audioTextRich"}})],1)]),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label required"},[t._v("题干")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{attrs:{nRow:3},model:{value:t.question.stemRich,callback:function(e){t.$set(t.question,"stemRich",e)},expression:"question.stemRich"}})],1)]),t._v(" "),s("radio-options",{staticClass:"grey-bg",attrs:{options:t.question.options,increKey:t.question.increKey,answerSeq:t.question.answerSeq},on:{"update:increKey":function(e){t.$set(t.question,"increKey",e)},"update:answerSeq":function(e){t.$set(t.question,"answerSeq",e)}}}),t._v(" "),s("div",{staticClass:"qrow"},[s("span",{staticClass:"qrow-label"},[t._v("解析")]),t._v(" "),s("div",{staticClass:"qrow-content"},[s("text-editor",{model:{value:t.question.analysisRich,callback:function(e){t.$set(t.question,"analysisRich",e)},expression:"question.analysisRich"}})],1)])],1),t._v(" "),s("div",{staticClass:"right-panel flex-1"},[s("common-info",{attrs:{question:t.question}}),t._v(" "),s("button",{staticClass:"ui primary button",on:{click:t.checkQuestion}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"ui button",on:{click:function(e){t.modalOpen=!0}}},[t._v("预览")]),t._v(" "),t.modalOpen?s("single-preview-modal",{attrs:{localAudioFile:t.$refs.audio.audioFile,question:t.question},on:{close:function(e){t.modalOpen=!1}}}):t._e()],1)])},staticRenderFns:[]}},159:function(t,e){},1597:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.open?s("page-modal",{staticClass:"modal-small knowledge-tag-modal",on:{close:function(e){t.$emit("close")}}},[s("template",{attrs:{slot:"content"},slot:"content"},[s("h4",{staticClass:"ui header"},[t._v("选择知识点")]),t._v(" "),s("knowledge-selector",{key:"sidebar-selector",attrs:{mustSelectOne:!1,initFirstSelected:!1,multiSelect:!0,onlyLeafCanSelect:!1,openLevel:2,selectedNodes:t.selectedKnowledges}}),t._v(" "),s("div",{staticClass:"collected-nodes"},[t._v("\n      已选知识点："+t._s(0===t.selectedKnowledges.length?"无":"")+"\n      "),t._l(t.selectedKnowledges,function(e){return s("span",{staticClass:"ui knowledge label"},[t._v("\n        "+t._s(e.label)+"\n        "),s("span",{staticClass:"action-icon",on:{click:function(s){t.removeKnowledge(e)}}},[s("icon",{attrs:{name:"slim-remove"}})],1)])})],2)],1)],2):t._e()},staticRenderFns:[]}},160:function(t,e){},1600:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"manage-question",attrs:{id:"manage-question"}},[n("div",{staticClass:"sidebar-tree"},[n("div",[n("div",{staticClass:"sidebar-title"},[n("span",[t._v("根据章节筛选")]),t._v(" "),t.searchMode?t._e():n("span",{staticClass:"link search link-primary",on:{click:function(e){t.searchMode=!0}}},[n("i",{staticClass:"search icon"})]),t._v(" "),t.searchMode?n("span",{staticClass:"link link-primary",on:{click:function(e){t.searchMode=!1}}},[t._v("返回章节树")]):t._e()]),t._v(" "),n("v-select",{directives:[{name:"show",rawName:"v-show",value:t.searchMode,expression:"searchMode"}],attrs:{"on-search":t.searchChapter,options:t.options,"on-change":t.searchChapterIdChanged,placeholder:"输入关键词，搜索所有教材的章节"}}),t._v(" "),n("chapter-selector",{directives:[{name:"show",rawName:"v-show",value:!t.searchMode,expression:"!searchMode"}],key:"question-chapter-selector",staticClass:"question-chapter-selector",attrs:{bookSource:"question",onlyLeafCanSelect:!1},on:{selectChapter:function(e){return t.selectedChapterId=e}}})],1)]),t._v(" "),n("div",{staticClass:"question-container",attrs:{id:"question-container"}},[n("div",{staticClass:"filter-section"},[t.teacher?n("div",{staticClass:"pill-filter"},[t._v("\n        题型：\n        "),n("span",{key:"displaykind-0",staticClass:"filter-label",class:0===t.displayKind?"active":"",on:{click:function(e){t.displayKind=0}}},[t._v("全部")]),t._v(" "),t._l(t.questionDkinds,function(e){return n("span",{key:"displaykind-"+e.displayKind,staticClass:"filter-label",class:t.displayKind===e.displayKind?"active":"",on:{click:function(s){t.displayKind=e.displayKind}}},[t._v(t._s(e.displayName))])})],2):t._e(),t._v(" "),n("div",{staticClass:"pill-filter"},[t._v("\n        难度：\n        "),n("span",{staticClass:"filter-label",class:0===t.difficulty?"active":"",on:{click:function(e){t.difficulty=0}}},[t._v("全部")]),t._v(" "),t._l(t.difficulties,function(e){return n("span",{key:e.value,staticClass:"filter-label",class:e.value===t.difficulty?"active":"",on:{click:function(s){t.difficulty=e.value}}},[t._v(t._s(e.label))])})],2),t._v(" "),n("div",{staticClass:"pill-filter"},[t._v("\n        状态：\n        "),n("span",{staticClass:"filter-label",class:0===t.state?"active":"",on:{click:function(e){t.state=0}}},[t._v("全部")]),t._v(" "),t._l(t.states,function(e){return n("span",{key:e.value,staticClass:"filter-label",class:e.value===t.state?"active":"",on:{click:function(s){t.state=e.value}}},[t._v(t._s(e.label))])})],2)]),t._v(" "),n("div",{staticClass:"question-list"},[t.loading?n("loader"):t._e(),t._v(" "),t.questions.length?n("table",{staticClass:"ui very celled table"},[t._m(0),t._v(" "),n("tbody",t._l(t.questions,function(e,s){return n("tr",{key:e.uuid,class:"state-"+e.state},[n("td",{staticClass:"mini"},[t._v(t._s(s+1))]),t._v(" "),n("td",{staticClass:"tiny"},[t._v(t._s(e.displayName))]),t._v(" "),n("td",{staticClass:"tiny"},[t._v(t._s(e.stateLabel))]),t._v(" "),n("td",{staticClass:"question-abstract",on:{click:function(s){t.questionToPreview=e}}},[t._v(t._s(e.abstract))]),t._v(" "),n("td",{staticClass:"row-actions"},[t.canEdit(e)?n("span",{staticClass:"link link-primary",on:{click:function(s){t.openEditQuestion(e)}}},[t._v("编辑")]):t._e(),t._v(" "),t.canPublish(e)?n("span",{staticClass:"link link-primary",on:{click:function(s){t.questionToPublish=e}}},[t._v("发布")]):t._e(),t._v(" "),t.canDisable(e)?n("span",{staticClass:"link link-danger",on:{click:function(s){t.questionToDisable=e}}},[t._v("停用")]):t._e(),t._v(" "),t.canDiscard(e)?n("span",{staticClass:"link link-danger",on:{click:function(s){t.questionToDiscard=e}}},[t._v("删除")]):t._e(),t._v(" "),n("span",{staticClass:"link link-primary",on:{click:function(s){t.openDuplicateQuestion(e)}}},[t._v("复制")])])])}))]):t._e()],1),t._v(" "),t.loading||0!==t.questions.length?t._e():n("div",{staticClass:"content-empty"},[n("img",{attrs:{src:s(30)}}),t._v(" "),t._m(1)]),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&t.questions.length,expression:"!loading && questions.length"}],staticClass:"pagination",attrs:{totalPage:t.totalPage,curPage:t.selectedPage},on:{"update:selected":function(e){return t.fetchQuestions(e)}}})],1),t._v(" "),t.questionToPreview?n("single-preview-modal",{attrs:{question:t.questionToPreview},on:{close:function(e){t.questionToPreview=null}}}):t._e(),t._v(" "),t.questionToPublish?n("modal",{attrs:{withHeader:!1},on:{close:function(e){t.questionToPublish=null}}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("h3",[n("i",{staticClass:"exclamation circle icon"}),t._v(" 确定要发布本题吗？")]),t._v(" "),n("p",[t._v("发布后可以停用/删除/复制此题, 但不能在原题上进行编辑修改。")])]),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"ui basic button",on:{click:function(e){t.questionToPublish=null}}},[t._v("取消")]),t._v(" "),n("button",{staticClass:"ui primary button",on:{click:function(e){t.publish(t.questionToPublish)}}},[t._v("发布")])])]):t._e(),t._v(" "),t.questionToDisable?n("modal",{attrs:{withHeader:!1},on:{close:function(e){t.questionToDisable=null}}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("h3",[n("i",{staticClass:"exclamation circle icon"}),t._v(" 确定要停用本题吗？")]),t._v(" "),n("p",[t._v("停用后此题将不再出现在组卷页面。你之后可以再发布此题，但已不能在原题上进行编辑修改。")])]),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"ui basic button",on:{click:function(e){t.questionToDisable=null}}},[t._v("取消")]),t._v(" "),n("button",{staticClass:"ui red button",on:{click:function(e){t.disable(t.questionToDisable)}}},[t._v("停用")])])]):t._e(),t._v(" "),t.questionToDiscard?n("modal",{attrs:{withHeader:!1},on:{close:function(e){t.questionToDiscard=null}}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("h3",[n("i",{staticClass:"exclamation circle icon"}),t._v(" 确定要删除本题吗？")]),t._v(" "),n("p",[t._v("删除后将不能恢复此题。")])]),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"ui basic button",on:{click:function(e){t.questionToDiscard=null}}},[t._v("取消")]),t._v(" "),n("button",{staticClass:"ui red button",on:{click:function(e){t.discard(t.questionToDiscard)}}},[t._v("删除")])])]):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"mini"},[t._v("序号")]),t._v(" "),s("th",{staticClass:"tiny"},[t._v("题型")]),t._v(" "),s("th",{staticClass:"tiny"},[t._v("状态")]),t._v(" "),s("th",[t._v("摘要（点击预览）")]),t._v(" "),s("th",{staticClass:"row-actions"},[t._v("操作")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("\n        什么也没有，试试"),s("span",{staticClass:"text-danger"},[t._v("减少筛选条件")]),t._v("或者创建新题。\n      ")])}]}},161:function(t,e){},1612:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-question",attrs:{id:"edit-question"}},[t.question?n("p",{staticClass:"ui header"},[t._v("编辑 / "+t._s(t.question.displayName))]):n("p",{staticClass:"ui header"},[t._v("编辑题目")]),t._v(" "),t.question?n(t.currentView,{tag:"component",attrs:{question:t.question,action:"edit"}}):t._e(),t._v(" "),!t.question&&t.errorMsg?n("div",{staticClass:"content-empty"},[n("img",{attrs:{src:s(30)}}),t._v(" "),!t.question&&t.errorMsg?n("p",[t._v(t._s(t.errorMsg)+" 前往"),n("span",{staticClass:"link link-primary",on:{click:function(e){t.$router.push({name:"manage-questions"})}}},[t._v("题目管理列表")])]):t._e()]):t._e()],1)},staticRenderFns:[]}},162:function(t,e){},163:function(t,e){},164:function(t,e){},165:function(t,e,s){function n(t){s(161)}var i=s(0)(s(129),s(183),n,"data-v-900ed538",null);t.exports=i.exports},166:function(t,e,s){function n(t){s(156)}var i=s(0)(s(130),s(179),n,"data-v-61b34910",null);t.exports=i.exports},167:function(t,e,s){function n(t){s(155)}var i=s(0)(s(131),s(178),n,"data-v-5bdf180c",null);t.exports=i.exports},168:function(t,e,s){function n(t){s(162)}var i=s(0)(s(132),s(184),n,"data-v-c4f2a48c",null);t.exports=i.exports},169:function(t,e,s){function n(t){s(164)}var i=s(0)(s(133),s(186),n,"data-v-dec4481c",null);t.exports=i.exports},170:function(t,e,s){function n(t){s(163)}var i=s(0)(s(134),s(185),n,"data-v-d34f4dda",null);t.exports=i.exports},171:function(t,e,s){function n(t){s(159)}var i=s(0)(s(135),s(181),n,"data-v-8200a902",null);t.exports=i.exports},172:function(t,e,s){function n(t){s(154)}var i=s(0)(s(136),s(177),n,"data-v-16beee14",null);t.exports=i.exports},173:function(t,e,s){function n(t){s(153)}var i=s(0)(s(137),s(176),n,"data-v-0a8f284e",null);t.exports=i.exports},174:function(t,e,s){function n(t){s(1084),s(1085)}var i=s(0)(s(925),s(1485),n,"data-v-356a42e0",null);t.exports=i.exports},175:function(t,e,s){function n(t){s(160)}var i=s(0)(s(139),s(182),n,"data-v-8e54fdbe",null);t.exports=i.exports},176:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview-question preview-single-choice"},[s("div",{staticClass:"q-content"},[t.index?s("span",{staticClass:"seq-label main-seq-label"},[t._v(t._s(t.index)+". ")]):t._e(),t._v(" "),t.showDisplayName?s("span",{staticClass:"display-name-label"},[t._v(t._s(t.question.displayName))]):t._e(),t._v(" "),t.question.score?s("span",[t._v("("+t._s(t.question.score)+"分)")]):t._e(),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(t.question.stemHtml)}}),t._v(" "),s("div",{staticClass:"options"},t._l(t.question.options,function(e){return s("div",{key:e.id,class:t.optionClass(e)},[s("span",{staticClass:"seq-label"},[t._v(t._s(e.seqLabel)+". ")]),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(e.textHtml)}}),t._v(" "),t.showUserAnswer&&e.isUserAnswer(t.studentId)?s("icon",{attrs:{name:e.isAnswer?"check":"remove"}}):t._e()],1)})),t._v(" "),t.answerSheetMode?t._e():s("toggle-analysis",{attrs:{question:t.question,unfold:t.unfoldAnalysis}})],1),t._v(" "),t.showStat&&t.question.hasReport?s("div",{staticClass:"q-stat"},[s("div",{staticClass:"stat-chart"},[s("bar-chart",{staticClass:"normal content",attrs:{options:t.question.options,totalStuCount:Object.keys(t.allStudents).length}}),t._v(" "),s("div",{staticClass:"overlay content"}),t._v(" "),s("button",{staticClass:"ui primary button action content",on:{click:function(e){t.resultModalTarget=t.question}}},[t._v("查看详情")])],1)]):t._e(),t._v(" "),t.showStat&&t.resultModalTarget&&t.resultModalTarget.hasReport?s("modal-objective-results",{attrs:{question:t.resultModalTarget,allStudents:t.allStudents},on:{close:function(e){t.resultModalTarget=null}}}):t._e()],1)},staticRenderFns:[]}},177:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview-question preview-short-dialog"},[s("div",{staticClass:"q-content"},[t.index?s("span",{staticClass:"seq-label main-seq-label"},[t._v(t._s(t.index)+". ")]):t._e(),t._v(" "),t.showDisplayName?s("span",{staticClass:"display-name-label"},[t._v(t._s(t.question.displayName))]):t._e(),t._v(" "),t.question.score?s("span",[t._v("("+t._s(t.question.score)+"分)")]):t._e(),t._v(" "),"create"===t.question.sourceAction||t.localAudioInstead&&!t.question.audioUrl?t._e():s("audio",{attrs:{controls:"",controlsList:"nodownload"}},[s("source",{attrs:{src:t.question.audioUrl}}),t._v("\n      您的浏览器版本过低，请更新\n    ")]),t._v(" "),s("div",{staticClass:"richtext",domProps:{innerHTML:t._s(t.question.stemHtml)}}),t._v(" "),s("div",{staticClass:"options"},t._l(t.question.options,function(e){return s("div",{key:e.id,class:t.optionClass(e)},[s("span",{staticClass:"seq-label"},[t._v(t._s(e.seqLabel)+". ")]),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(e.textHtml)}}),t._v(" "),t.showUserAnswer&&e.isUserAnswer(t.studentId)?s("icon",{attrs:{name:e.isAnswer?"check":"remove"}}):t._e()],1)})),t._v(" "),t.answerSheetMode?t._e():s("toggle-analysis",{attrs:{question:t.question,unfold:t.unfoldAnalysis}})],1),t._v(" "),t.showStat&&t.question.hasReport?s("div",{staticClass:"q-stat"},[s("div",{staticClass:"stat-chart"},[s("bar-chart",{staticClass:"normal content",attrs:{options:t.question.options,totalStuCount:Object.keys(t.allStudents).length}}),t._v(" "),s("div",{staticClass:"overlay content"}),t._v(" "),s("button",{staticClass:"ui primary button action content",on:{click:function(e){t.resultModalTarget=t.question}}},[t._v("查看详情")])],1)]):t._e(),t._v(" "),t.showStat&&t.resultModalTarget&&t.resultModalTarget.hasReport?s("modal-objective-results",{attrs:{question:t.resultModalTarget,allStudents:t.allStudents},on:{close:function(e){t.resultModalTarget=null}}}):t._e()],1)},staticRenderFns:[]}},178:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview-question edit-long-dialog"},[s("div",{staticClass:"q-content"},[t.index?s("span",{staticClass:"seq-label main-seq-label"},[t._v(t._s(t.index)+". ")]):t._e(),t._v(" "),t.showDisplayName?s("span",{staticClass:"display-name-label"},[t._v(t._s(t.question.displayName))]):t._e(),t._v(" "),t.question.score?s("span",[t._v("("+t._s(t.question.score)+"分)")]):t._e(),t._v(" "),"create"===t.question.sourceAction||t.localAudioInstead&&!t.question.audioUrl?t._e():s("audio",{attrs:{controls:"",controlsList:"nodownload"}},[s("source",{attrs:{src:t.question.audioUrl||t.audioPath}}),t._v("\n      您的浏览器版本过低，请更新\n    ")]),t._v(" "),s("div",{staticClass:"richtext",domProps:{innerHTML:t._s(t.question.stemHtml)}}),t._v(" "),s("div",{staticClass:"sub-questions"},t._l(t.question.questions,function(e,n){return s("div",{staticClass:"sub-question"},[s("span",{staticClass:"subq-seqlabel"},[t._v("("+t._s(n+1)+")")]),t._v(" "),s("div",{staticClass:"subq-content flex-1"},[s("div",{staticClass:"options"},t._l(e.options,function(e){return s("div",{key:e.id,class:t.optionClass(e)},[s("span",{staticClass:"seq-label"},[t._v(t._s(e.seqLabel)+". ")]),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(e.textHtml)}}),t._v(" "),t.showUserAnswer&&e.isUserAnswer(t.studentId)?s("icon",{attrs:{name:e.isAnswer?"check":"remove"}}):t._e()],1)}))]),t._v(" "),t.showStat&&t.question.hasReport?s("div",{staticClass:"q-stat"},[s("div",{staticClass:"stat-chart"},[s("circular-chart",{staticClass:"normal content",attrs:{options:e.options,totalStuCount:Object.keys(t.allStudents).length}}),t._v(" "),s("div",{staticClass:"overlay content"}),t._v(" "),s("button",{staticClass:"ui primary button action content",on:{click:function(s){t.resultModalTarget=e}}},[t._v("查看详情")])],1)]):t._e()])})),t._v(" "),t.answerSheetMode?t._e():s("toggle-analysis",{attrs:{question:t.question,unfold:t.unfoldAnalysis}}),t._v(" "),t.showStat&&t.resultModalTarget&&t.resultModalTarget.hasReport?s("modal-objective-results",{attrs:{question:t.resultModalTarget,allStudents:t.allStudents},on:{close:function(e){t.resultModalTarget=null}}}):t._e()],1)])},staticRenderFns:[]}},179:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview-question preview-essay"},[s("div",{staticClass:"q-content"},[t.index?s("span",{staticClass:"seq-label main-seq-label"},[t._v(t._s(t.index)+". ")]):t._e(),t._v(" "),t.showDisplayName?s("span",{staticClass:"display-name-label"},[t._v(t._s(t.question.displayName))]):t._e(),t._v(" "),t.question.score?s("span",[t._v("("+t._s(t.question.score)+"分)")]):t._e(),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(t.question.stemHtml)}}),t._v(" "),t.showUserAnswer?s("subjective-result",{attrs:{question:t.question,studentId:t.studentId,student:t.allStudents[t.studentId]}}):t._e(),t._v(" "),t.showStat?s("toggle-analysis",{attrs:{customSlot:!0}},[s("span",{attrs:{slot:"toggleTitle"},slot:"toggleTitle"},[t._v("作答详情")]),t._v(" "),t.question.hasReport&&t.totalStuCount?s("span",{attrs:{slot:"subTitle"},slot:"subTitle"},[t._v(t._s(t.question.results.length)+"人已作答, "+t._s(t.totalStuCount-t.question.results.length)+"人未作答")]):t._e(),t._v(" "),s("template",{attrs:{slot:"toggleContent"},slot:"toggleContent"},[s("inline-subjective-results",{attrs:{question:t.question,allStudents:t.allStudents}})],1)],2):t._e(),t._v(" "),t.answerSheetMode?t._e():s("toggle-analysis",{attrs:{question:t.question,unfold:t.unfoldAnalysis}})],1)])},staticRenderFns:[]}},180:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.customSlot?s("div",{staticClass:"toggle-analysis"},[s("span",{staticClass:"link link-default",on:{click:t.toggleContent}},[t._t("toggleTitle"),s("i",{staticClass:"ui angle down icon"})],2),t._v(" "),s("span",{staticClass:"sub-title",on:{click:t.toggleContent}},[t._t("subTitle")],2),t._v(" "),s("div",{staticClass:"toggle-content",staticStyle:{display:"none"}},[t._t("toggleContent")],2)]):s("div",{staticClass:"toggle-analysis"},[s("span",{staticClass:"link link-default",on:{click:function(e){e.stopPropagation(),t.toggleContent(e)}}},[t.question.analysisFolded?[t._v("\n      查看解析"),s("i",{staticClass:"ui angle down icon"})]:[t._v("\n      收起解析"),s("i",{staticClass:"ui angle up icon"})]],2),t._v(" "),s("div",{staticClass:"toggle-content",style:t.question.analysisFolded?"display: none;":""},[[9,10].includes(t.question.kind)&&!t.question.audioTextEmpty?s("div",[s("span",{staticClass:"section-sm-label"},[t._v("听力原文：")]),t._v(" "),s("span",{staticClass:"flex-1 richtext",domProps:{innerHTML:t._s(t.question.audioTextHtml)}})]):t._e(),t._v(" "),t.question.hasOwnProperty("questions")?[t._l(t.question.questions,function(e,n){return s("div",{staticClass:"display-flex"},[t.hasMultiSubQ?s("span",{staticClass:"subq-seqlabel"},[t._v("("+t._s(n+1)+")")]):t._e(),t._v(" "),s("div",{staticClass:"subq-content"},["answerSeq"in e?s("div",{staticClass:"display-flex"},[s("span",{staticClass:"section-sm-label"},[t._v("答案：")]),t._v(" "),s("span",{staticClass:"flex-1 seq-label"},[t._v(t._s(e.answerSeqLabel))])]):t._e(),t._v(" "),e.answerComposed?s("div",{staticClass:"display-flex"},[s("span",{staticClass:"section-sm-label"},[t._v("答案：")]),t._v(" "),s("div",{staticClass:"flex-1"},[s("span",{staticClass:"sub-q-answer"},[t._v(t._s(e.answerComposed.replace(/\$\$/g," 或 ")))])])]):t._e(),t._v(" "),e.analysisEmpty?t._e():s("div",{staticClass:"display-flex"},[s("span",{staticClass:"section-sm-label"},[t._v("解析：")]),t._v(" "),s("span",{staticClass:"richtext flex-1",domProps:{innerHTML:t._s(e.analysisHtml)}})])])])}),t._v(" "),t.hasMultiSubQ?s("hr"):t._e()]:["answerSeq"in t.question?s("div",{staticClass:"display-flex"},[s("span",{staticClass:"section-sm-label"},[t._v("答案：")]),t._v(" "),s("span",{staticClass:"flex-1 seq-label"},[t._v(t._s(t.question.answerSeqLabel))])]):"answerSeqComposed"in t.question?s("div",{staticClass:"display-flex"},[s("span",{staticClass:"section-sm-label"},[t._v("答案：")]),t._v(" "),s("span",{staticClass:"flex-1 seq-label"},[t._v(t._s(t.question.answerSeqComposed))])]):t.question.answerRich?s("div",{staticClass:"display-flex"},[s("span",{staticClass:"section-sm-label"},[t._v("答案：")]),t._v(" "),s("span",{staticClass:"flex-1 richtext",domProps:{innerHTML:t._s(t.question.answerHtml)}})]):t._e(),t._v(" "),t.question.analysisEmpty?t._e():s("div",{staticClass:"display-flex"},[s("span",{staticClass:"section-sm-label"},[t._v("解析：")]),t._v(" "),s("span",{staticClass:"flex-1 richtext",domProps:{innerHTML:t._s(t.question.analysisHtml)}})])],t._v(" "),t.question.knowledges&&t.question.knowledges.length?s("div",{staticClass:"display-flex"},[s("span",{staticClass:"section-sm-label"},[t._v("知识点：")]),t._v(" "),s("div",{staticClass:"flex-1"},t._l(t.question.knowledges,function(e){return s("span",{staticClass:"ui knowledge label"},[t._v(t._s(e.label))])}))]):t._e(),t._v(" "),t.question.chapters&&t.question.chapters.length?s("div",{staticClass:"display-flex"},[s("span",{staticClass:"section-sm-label"},[t._v("章节：")]),t._v(" "),s("div",{staticClass:"flex-1"},t._l(t.question.chapters,function(e){return s("span",{staticClass:"ui knowledge label"},[t._v(t._s(e.label))])}))]):t._e(),t._v(" "),t.question.source?s("div",{staticClass:"display-flex"},[s("span",{staticClass:"section-sm-label"},[t._v("来源：")]),t._v(" "),s("span",{staticClass:"flex-1"},[t._v(t._s(t.question.source))])]):t._e()],2)])},staticRenderFns:[]}},181:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview-question preview-reading-choice"},[s("div",{staticClass:"q-content"},[t.index?s("span",{staticClass:"seq-label main-seq-label"},[t._v(t._s(t.index)+". ")]):t._e(),t._v(" "),t.showDisplayName?s("span",{staticClass:"display-name-label"},[t._v(t._s(t.question.displayName))]):t._e(),t._v(" "),t.question.score?s("span",[t._v("("+t._s(t.question.score)+"分)")]):t._e(),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(t.question.stemHtml)}}),t._v(" "),s("div",{staticClass:"sub-questions"},t._l(t.question.questions,function(e,n){return s("div",{key:e.id,staticClass:"sub-question"},[s("span",{staticClass:"subq-seqlabel"},[t._v("("+t._s(n+1)+")")]),t._v(" "),s("div",{staticClass:"subq-content flex-1"},[s("div",{domProps:{innerHTML:t._s(e.textHtml)}}),t._v(" "),s("div",{staticClass:"options"},t._l(e.options,function(e){return s("div",{key:e.id,class:t.optionClass(e)},[s("span",{staticClass:"seq-label"},[t._v(t._s(e.seqLabel)+". ")]),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(e.textHtml)}}),t._v(" "),t.showUserAnswer&&e.isUserAnswer(t.studentId)?s("icon",{attrs:{name:e.isAnswer?"check":"remove"}}):t._e()],1)}))]),t._v(" "),t.showStat&&t.question.hasReport?s("div",{staticClass:"q-stat"},[s("div",{staticClass:"stat-chart"},[s("circular-chart",{staticClass:"normal content",attrs:{options:e.options,totalStuCount:Object.keys(t.allStudents).length}}),t._v(" "),s("div",{staticClass:"overlay content"}),t._v(" "),s("button",{staticClass:"ui primary button action content",on:{click:function(s){t.resultModalTarget=e}}},[t._v("查看详情")])],1)]):t._e()])}))]),t._v(" "),t.answerSheetMode?t._e():s("toggle-analysis",{attrs:{question:t.question,unfold:t.unfoldAnalysis}}),t._v(" "),t.showStat&&t.resultModalTarget&&t.resultModalTarget.hasReport?s("modal-objective-results",{attrs:{question:t.resultModalTarget,allStudents:t.allStudents},on:{close:function(e){t.resultModalTarget=null}}}):t._e()],1)},staticRenderFns:[]}},182:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview-question preview-true-false"},[s("div",{staticClass:"q-content"},[t.index?s("span",{staticClass:"seq-label main-seq-label"},[t._v(t._s(t.index)+". ")]):t._e(),t._v(" "),t.showDisplayName?s("span",{staticClass:"display-name-label"},[t._v(t._s(t.question.displayName))]):t._e(),t._v(" "),t.question.score?s("span",[t._v("("+t._s(t.question.score)+"分)")]):t._e(),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(t.question.stemHtml)}}),t._v(" "),s("div",{staticClass:"options"},t._l(t.question.options,function(e){return s("div",{key:e.id,class:t.optionClass(e)},[s("span",{staticClass:"seq-label"},[t._v(t._s(e.seqLabel)+". ")]),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(e.textHtml)}}),t._v(" "),t.showUserAnswer&&e.isUserAnswer(t.studentId)?s("icon",{attrs:{name:e.isAnswer?"check":"remove"}}):t._e()],1)})),t._v(" "),t.answerSheetMode?t._e():s("toggle-analysis",{attrs:{question:t.question,unfold:t.unfoldAnalysis}})],1),t._v(" "),t.showStat&&t.question.hasReport?s("div",{staticClass:"q-stat"},[s("div",{staticClass:"stat-chart"},[s("bar-chart",{staticClass:"normal content",attrs:{options:t.question.options,totalStuCount:Object.keys(t.allStudents).length}}),t._v(" "),s("div",{staticClass:"overlay content"}),t._v(" "),s("button",{staticClass:"ui primary button action content",on:{click:function(e){t.resultModalTarget=t.question}}},[t._v("查看详情")])],1)]):t._e(),t._v(" "),t.showStat&&t.resultModalTarget&&t.resultModalTarget.hasReport?s("modal-objective-results",{attrs:{question:t.resultModalTarget,allStudents:t.allStudents},on:{close:function(e){t.resultModalTarget=null}}}):t._e()],1)},staticRenderFns:[]}},183:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview-question preview-cloze"},[s("div",{staticClass:"q-content"},[t.index?s("span",{staticClass:"seq-label main-seq-label"},[t._v(t._s(t.index)+". ")]):t._e(),t._v(" "),t.showDisplayName?s("span",{staticClass:"display-name-label"},[t._v(t._s(t.question.displayName))]):t._e(),t._v(" "),t.question.score?s("span",[t._v("("+t._s(t.question.score)+"分)")]):t._e(),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(t.question.stemHtml)}}),t._v(" "),s("div",{staticClass:"sub-questions"},t._l(t.question.questions,function(e,n){return s("div",{staticClass:"sub-question"},[s("span",{staticClass:"subq-seqlabel"},[t._v("("+t._s(n+1)+")")]),t._v(" "),s("div",{staticClass:"subq-content flex-1"},[s("div",{staticClass:"options"},t._l(e.options,function(e){return s("div",{key:e.id,class:t.optionClass(e)},[s("span",{staticClass:"seq-label"},[t._v(t._s(e.seqLabel)+". ")]),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(e.textHtml)}}),t._v(" "),t.showUserAnswer&&e.isUserAnswer(t.studentId)?s("icon",{attrs:{name:e.isAnswer?"check":"remove"}}):t._e()],1)}))]),t._v(" "),t.showStat&&t.question.hasReport?s("div",{staticClass:"q-stat"},[s("div",{staticClass:"stat-chart"},[s("circular-chart",{staticClass:"normal content",attrs:{options:e.options,totalStuCount:Object.keys(t.allStudents).length}}),t._v(" "),s("div",{staticClass:"overlay content"}),t._v(" "),s("button",{staticClass:"ui primary button action content",on:{click:function(s){t.resultModalTarget=e}}},[t._v("查看详情")])],1)]):t._e()])}))]),t._v(" "),t.answerSheetMode?t._e():s("toggle-analysis",{attrs:{question:t.question,unfold:t.unfoldAnalysis}}),t._v(" "),t.showStat&&t.resultModalTarget&&t.resultModalTarget.hasReport?s("modal-objective-results",{attrs:{question:t.resultModalTarget,allStudents:t.allStudents},on:{close:function(e){t.resultModalTarget=null}}}):t._e()],1)},staticRenderFns:[]}},184:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview-question preview-matching"},[s("div",{staticClass:"q-content"},[t.index?s("span",{staticClass:"seq-label main-seq-label"},[t._v(t._s(t.index)+". ")]):t._e(),t._v(" "),t.showDisplayName?s("span",{staticClass:"display-name-label"},[t._v(t._s(t.question.displayName))]):t._e(),t._v(" "),t.question.score?s("span",[t._v("("+t._s(t.question.score)+"分)")]):t._e(),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(t.question.stemHtml)}}),t._v(" "),s("div",{staticClass:"display-flex option-answer"},[s("div",{staticClass:"option-pool flex-1"},[s("span",{staticClass:"section-sm-label"},[t._v("备选项")]),t._v(" "),t._l(t.question.options,function(e){return s("div",{key:e.id,staticClass:"display-flex"},[s("span",{staticClass:"seq-label"},[t._v(t._s(e.seqLabel)+". ")]),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(e.textHtml)}})])})],2),t._v(" "),t.showAnswer?s("div",{staticClass:"sub-questions"},[s("span",{staticClass:"text-label"},[t._v("各小题作答详情：")]),t._v(" "),t._l(t.question.questions,function(e,n){return s("div",{key:e.id,staticClass:"sub-question"},[s("span",{staticClass:"subq-seqlabel"},[t._v("("+t._s(n+1)+")")]),t._v(" "),t.showUserAnswer?s("span",{staticClass:"user-answer"},[e.getUserAnswerOption(t.studentId)?s("span",{class:e.getUserAnswerOption(t.studentId).isAnswer?"user-correct":"user-wrong"},[t._v("\n              "+t._s(e.getUserAnswerOption(t.studentId).seqLabel)+"\n              "),s("icon",{attrs:{name:e.getUserAnswerOption(t.studentId).isAnswer?"check":"remove"}})],1):s("span",{staticClass:"text-label text-danger"},[t._v("未作答")])]):t._e(),t._v(" "),s("span",{staticClass:"text-label"},[t._v("正确答案 ")]),t._v(" "),s("div",{staticClass:"subq-content flex-1"},[t._v(" "+t._s(e.answerSeqLabel)+" ")]),t._v(" "),t.showStat&&t.question.hasReport?s("div",{staticClass:"q-stat"},[s("div",{staticClass:"stat-chart"},[s("circular-chart",{staticClass:"normal content",attrs:{options:e.options,totalStuCount:Object.keys(t.allStudents).length}}),t._v(" "),s("div",{staticClass:"overlay content"}),t._v(" "),s("button",{staticClass:"ui primary button action content",on:{click:function(s){t.resultModalTarget=e}}},[t._v("查看详情")])],1)]):t._e()])})],2):t._e()])]),t._v(" "),t.answerSheetMode?t._e():s("toggle-analysis",{attrs:{question:t.question,unfold:t.unfoldAnalysis}}),t._v(" "),t.showStat&&t.resultModalTarget&&t.resultModalTarget.hasReport?s("modal-objective-results",{attrs:{question:t.resultModalTarget,allStudents:t.allStudents},on:{close:function(e){t.resultModalTarget=null}}}):t._e()],1)},staticRenderFns:[]}},185:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview-question preview-objective-blank"},[s("div",{staticClass:"q-content"},[t.index?s("span",{staticClass:"seq-label main-seq-label"},[t._v(t._s(t.index)+". ")]):t._e(),t._v(" "),t.showDisplayName?s("span",{staticClass:"display-name-label"},[t._v(t._s(t.question.displayName))]):t._e(),t._v(" "),t.question.score?s("span",[t._v("("+t._s(t.question.score)+"分)")]):t._e(),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(t.question.stemHtml)}}),t._v(" "),t.showAnswer?s("div",{staticClass:"sub-questions"},t._l(t.question.questions,function(e,n){return s("div",{staticClass:"sub-question"},[s("span",{staticClass:"subq-seqlabel"},[t._v("("+t._s(n+1)+")")]),t._v(" "),s("div",{staticClass:"subq-content flex-1"},[t.showUserAnswer?s("span",{staticClass:"user-answer"},[e.getUserAnswer(t.studentId)?[s("span",{class:e.isUserCorrect(t.studentId)?"user-correct":"user-wrong"},[t._v("\n                "+t._s(e.getUserAnswer(t.studentId))+"\n                "),s("icon",{attrs:{name:e.isUserCorrect(t.studentId)?"check":"remove"}})],1)]:s("span",{staticClass:"text-label text-danger"},[t._v("未作答")])],2):t._e(),t._v(" "),s("span",{staticClass:"text-label"},[t._v("正确答案：")]),t._v(" "),s("span",{staticClass:"subq-answer"},[t._v(t._s(e.answerComposed.replace(/\$\$/g," 或 ")))])]),t._v(" "),t.showStat&&t.question.hasReport?s("div",{staticClass:"q-stat"},[s("div",{staticClass:"stat-chart"},[s("bar-chart",{staticClass:"normal content",attrs:{blankQuestion:e,totalStuCount:Object.keys(t.allStudents).length}}),t._v(" "),s("div",{staticClass:"overlay content"}),t._v(" "),s("button",{staticClass:"ui primary button action content",on:{click:function(s){t.resultModalTarget=e}}},[t._v("查看详情")])],1)]):t._e()])})):t._e(),t._v(" "),t.answerSheetMode?t._e():s("toggle-analysis",{attrs:{question:t.question,unfold:t.unfoldAnalysis}})],1),t._v(" "),t.showStat?s("modal-blank-results",{attrs:{question:t.resultModalTarget,allStudents:t.allStudents},on:{close:function(e){t.resultModalTarget=null}}}):t._e()],1)},staticRenderFns:[]}},186:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview-question preview-multi-choice"},[s("div",{staticClass:"q-content"},[t.index?s("span",{staticClass:"seq-label main-seq-label"},[t._v(t._s(t.index)+". ")]):t._e(),t._v(" "),t.showDisplayName?s("span",{staticClass:"display-name-label"},[t._v(t._s(t.question.displayName))]):t._e(),t._v(" "),t.question.score?s("span",[t._v("("+t._s(t.question.score)+"分)")]):t._e(),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(t.question.stemHtml)}}),t._v(" "),s("div",{staticClass:"options"},t._l(t.question.options,function(e){return s("div",{key:e.id,class:t.optionClass(e)},[s("span",{staticClass:"seq-label"},[t._v(t._s(e.seqLabel)+". ")]),t._v(" "),s("span",{staticClass:"richtext",domProps:{innerHTML:t._s(e.textHtml)}}),t._v(" "),t.showUserAnswer&&e.isUserAnswer(t.studentId)?s("icon",{attrs:{name:e.isAnswer?"check":"remove"}}):t._e()],1)})),t._v(" "),t.answerSheetMode?t._e():s("toggle-analysis",{attrs:{question:t.question,unfold:t.unfoldAnalysis}})],1),t._v(" "),t.showStat&&t.question.hasReport?s("div",{staticClass:"q-stat"},[s("div",{staticClass:"stat-chart"},[s("bar-chart",{staticClass:"normal content",attrs:{options:t.question.options,totalStuCount:Object.keys(t.allStudents).length}}),t._v(" "),s("div",{staticClass:"overlay content"}),t._v(" "),s("button",{staticClass:"ui primary button action content",on:{click:function(e){t.resultModalTarget=t.question}}},[t._v("查看详情")])],1)]):t._e(),t._v(" "),t.showStat&&t.resultModalTarget&&t.resultModalTarget.hasReport?s("modal-objective-results",{attrs:{question:t.resultModalTarget,allStudents:t.allStudents},on:{close:function(e){t.resultModalTarget=null}}}):t._e()],1)},staticRenderFns:[]}},2:function(t,e,s){function n(t){s(65)}var i=s(0)(s(60),s(67),n,null,null);t.exports=i.exports},204:function(t,e,s){function n(t){s(1108)}var i=s(0)(s(914),s(1508),n,"data-v-48c31aa1",null);t.exports=i.exports},21:function(t,e,s){"use strict";s.d(e,"c",function(){return f}),s.d(e,"a",function(){return m}),s.d(e,"b",function(){return _}),s.d(e,"d",function(){return y});var n=s(34),i=s.n(n),a=s(1),o=s.n(a),r=s(3),l=s.n(r),u=s(4),c=s.n(u),d=s(54),p=s.n(d),v=s(6),h=s(51),f=function(){function t(e,s){if(l()(this,t),e.hasOwnProperty("kind")&&e.kind!==s)throw"题目 kind 值错误";this.kind=s,this.isSubjective=s===v.h,this.sourceAction=e.sourceAction||"",this.uuid="duplicate"===e.sourceAction?null:e.uuid,this.score=e.score||null;var n=e.displayKind;if(!n||!v.k.hasOwnProperty(n))throw"题目 displayKind 值错误";this.displayKind=n,this.displayName=v.k[this.displayKind].displayName,this.subjectId=v.k[this.displayKind].subjectId,this.versionId=e.versionId||0,this.authorId=e.authorId||0,this.difficulty=e.difficulty||0,this.chapters=e.chapters||[],this.knowledges=e.knowledges||[],this.source=e.source||"",this.state="duplicate"===e.sourceAction?3e3:e.state||3e3,this.increKey=e.increKey||1,this.hasReport=!1,this.analysisFolded=!0}return c()(t,[{key:"commonInfoValidate",value:function(){return this.kind?this.displayKind?this.displayName?this.difficulty?0===this.chapters.length?[!1,"请关联章节"]:0===this.knowledges.length?[!1,"请关联知识点"]:void 0:[!1,"请设置难度"]:[!1,"缺少 displayName 信息"]:[!1,"缺少 displayKind 信息"]:[!1,"缺少 kind 信息"]}},{key:"validate",value:function(){var t=this.commonInfoValidate();if(t)return t;if(this.hasOwnProperty("stemRich")&&this.stemEmpty)return[!0,"题干不能为空"];if(this.hasOwnProperty("answerRich")&&this.answerEmpty)return[!0,"答案不能为空"];if(this.hasOwnProperty("options")){var e=this.options.length;if(e<2)return[!1,"选择题/多选题请至少保留两个选项"];if(this.hasOwnProperty("answerSeq")&&(this.answerSeq<0||this.answerSeq>=e))return[!1,"答案设置有问题"];var s=null,n=!0,i=!1,a=void 0;try{for(var r,l=o()(this.options);!(n=(r=l.next()).done);n=!0){var u=r.value,c=u.validate();if(c)return c;u.isAnswer&&(s=u)}}catch(t){i=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}if(!s)return[!1,"请勾选一个答案"]}if(this.hasOwnProperty("questions")){if(this.questions.length<=0)return[!1,"至少要有一个小题"];var d=!0,p=!1,v=void 0;try{for(var h,f=o()(this.questions);!(d=(h=f.next()).done);d=!0){var m=h.value,_=m.validate();if(_)return _}}catch(t){p=!0,v=t}finally{try{!d&&f.return&&f.return()}finally{if(p)throw v}}}}},{key:"stringify",value:function(){return i()(this,h.a)}},{key:"windup",value:function(){Object.defineProperty(this,"subQuestionCount",{get:function(){return"questions"in this?this.questions.length:1}}),s.i(h.b)(this)}},{key:"onPreview",get:function(){return"preview"===this.sourceAction}},{key:"onEdit",get:function(){return["create","edit","duplicate"].includes(this.sourceAction)}},{key:"stateLabel",get:function(){return v.m[this.state]}},{key:"abstract",get:function(){var t="";if(this.stemRich&&(t=s.i(h.c)(this.stemRich)),!t&&this.options){var e=!0,n=!1,i=void 0;try{for(var a,r=o()(this.options);!(e=(a=r.next()).done);e=!0){t+=a.value.abstract}}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}}return t.length>100?t.slice(0,100)+"...":t||"无摘要"}}]),t}(),m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.id="duplicate"===e.sourceAction?null:e.id,this.seq=e.seq||0,this.isAnswer=e.isAnswer||!1,this.textRich=e.textRich||{},this.vkey=e.vkey||1,this.sids=[],this.multiAnswer=e||!1,this.hasReport=!1,Object.defineProperty(this,"seqLabel",{get:function(){return String.fromCharCode(65+this.seq)}}),s.i(h.b)(this)}return c()(t,[{key:"validate",value:function(){if(this.textEmpty)return[!0,"请输入选项文本"]}},{key:"isUserAnswer",value:function(t){return this.sids.includes(t)}},{key:"injectReportData",value:function(t){this.sids=t[this.seq]||[],this.hasReport=!0}},{key:"abstract",get:function(){return this.seqLabel+". "+s.i(h.c)(this.textRich)}}]),t}(),_=function(){function t(e){l()(this,t),this.sourceAction=e.sourceAction||"",this.id="duplicate"===e.sourceAction?null:e.id,this.seq=e.seq||0,this.vkey=e.vkey||1,this.increKey=1e3*this.vkey,this.hasReport=!1}return c()(t,[{key:"validate",value:function(){if(this.hasOwnProperty("textRich")&&this.textEmpty)return[!0,"请输入内容"];if(this.hasOwnProperty("answer")&&this.answer.length<=0)return[!1,"答案必填"];if(this.hasOwnProperty("options")){var t=this.options.length;if(t<2)return[!1,"选择题/多选题请至少保留两个选项"];if(this.hasOwnProperty("answerSeq")&&(this.answerSeq<0||this.answerSeq>=t))return[!1,"答案设置有问题"];var e=null,s=!0,n=!1,i=void 0;try{for(var a,r=o()(this.options);!(s=(a=r.next()).done);s=!0){var l=a.value,u=l.validate();if(u)return u;l.isAnswer&&(e=l)}}catch(t){n=!0,i=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw i}}if(!e)return[!1,"请勾选一个答案"]}}},{key:"richtextPreparation",value:function(){s.i(h.b)(this)}},{key:"onPreview",get:function(){return"preview"===this.sourceAction}},{key:"onEdit",get:function(){return["create","edit","duplicate"].includes(this.sourceAction)}}]),t}(),y={injectReportData:function(t,e){var s=void 0;if(1===this.structureLevel){s=[];var n=!0,i=!1,a=void 0;try{for(var r,l=o()(this.options);!(n=(r=l.next()).done);n=!0){var u=r.value;u.injectReportData(t),s=s.concat(u.sids)}}catch(t){i=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}this.unansweredSids=p()(e,s)}else if(2===this.structureLevel){var c=!0,d=!1,v=void 0;try{for(var h,f=o()(this.questions);!(c=(h=f.next()).done);c=!0){var m=h.value,_=t[m.id]||{};s=[];var y=!0,b=!1,q=void 0;try{for(var g,w=o()(m.options);!(y=(g=w.next()).done);y=!0){var x=g.value;x.injectReportData(_),s=s.concat(x.sids)}}catch(t){b=!0,q=t}finally{try{!y&&w.return&&w.return()}finally{if(b)throw q}}m.unansweredSids=p()(e,s),m.hasReport=!0}}catch(t){d=!0,v=t}finally{try{!c&&f.return&&f.return()}finally{if(d)throw v}}}this.hasReport=!0}}},212:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(s(80),s(229),s(2)),i=s.n(n);e.default={name:"pagination",data:function(){return{}},props:{totalPage:{type:Number,required:!0},curPage:{type:Number,required:!0},size:{type:String,default:""}},components:{Icon:i.a},computed:{pageGroups:function(){for(var t="small"===this.size?1:2,e=[],s=[],n=[],i=Math.max(t,2*t-(this.totalPage-this.curPage)),a=Math.max(t,2*t-(this.curPage-1)),o=Math.max(1,this.curPage-i),r=Math.min(this.totalPage,this.curPage+a),l=o;l<r+1;l++)e.push(l);return-1===e.indexOf(1)&&(-1!==e.indexOf(2)?e.splice(0,0,1):s=[1]),-1===e.indexOf(this.totalPage)&&(-1!==e.indexOf(this.totalPage-1)?e.push(this.totalPage):n=[this.totalPage]),{first:s,middle:e,last:n}}}}},22:function(t,e,s){function n(t){s(157),s(158)}var i=s(0)(s(138),s(180),n,"data-v-67d44008",null);t.exports=i.exports},229:function(t,e,s){"use strict";var n=s(2);s.n(n).a.register({"angle-left":{width:640,height:1792,paths:[{d:"M627 544q0 13-10 23l-393 393 393 393q10 10 10 23t-10 23l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23z"}]}})},238:function(t,e){},267:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.totalPage>1?s("nav",{class:t.size},[s("ul",[s("li",{class:t.curPage<=1?"disabled":"",on:{click:function(e){t.$emit("update:selected",t.curPage-1)}}},[s("icon",{attrs:{name:"angle-left"}})],1),t._v(" "),t._l(t.pageGroups.first,function(e){return s("li",{key:e,on:{click:function(s){t.$emit("update:selected",e)}}},[s("span",[t._v(t._s(e))])])}),t._v(" "),t.pageGroups.first.length>0?[t._v("\n      ..\n    ")]:t._e(),t._v(" "),t._l(t.pageGroups.middle,function(e){return s("li",{key:e,class:t.curPage===e?"active":"",on:{click:function(s){t.$emit("update:selected",e)}}},[s("span",[t._v(t._s(e))])])}),t._v(" "),t.pageGroups.last.length>0?[t._v("\n      ..\n    ")]:t._e(),t._v(" "),t._l(t.pageGroups.last,function(e){return s("li",{key:e,on:{click:function(s){t.$emit("update:selected",e)}}},[s("span",[t._v(t._s(e))])])}),t._v(" "),s("li",{class:t.curPage>=t.totalPage?"disabled":"",on:{click:function(e){t.$emit("update:selected",t.curPage+1)}}},[s("icon",{attrs:{name:"angle-right"}})],1)],2)]):t._e()},staticRenderFns:[]}},27:function(t,e,s){function n(t){s(100)}var i=s(0)(s(88),s(113),n,"data-v-390e18f3",null);t.exports=i.exports},284:function(t,e,s){"use strict";var n=s(2);s.n(n).a.register({"angle-down":{width:1152,height:1792,paths:[{d:"M1075 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"}]}})},289:function(t,e,s){function n(t){s(371)}var i=s(0)(s(353),s(390),n,"data-v-3be15422",null);t.exports=i.exports},29:function(t,e,s){function n(t){s(98)}var i=s(0)(s(89),s(111),n,"data-v-2ac02d1e",null);t.exports=i.exports},30:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANMAAAD/CAYAAABraeOUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1QkYxQkVERTIxMjA2ODExODNEMUMxMDg1NUMxNkZFNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozMjBFRUM3NzYzQjgxMUU3OUZDRTg1QUIyMEU4OThBMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozMjBFRUM3NjYzQjgxMUU3OUZDRTg1QUIyMEU4OThBMyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjlBQ0YxRkEyQTIwNjgxMTgzRDFBODlGREM0NDhCNEYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NUJGMUJFREUyMTIwNjgxMTgzRDFDMTA4NTVDMTZGRTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4JzxU/AAAOTklEQVR42uyd228jVxnAj8fXOHHum7Zs95asoLSwLYtKEeIieATeaCUECIkHnhAP8AeAQOoLEqgSfwASQqiCR0B9qkACCqUCdbeXbQubbva+TTfNrhPHd/N9njPZWceJc5lxZuzfb/vVk9jx2DPnN993jueME61Wy+yGc+fPe4tTEj+XeFqiYAAGh8TjZ87s+49Te3x8WuIFiafY7gD34+zx8d9FJIBgMtM3On8xMz1tpmdmzEguZxKJBFsU+kqtVjNvXrjg/XhHYjIuMp31/3Di+HEzOTnJHoXDK60cJzqvZY+PH/FnJEQC2L9M98o7Ke0AIACZctJHAoAAZGKwASAgmQAAmQCQCQCZAJAJAJAJAJkAkAkAmQAAmQCQCWDQ2PV8Jp0b77sOBEAk2e4aDv1ou2QmAGQCQCYAZAIAZAJAJgBkAkAmAEAmAGQCQCYAsKT2+4erd+6w9eDQaTab/h/T586ff2aHh69LXJN4XaIRGZmWlpbYkxA18hK/28Xjbks8L/GsxA3KPID9oxfK/56Enkr++UPPTBPj41wiGeJVErZaplwum2q16v1q1rjfhPkliZcPTaZjx46ZZDLJHoLYUSwWzZWrV9tflGZLw99KfExigzIPYA8UCgVzemHBpO4lg3mJb9JnAtgHmUzGzM3N+X/1tUMr8wD6SaPZNLV6o93v0X/2P6P/b7kLxu3CJ9q3TsKRSJiko+F07d9PTEyY6zc2B/OeRCYYCjaqNZGmteNj3LtduZodHyOpUNl0qn3rkU6n/Q+ZQSYYChLGzUR6q18KrVlHs43emsS9+92M1WpnsGZTb5ttuTSzlSpVk04lTc5KFPRoNDJBLMhl0psZZj8lolcmaqiAmVTwTR+ZIBbsRyL/32qoQJ5UYYBMMHRSJjPhDGIzNA6ATADIBIBMAIBMAMgEgEwAyAQAyASATADIBADIBIBMAMgEgEwAgEwAyASATADIBADIBIBMAMgEAMgEEAqxuW7eesOYKxvGFOv6pVXsuIE6oieMKUhLPD5iTD7GX/nlxEWkN4vG3Kkh0iCi+1T37RtFd18jU4hoRkKi4ZDq6kZ8X38syjwt7Tw+Ph7vUgC2UpJs9Npdd/luncwU+hHLA5EGD/8+jXMFwmgeADIBIBMAMgEAMgEgEwAyASATACATADIBIBMADLpM/1035tU7xtyubv+Y96vuY4LinDzXSm37+9+rBLu+83d3PjH0Rtld3ztrB1+XToHRKRJr26yvadwzvl+/i0wDh042SySMWSoZs9qlgX9Qc+/TiWlBos/ZrYGr1JelsSUDXF+9ZcylUvcGviziXhOZUrK+8fTB1zUhz1FpyPuT97DRMedIz029Jeu6LpFxkGngeDBrzIdHjckmjXm35E4+81C59He5pPuYoDg95jbexfX7p42sVN1GP6rrGwtwffLaW9KSFzuE0gyojV4PKLo+3RYH5WjOmHlZX1VS0MWSO23C46ZIdFViJmPMqTwyDSQj0njn87aBl9wGrllDl/UIupB3hQoKlUUbnGOF0lmjKq6uL2/vywa4xcdT7nPqtAU9OGjG0AzoiaQNO8hMMSnZ6aQ8Z7Xhrq/ccDOgTt6clvtOyH3pIc5MqUF/gyrUwqi7w7UBeI1erzeQC2Fu1Khd3+WSK5SWQBOylY/lgxXJX8567+9/dn0z0rAfHgmn5JqS53ZG3Uyk69MENZd115dKmKFmKI4jmhWmM+6RW0PLkZEQJxmqUFMZtxSqSFk0K40tF+KWVqE0a+j6tAw7kg2376L9J82KmnkbLXd9wy7S0Mikgw3XN9wGpw3h2kb3QYmg0FJL+xF6FB9LulkjzOnYy1W3n6Sllh44tMxbC2l9LdtH0veoByXNtkulrYMSyDSAtPssUo6kHLfe136ELi92DEoEhQ42aDmpjUzXdcJ2yPU1hCGU9lku2T7ZqVG3fK03tw5KBCnSFV+f7Jisr2zXN+xCDaxM2in3RMrZfow2cA0dlMgkghfKE8kbiNDOeN6u2xuUCFKoZTtqpyXXSTvQMmYHJbxRvqCuM6jl3K2K21fSkvl43h3mH7dSVaxQpQYyDRzayN5ec/sOKo+/z+INSmjje2stuHXqB8UjNkP4Bxu8QQn93OtCMbj1aePtNmrnH+XT9V0qHXxdF9fdcm5z1C5x/6CEbmMd3dNtMKwM7GjeqfzOn3loo9fLhgXJU1M7D0o83sf1qWRPTAS3rl6fj2l/9JOTlHkAgEwAyASATACATADIBIBMAMgEAMgEgEwAyAQAcZHJf9GTEvNmBg7/PnViPMkwFie66kmb3lSJ1+7S+AaZ8Rifeh2LzKQT0BymRQ9+mZRwryWBTCGi0xceLbhTzpFqMCXSfftYwd3XlHl9EOqRMRoekJkAkAkAkAkAmQCQCQCZAACZAJAJAJkAAJkAkAkAmQCQCQCQCQCZAJAJAJAJAJkAkAkAmQAAmQCQCQCZAJAJAJAJAJkAkAkAkAkAmQCQCQCZAACZAJAJAJkAkAkAkAkAmQAGhkh/2/riu++aYrHIXhpiCoWCmT91isx0YFotWtOwE6M2EOnMND8/T2MC+kwAyAQAyASATADIBADIBIBMAMgEgEwAgEwAyASATADIBADIBIBMAMgEAMgEgEwAyAQwDOzqGhDFjTJbCoDMBBBNmZq7eRAX6AJk6k1jVzJxvTtApp5Ue6auJiIBMu2Gek+ZWk22KiBTEDQp8QCZApKJMg+QicwEEDmZEmxXQKaDoTnJHRZHJ4gfj585EyGZmozkAZmJ/hJAtGRigwIyBVPmkZlgiAn0azjDLPMuLi6atbU19lgP4vSFymSmw8pMZD2203BmpuCHxxcWFthbMHyZiWMjIFNUSzyAYZKJz5gAmchMABGTadsfAJDpAJkJmwCZDiATKgEyBVTmoRAgU/CZCa8ghuiViw9y9WJG82Cg6edHNqGUeZR8EBXqjWb8ZDIM5kEkafVNKCecl49NEKXs1IiXTOgDUSQh/+rN2GUmX58JsyBKhZ40yEYfhHLCevEA0Sr1YiQTZ0BAJLOSbY1kJoCAUJlacZEpkUAmiGJ/6d5yM+TsFNLQOEC0yrx+lHoBypQgM0G0M1PI7dIJXiWEgijJ1PKVeTGR6b5Ok+GaEBAN/O2wFd/MxI6Ewy/x/ALFaDQvQZkHEctKzb62ycBkcijzIGI0+vy1LKF8zoRMEInM1Ocv3yMzwcDSebZ4Z1ckujI5zqEeFQA6D+adfSQnNjJ1eaFkJzi0rNRlQmBsZFKSZCeICLUuUy4cJ8YyNfiSWziMEk8O4t0O5KlkMj4ypZKdMpGZoP9U691LvNiVef4RE8o8OIyBh1qX/lI6lQx93YFPwfBnpxbZCfqdlWr1Lb/Tw3s6Gb5MqZc/6P2gR3O7f8JMMmVqvjSrc+87+1IAYaCfK3XLSpl0ak+fMe3Gib5kJh0x8Xf0an26ZhkMN/qZUrla69r1yKRSfXkNoaSMrB4JfG+yjlAQMhsiUueHtJqNcpl0315DKDLpqEnW9yYq9Tp7G0IVqbNvrgfzEWmDYY/ghS6TsR0+76igMxwrNYSC4Eu7UqW6pfLRjDSSzfS9rx5qMalCJXNOe4RF+0765rUz2M+jBQwm2p70AN1Z2uloci6dDv2k1r7L5JV8/axbYRjKuuqWK7R6Aw2dJw4MlEwAwZd39w7USZGnXQFF4OOXvcpUlJhw+0FNeSNJ9iz0nbz0h4Lqc/lo9FumaxIP60K5XDbpNOUbxBdtw5tiJdPJN8u5f8vi3yX+auNm0DIlZCVn5fYr6dGpk8l19+Ph2ysrplAosEcgtty+fXtzuZkb05uzNr6vv5JQuf4o8SeJ/5geFzhK/HNl2/v1Sb8l8XWJh9oPrpVN9uY7mw84evSomZ2ZYa9A7FhdXTVLly9v/lw9Mu8JtR03JJ6X+I0Vq6dM2ot7RuKHEp/q9gfplSvGy07K1NSUmZ2dNSO53KEMRwLspY9UrlTMimSk9/1ZaWTcVGdP7uWp/iXxC4nf2wy2RaYvSvxS4rEdn6bZMJnlReNUN9g7EH/BUllTfeC0aTn7Gkx7w5aEf/YykfITiRd7itT+i6Spzi2YRn6SPQGxppkrHEQkY3150frTHoD4gcSP9vQUCcfUZo6bxtiMlHwrxqmsm0SjxjWRIfqZKJk2zWzeNEan2zIFQML6s6pl3rIszLKZAQ7ELWbtAQRUNapMz7IdAA7Mz1Sm5yR+bPj2TIB9dcOsP895Zd5PJb4gcY5tA7Brzllv1J/7JgfquUh61sPTxh03J1MBdM9Ef7GenLXetNnpdKIFie9IfFviGNsQhpwrEr+W+JXExW4P2EkmP09IfFniq8Y9zYi5FzDo6JQMPW3oDxIvSLza6w92K5OfIxKflficxGdsqmMuBsQdvU6YnsD6ki3d/iaxvJcn2I9MnYxKPCnxaYlP2Cx22oR4sRaAALhk3CkWGv+QeEVi/SBPGIRM3dBz2c9YsfT2IxIflXiAfQh95pbEBYm3JV6XOG9jNegVhXUNiDWbLl/q+P2kT6xHbAZbsMFMQ9gvRTsooPE/ibd8Aq3260X0+4Iq+sZettHJnMQJiZMSx+2yjiI+ZG8fYOBjaAcCNLvoaNoNe7skcdmWarr8XhReaJSuTvSejVe2uV9FetC416D4kL09YiWbs8tHrHxkuXhkkxu2k79s9/0tu3xV4rq9vWkCuNjJsMm0myPUNRu9yFmx9Gz4aV9M2fAvT9oo2MjRzndN2UpRtFWHxgc2VjqWvXjfClMetI2RGuCdfMXGfrZJwSfYmL0dl8hK5G1k7e9T9rGOvVUmzL3RTP/yuK9ULfTY/kn7+E7u9jhS123j9g5Ad+2yTq++02V51f686vvbikTJRsU+R9H2hT1xivbxYPm/AAMA1GuITKSPpjIAAAAASUVORK5CYII="},31:function(t,e,s){function n(t){s(76),s(77)}var i=s(0)(s(71),s(78),n,"data-v-59bb967e",null);t.exports=i.exports},313:function(t,e,s){function n(t){s(373)}var i=s(0)(s(349),s(392),n,"data-v-4fb0a0d7",null);t.exports=i.exports},33:function(t,e,s){function n(t){s(101),s(102)}var i=s(0)(s(86),s(114),n,"data-v-48289092",null);t.exports=i.exports},335:function(t,e,s){function n(t){s(1049)}var i=s(0)(s(920),s(1454),n,"data-v-133a2ddd",null);t.exports=i.exports},345:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(34),i=s.n(n),a=s(8),o=s.n(a),r=s(313),l=s.n(r),u=s(7),c=s.n(u),d=s(33),p=s.n(d),v=s(10),h=s(2),f=s.n(h);s(80),s(284);e.default={name:"chapter-selector",props:{bookSource:{type:String,default:"platform",validator:function(t){return["platform","question","yhfa"].indexOf(t)>=0}},onlyLeafCanSelect:{type:Boolean,default:!0},mustSelectOne:{type:Boolean,default:!1},initFirstSelected:{type:Boolean,default:!1},multiSelect:{type:Boolean,default:!1},openLevel:{type:Number,default:1},selectedNodes:{type:Array,default:function(){return[]}}},data:function(){return{versionBooks:{},versionName:"",book:{id:0,name:"无教材"},booksFetched:!1,chapters:[],year:"",cascaderVersionName:"",cascaderYear:"",chapterLoading:!1}},components:{PadTree:l.a,Loader:p.a,Icon:f.a},mounted:function(){this.teacher&&(this.book=JSON.parse(localStorage.getItem(this.bookKey))||null,this.versionName=localStorage.getItem(this.versionNameKey)||null,this.year=localStorage.getItem(this.yearKey)||null,this.fetchBooks())},watch:{book:function(){this.fetchChapters()},teacher:function(t){t&&(this.book=JSON.parse(localStorage.getItem(this.bookKey))||null,this.versionName=localStorage.getItem(this.versionNameKey)||null,this.year=localStorage.getItem(this.yearKey)||null,this.fetchBooks())},selectedNodes:function(t){this.multiSelect?this.$emit("selectChapters",t):t.length?this.$emit("selectChapter",t[0].id):this.$emit("selectChapter",0)}},computed:o()({bookDisplay:function(){if(this.versionName&&this.book){if("yhfa"===this.bookSource&&this.year)return this.year+" / "+this.versionName+" / "+this.book.name;if(["platform","question"].indexOf(this.bookSource)>=0)return this.versionName+" / "+this.book.name}return""},versionNameKey:function(){return this.teacher?this.teacher.id+"//-"+this.bookSource+"-versionname":""},bookKey:function(){return this.teacher?this.teacher.id+"//-"+this.bookSource+"-book":""},yearKey:function(){return this.teacher?this.teacher.id+"//-"+this.bookSource+"-year":""}},s.i(v.b)(["teacher"])),methods:{fetchBooks:function(){var t=this,e="/pad/j/resource/"+this.bookSource+"/books";return c.a.get(e).then(function(e){t.versionBooks=e.data.bookData}).then(function(){if(["platform","question"].indexOf(t.bookSource)>=0){if(!t.versionName||!t.book)for(var e in t.versionBooks){t.versionName=e,t.book=t.versionBooks[e][0];break}}else if(!("yhfa"!==t.bookSource||t.year&&t.versionName&&t.book))for(var s in t.versionBooks){t.year=s;for(var n in t.versionBooks[s]){t.versionName=n,t.book=t.versionBooks[s][n][0];break}}t.$nextTick(function(){$(t.$el).find(".ui.visible.button").popup({on:"click",inline:!1,popup:".flowing.popup"})}),t.booksFetched=!0})},fetchChapters:function(){var t=this;if(!this.book||!this.book.id)return void(this.chapters=[]);this.chapterLoading=!0,c.a.get("/pad/j/resource/chapters",{params:{bookId:this.book.id}}).then(function(e){0===e.data.status?t.chapters=e.data.chapterData:1===e.data.status&&t.$toasted.error(e.data.detail,{duration:1e3,position:"bottom-center"}),t.chapterLoading=!1})},selectBook:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";$(".ui.visible.button").popup("hide"),this.versionName=t,this.book=e,localStorage.setItem(this.versionNameKey,t),localStorage.setItem(this.bookKey,i()(e)),s&&(this.year=s,localStorage.setItem(this.yearKey,s))}}}},349:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),i=s.n(n),a=s(289),o=s.n(a);e.default={name:"pad-tree",props:{treeData:Array,multiSelect:{type:Boolean,default:!1},onlyLeafCanSelect:{type:Boolean,default:!0},mustSelectOne:{type:Boolean,default:!1},initFirstSelected:{type:Boolean,default:!1},openLevel:{type:Number,default:1},selectedNodes:{type:Array,required:!0}},data:function(){return{}},mounted:function(){this.initFirstSelected&&this.travelFirstLeafNode(this.treeData),this.openLevel>1&&this.openNode(this.treeData,1,this.openLevel)},components:{TreeNode:o.a},watch:{treeData:function(){this.initFirstSelected&&this.travelFirstLeafNode(this.treeData),this.openLevel>1&&this.openNode(this.treeData,1,this.openLevel)}},methods:{openNode:function(t,e,s){var n=!0,a=!1,o=void 0;try{for(var r,l=i()(t);!(n=(r=l.next()).done);n=!0){var u=r.value;e<s&&u.children&&u.children.length&&(this.openNode(u.children,e+1,s),u.expanded=!0)}}catch(t){a=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}},travelFirstLeafNode:function(t){var e=!0,s=!1,n=void 0;try{for(var a,o=i()(t);!(e=(a=o.next()).done);e=!0){var r=a.value;return r.children&&r.children.length?(r.expanded=!0,this.travelFirstLeafNode(r.children)):(r.selected=!0,void this.selectedNodes.push(r))}}catch(t){s=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw n}}}}}},35:function(t,e,s){function n(t){s(103),s(104)}var i=s(0)(s(87),s(115),n,"data-v-59b310ee",null);t.exports=i.exports},353:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"tree-node",props:{node:Object,multiSelect:{type:Boolean,default:!1},selectedNodes:{type:Array,required:!0},mustSelectOne:{type:Boolean,default:!1},onlyLeafCanSelect:{type:Boolean,default:!0}},data:function(){return{active:!1}},beforeCreated:function(){this.$options.components.TreeNode=s(289)},computed:{isFolder:function(){return this.node.hasOwnProperty("children")&&this.node.children.length>=0},selected:function(){return this.selectedNodesIndexOf(this.node)>=0}},methods:{toggle:function(){this.isFolder&&(this.node.expanded=!this.node.expanded)},selectedNodesIndexOf:function(t){for(var e=this.selectedNodes.length,s=0;s<e;s++){if(this.selectedNodes[s].id===t.id)return s}return-1},nodeClick:function(){var t=this.selectedNodesIndexOf(this.node);1===this.selectedNodes.length&&this.mustSelectOne&&t>=0||(t>=0?this.selectedNodes.splice(t,1):(this.multiSelect||(this.selectedNodes.length=0),this.selectedNodes.push(this.node)))}}}},36:function(t,e,s){function n(t){s(107)}var i=s(0)(s(90),s(118),n,"data-v-ec9cf450",null);t.exports=i.exports},37:function(t,e,s){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s={teaching:{production:"teach",development:"teaching"},"classroom-manage":{production:"manage/features",development:"classroom-manage"},notice:{production:"feature_notice",development:"notice"}},n=s[t]||{},i=n.production||t,a="/pad/"+i;return e?a+"/"+e:a}e.b=n,s.d(e,"a",function(){return l});var i=s(3),a=s.n(i),o=s(4),r=s.n(o);String.prototype.padStart||(String.prototype.padStart=function(t,e){return t>>=0,e=String(void 0!==e?e:" "),this.length>t?String(this):(t-=this.length,t>e.length&&(e+=e.repeat(t/e.length)),e.slice(0,t)+String(this))});var l=function(){function t(e){a()(this,t),this.targetTime=new Date(e),this.year=this.targetTime.getFullYear(),this.month=this.targetTime.getMonth()+1,this.day=this.targetTime.getDate(),this.hours=this.targetTime.getHours(),this.minutes=this.targetTime.getMinutes(),this.seconds=this.targetTime.getSeconds()}return r()(t,[{key:"formatDateTime",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD HH:mm",e=this.hours.toString().padStart(2,"0")+":"+this.minutes.toString().padStart(2,"0");return"YYYY-MM-DD HH:mm:ss"===t&&(e=e+":"+this.seconds.toString().padStart(2,"0")),this.formatDate()+" "+e}},{key:"formatDate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-";return this.year+t+this.month.toString().padStart(2,"0")+t+this.day.toString().padStart(2,"0")}},{key:"formatTimeDelta",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";!t||t instanceof Date||(t=new Date(t)),t||(t=new Date);var s=Math.abs(this.targetTime.getTime()-t.getTime()),n=Math.floor(s/864e5);s-=864e5*n;var i=Math.floor(s/36e5);s-=36e5*i;var a=Math.floor(s/6e4);s-=6e4*a;var o=Math.floor(s/1e3);if("default"===e){var r=i.toString().padStart(2,"0")+":"+a.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0");return n>=1?n+"天 "+r:r}if("type1"===e){var l=i.toString().padStart(2,"0")+"时"+(a+1).toString().padStart(2,"0")+"分";return n>=1?n+"天 "+l:l}}}]),t}()},371:function(t,e){},373:function(t,e){},374:function(t,e){},375:function(t,e){},38:function(t,e,s){function n(t){s(97)}var i=s(0)(s(93),s(110),n,"data-v-198ebc2d",null);t.exports=i.exports},39:function(t,e,s){function n(t){s(106)}var i=s(0)(s(94),s(117),n,"data-v-b4874b60",null);t.exports=i.exports},390:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[t.onlyLeafCanSelect&&t.isFolder?s("div",{class:{folder:t.isFolder},on:{click:function(e){e.stopPropagation(),t.toggle(e)}}},[s("span",{staticClass:"toggle-icon"},[s("i",{staticClass:"ui icon square outline",class:t.node.expanded?"minus":"plus"})]),t._v(" "),s("span",{staticClass:"node-label"},[t._v(t._s(t.node.label))])]):s("div",{class:{folder:t.isFolder},on:{click:t.nodeClick}},[t.isFolder?s("span",{staticClass:"toggle-icon",on:{click:function(e){e.stopPropagation(),t.toggle(e)}}},[s("i",{staticClass:"ui icon square outline",class:t.node.expanded?"minus":"plus"})]):t._e(),t._v(" "),s("span",{staticClass:"node-label",class:t.selected?"active":""},[t._v(t._s(t.node.label))])]),t._v(" "),t.isFolder?s("ul",{directives:[{name:"show",rawName:"v-show",value:t.node.expanded,expression:"node.expanded"}]},t._l(t.node.children,function(e){return s("tree-node",{key:e.id,staticClass:"item",attrs:{node:e,multiSelect:t.multiSelect,selectedNodes:t.selectedNodes,onlyLeafCanSelect:t.onlyLeafCanSelect,mustSelectOne:t.mustSelectOne}})})):t._e()])},staticRenderFns:[]}},392:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",t._l(t.treeData,function(e){return s("tree-node",{key:e.id,staticClass:"item",attrs:{node:e,onlyLeafCanSelect:t.onlyLeafCanSelect,selectedNodes:t.selectedNodes,mustSelectOne:t.mustSelectOne,multiSelect:t.multiSelect},on:{"update:node":function(t){e=t}}})}))},staticRenderFns:[]}},393:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.book?n("div",{staticClass:"chapter-selector"},[n("div",{staticClass:"ui basic button visible"},[t._v(t._s(t.bookDisplay)+" "),n("icon",{attrs:{name:"angle-down"}})],1),t._v(" "),n("div",{staticClass:"ui flowing popup top left transition"},["yhfa"!==t.bookSource?n("div",{staticClass:"cascader"},[n("ul",t._l(t.versionBooks,function(e,s){return n("li",{key:"version-"+s,staticClass:"expandable",class:t.cascaderVersionName===s?"active":"",on:{mouseenter:function(e){t.cascaderVersionName=s},click:function(e){t.cascaderVersionName=s}}},[n("span",[t._v(t._s(s))]),n("icon",{attrs:{name:"angle-right"}})],1)})),t._v(" "),t.cascaderVersionName?n("ul",t._l(t.versionBooks[t.cascaderVersionName],function(e){return n("li",{key:"version-"+e.id,on:{click:function(s){t.selectBook(t.cascaderVersionName,e)}}},[n("span",[t._v(t._s(e.name))])])})):t._e()]):n("div",{staticClass:"cascader"},[n("ul",t._l(t.versionBooks,function(e,s){return n("li",{key:"year-"+s,staticClass:"expandable",class:t.cascaderYear===s?"active":"",on:{mouseenter:function(e){t.cascaderYear=s},click:function(e){t.cascaderYear=s}}},[n("span",[t._v(t._s(s))]),n("icon",{attrs:{name:"angle-right"}})],1)})),t._v(" "),t.cascaderYear?n("ul",t._l(t.versionBooks[t.cascaderYear],function(e,s){return n("li",{key:"version-"+s,staticClass:"expandable",class:t.cascaderVersionName===s?"active":"",on:{mouseenter:function(e){t.cascaderVersionName=s},click:function(e){t.cascaderVersionName=s}}},[n("span",[t._v(t._s(s))]),n("icon",{attrs:{name:"angle-right"}})],1)})):t._e(),t._v(" "),t.cascaderVersionName?n("ul",t._l(t.versionBooks[t.cascaderYear][t.cascaderVersionName],function(e){return n("li",{key:"version-"+e.id,on:{click:function(s){t.selectBook(t.cascaderVersionName,e,t.cascaderYear)}}},[n("span",[t._v(t._s(e.name))])])})):t._e()])]),t._v(" "),n("div",{staticClass:"book-tree"},[t.chapterLoading?n("loader"):[t.chapters.length?n("pad-tree",{attrs:{treeData:t.chapters,onlyLeafCanSelect:t.onlyLeafCanSelect,mustSelectOne:t.mustSelectOne,multiSelect:t.multiSelect,initFirstSelected:t.initFirstSelected,openLevel:t.openLevel,selectedNodes:t.selectedNodes}}):n("div",{staticClass:"content-empty"},[n("img",{attrs:{src:s(30)}}),t._v(" "),n("p",[t._v("本教材还没有录入章节")])])]],2)]):n("div",{staticClass:"content-empty"},[n("img",{attrs:{src:s(30)}}),t._v(" "),n("p",[t._v("本学科本年段没有对应的教材")])])},staticRenderFns:[]}},432:function(t,e,s){function n(t){s(475)}var i=s(0)(s(447),s(495),n,"data-v-94dec89c",null);t.exports=i.exports},447:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"progress-bar",props:{percent:{type:Number,default:0},label:{type:String,default:""},showPercent:{type:Boolean,default:!1}},data:function(){return{}}}},448:function(t,e,s){"use strict";function n(t,e){var s=document.createElement("a");s.href=t;var n=s.href.slice(0,s.href.indexOf(":"));return e.indexOf(n)>-1}var i=s(15),a=s.n(i),o=s(3),r=s.n(o),l=s(4),u=s.n(l),c=s(17),d=s.n(c),p=s(20),v=s.n(p),h=s(16),f=s.n(h),m=s(9),_=Quill.import("blots/embed"),y=["alt","height","width"],b="http://"+m.z+"."+m.G+"/",q=function(t){function e(){return r()(this,e),d()(this,(e.__proto__||a()(e)).apply(this,arguments))}return f()(e,t),u()(e,[{key:"format",value:function(t,s){y.indexOf(t)>-1?s?this.domNode.setAttribute(t,s):this.domNode.removeAttribute(t):v()(e.prototype.__proto__||a()(e.prototype),"format",this).call(this,t,s)}}],[{key:"create",value:function(t){var s=v()(e.__proto__||a()(e),"create",this).call(this,t);return"string"==typeof t&&(this.matchDataUrl(t)?s.setAttribute("src",this.sanitize(t)):this.matchUrl(t)&&s.setAttribute("src",this.sanitize(b+t))),s}},{key:"formats",value:function(t){return y.reduce(function(e,s){return t.hasAttribute(s)&&(e[s]=t.getAttribute(s)),e},{})}},{key:"matchDataUrl",value:function(t){return/^data:image\/.+;base64/.test(t)}},{key:"matchUrl",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)}},{key:"sanitize",value:function(t){return n(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){var e=t.getAttribute("src");if(this.matchDataUrl(e))return e;if(this.matchUrl(e)){return e.slice(e.indexOf(":")+1).replace("//"+m.z+"."+m.G+"/","")}}}]),e}(_);q.blotName="image",q.tagName="IMG",e.a=q},449:function(t,e,s){"use strict";var n=s(15),i=s.n(n),a=s(17),o=s.n(a),r=s(16),l=s.n(r),u=s(26),c=s.n(u),d=s(3),p=s.n(d),v=s(4),h=s.n(v),f=function(){function t(e,s){if(p()(this,t),this.quill=e,this.boundsContainer=s||document.body,this.root=e.addContainer(this.constructor.containerClassName),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer){var n=this;this.quill.root.addEventListener("scroll",function(){n.root.style.marginTop=-1*this.scrollTop+"px"})}}return h()(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"show",value:function(){this.root.classList.remove("ql-hidden")}},{key:"position",value:function(t){var e=this.quill.root.parentNode,s=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=s.width>100?s.width+"px":"100px",a=s.height>20?s.height+"px":"20px";c()(this.root.style,{left:s.left-n.left-1+e.scrollLeft+"px",top:s.top-n.top+e.scrollTop+"px",width:i,height:a})}},{key:"destroy",value:function(){this.root.remove(),this.quill=null,this.boundsContainer=null}},{key:"hidden",get:function(){return this.root.classList.contains("ql-hidden")}},{key:"shown",get:function(){return!this.hidden}}]),t}(),m=function(t){function e(t,s){p()(this,e);var n=o()(this,(e.__proto__||i()(e)).call(this,t,s));return n.preview=n.root.querySelector("a.ql-preview"),n}return l()(e,t),e}(f);m.TEMPLATE="上传中...",m.containerClassName="ql-image-upload-overlay",e.a=m},454:function(t,e,s){"use strict";function n(t){var e=T.k[t].kind;return A[e]}e.a=n;var i,a=s(32),o=s.n(a),r=s(1438),l=s.n(r),u=s(1434),c=s.n(u),d=s(1436),p=s.n(d),v=s(1430),h=s.n(v),f=s(1437),m=s.n(f),_=s(1432),y=s.n(_),b=s(1435),q=s.n(b),g=s(1431),w=s.n(g),x=s(1439),C=s.n(x),k=s(1433),S=s.n(k),T=s(6),A=(i={},o()(i,T.a,l.a),o()(i,T.b,c.a),o()(i,T.c,p.a),o()(i,T.d,q.a),o()(i,T.e,h.a),o()(i,T.f,m.a),o()(i,T.g,y.a),o()(i,T.h,w.a),o()(i,T.i,C.a),o()(i,T.j,S.a),i)},475:function(t,e){},48:function(t,e,s){function n(t){s(64)}var i=s(0)(s(61),s(66),n,null,null);t.exports=i.exports},494:function(t,e,s){function n(t){s(1168)}var i=s(0)(s(911),s(1568),n,"data-v-74f68178",null);t.exports=i.exports},495:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"progress-bar"},[s("div",{staticClass:"bar",style:"transition-duration: 300ms; width: "+t.percent+"%;"},[t.showPercent&&t.percent>10?s("div",[t._v(t._s(t.percent)+"%")]):t._e()]),t._v(" "),s("div",{staticClass:"label"},[t._v(t._s(t.label))])])},staticRenderFns:[]}},51:function(t,e,s){"use strict";function n(t){var e=t.ops,s=e.filter(function(t){return"object"===_()(t.insert)&&"blank-placeholder"in t.insert}).length;return e.map(function(t,n){if("string"==typeof t.insert){var i=t.insert;if(n+1===e.length)for(;i.endsWith("\n");)i=i.replace(/\n+$/,"");if(i.indexOf("\n")>=0)return i.replace(/\n/g,"<br>");var a=i;return t.attributes&&(t.attributes.underline&&(a="<u>"+a+"</u>"),t.attributes.italic&&(a="<em>"+a+"</em>"),t.attributes.bold&&(a="<strong>"+a+"</strong>"),t.attributes.link&&(a='<a href="'+t.attributes.link+'" target="_blank">'+a+"</a>")),a}if("object"===_()(t.insert)){if("image"in t.insert){var o=[];return t.attributes&&(t.attributes.width&&o.push("width:"+t.attributes.width+"px;"),t.attributes.height&&o.push("heightex:"+t.attributes.height+"px;")),t.insert.image.startsWith("http")?'<div class="image"><img style="max-width:100%;'+o.join(" ")+'" src="'+t.insert.image+'"></div>':'<div class="image"><img style="max-width:100%;'+o.join(" ")+'" src="'+y.r+"/"+t.insert.image+'"></div>'}if("formula"in t.insert)return v()(b,t.insert.formula);if("blank-placeholder"in t.insert)return s>1?'<span class="blank-placeholder-seq">'+t.insert["blank-placeholder"]+"</span>":'<span class="blank-placeholder-seq"> </span>'}return""}).join("")}function i(t){return t.ops.map(function(t){return"string"==typeof t.insert&&"\n"!==t.insert?t.insert:""}).join("")}function a(t){return!!t.ops&&!t.ops.some(function(t){if(t.insert){if("string"!=typeof t.insert)return!0;if(t.insert.replace(/\s+/g,""))return!0}return!1})}function o(t){for(var e in t)!function(e){e.endsWith("Rich")&&("string"==typeof t[e]&&(t[e]=JSON.parse(t[e])),Array.isArray(t[e])&&(t[e]={ops:t[e]}),"ops"in t[e]||(t[e]={ops:[]}),d()(t,e.replace("Rich","Html"),{get:function(){return n(t[e])}}),d()(t,e.replace("Rich","Empty"),{get:function(){return a(t[e])}}))}(e)}function r(t,e){return t.endsWith("Rich")?e.hasOwnProperty("ops")?u()(e.ops):"[]":e}e.e=n,e.c=i,e.d=a,e.b=o,e.a=r;var l=s(34),u=s.n(l),c=s(230),d=s.n(c),p=s(126),v=s.n(p),h=s(127),f=s.n(h),m=s(74),_=s.n(m),y=s(9),b=f()(['<span class="formula">(',")</span>"],['<span class="formula">\\(',"\\)</span>"])},52:function(t,e,s){t.exports=s.p+"assets/img/brand-logo.9bce946.png"},57:function(t,e,s){function n(t){s(238)}var i=s(0)(s(212),s(267),n,"data-v-2ec91dce",null);t.exports=i.exports},570:function(t,e,s){function n(t){s(1131)}var i=s(0)(s(758),s(1532),n,"data-v-58dca4cd",null);t.exports=i.exports},58:function(t,e,s){function n(t){s(99)}var i=s(0)(s(91),s(112),n,"data-v-31763928",null);t.exports=i.exports},6:function(t,e,s){"use strict";function n(t){var e=[],s=!0,n=!1,i=void 0;try{for(var a,o=l()(q[t]);!(s=(a=o.next()).done);s=!0){var r=a.value;e.push(b[r])}}catch(t){n=!0,i=t}finally{try{!s&&o.return&&o.return()}finally{if(n)throw i}}return e}s.d(e,"a",function(){return u}),s.d(e,"i",function(){return c}),s.d(e,"b",function(){return d}),s.d(e,"d",function(){return p}),s.d(e,"h",function(){return v}),s.d(e,"c",function(){return h}),s.d(e,"e",function(){return f}),s.d(e,"j",function(){return m}),s.d(e,"f",function(){return _}),s.d(e,"g",function(){return y}),s.d(e,"k",function(){return b}),s.d(e,"v",function(){return q}),e.p=n,s.d(e,"l",function(){return g}),s.d(e,"n",function(){return w}),s.d(e,"q",function(){return x}),s.d(e,"u",function(){return C}),s.d(e,"o",function(){return k}),s.d(e,"t",function(){return S}),s.d(e,"s",function(){return T}),s.d(e,"m",function(){return A}),s.d(e,"r",function(){return M});var i,a=s(32),o=s.n(a),r=s(1),l=s.n(r),u=1,c=2,d=3,p=4,v=5,h=6,f=7,m=8,_=9,y=10,b={101:{subjectId:1,displayKind:101,displayName:"选择题",kind:u,score:1},102:{subjectId:1,displayKind:102,displayName:"判断题",kind:c,score:1},104:{subjectId:1,displayKind:104,displayName:"作文题",kind:v,score:20},105:{subjectId:1,displayKind:105,displayName:"改错题",kind:v,score:2},106:{subjectId:1,displayKind:106,displayName:"阅读理解",kind:h,score:2},107:{subjectId:1,displayKind:107,displayName:"七选五",kind:m,score:2},108:{subjectId:1,displayKind:108,displayName:"短对话",kind:_,score:1.5},109:{subjectId:1,displayKind:109,displayName:"长对话",kind:y,score:1.5},110:{subjectId:1,displayKind:110,displayName:"短文填词",kind:p,score:2},111:{subjectId:1,displayKind:111,displayName:"完形填空",kind:f,score:1.5},112:{subjectId:1,displayKind:112,displayName:"翻译题",kind:v,score:3},201:{subjectId:2,displayKind:201,displayName:"选择题",kind:u,score:5},202:{subjectId:2,displayKind:202,displayName:"判断题",kind:c,score:5},203:{subjectId:2,displayKind:203,displayName:"多选题",kind:d,score:5},204:{subjectId:2,displayKind:204,displayName:"填空题（自动判）",kind:p,score:5},205:{subjectId:2,displayKind:205,displayName:"计算题",kind:v,score:10},206:{subjectId:2,displayKind:206,displayName:"解答题",kind:v,score:12},207:{subjectId:2,displayKind:207,displayName:"填空题",kind:v,score:5},301:{subjectId:3,displayKind:301,displayName:"选择题",kind:u,score:3},302:{subjectId:3,displayKind:302,displayName:"判断题",kind:c,score:5},303:{subjectId:3,displayKind:303,displayName:"多选题",kind:d,score:5},304:{subjectId:3,displayKind:304,displayName:"阅读题",kind:v,score:15},305:{subjectId:3,displayKind:305,displayName:"材料题",kind:h,score:3},306:{subjectId:3,displayKind:306,displayName:"填空题",kind:p,score:5},307:{subjectId:3,displayKind:307,displayName:"作文",kind:v,score:60},401:{subjectId:4,displayKind:401,displayName:"选择题",kind:u,score:3},402:{subjectId:4,displayKind:402,displayName:"判断题",kind:c,score:2},403:{subjectId:4,displayKind:403,displayName:"多选题",kind:d,score:2},404:{subjectId:4,displayKind:404,displayName:"填空题（自动判）",kind:p,score:4},405:{subjectId:4,displayKind:405,displayName:"计算题",kind:v,score:10},406:{subjectId:4,displayKind:406,displayName:"解答题",kind:v,score:10},407:{subjectId:4,displayKind:407,displayName:"实验题",kind:v,score:10},408:{subjectId:4,displayKind:408,displayName:"填空题",kind:v,score:4},501:{subjectId:5,displayKind:501,displayName:"选择题",kind:u,score:2},502:{subjectId:5,displayKind:502,displayName:"判断题",kind:c,score:2},503:{subjectId:5,displayKind:503,displayName:"多选题",kind:d,score:2},504:{subjectId:5,displayKind:504,displayName:"填空题（自动判）",kind:p,score:2},505:{subjectId:5,displayKind:505,displayName:"计算题",kind:v,score:10},506:{subjectId:5,displayKind:506,displayName:"解答题",kind:v,score:10},507:{subjectId:5,displayKind:507,displayName:"实验题",kind:v,score:10},508:{subjectId:5,displayKind:508,displayName:"填空题",kind:v,score:2},601:{subjectId:6,displayKind:601,displayName:"选择题",kind:u,score:2},602:{subjectId:6,displayKind:602,displayName:"判断题",kind:c,score:2},603:{subjectId:6,displayKind:603,displayName:"多选题",kind:d,score:2},604:{subjectId:6,displayKind:604,displayName:"计算题",kind:v,score:2},605:{subjectId:6,displayKind:605,displayName:"解答题",kind:v,score:10},606:{subjectId:6,displayKind:606,displayName:"阅读题",kind:v,score:10},607:{subjectId:6,displayKind:607,displayName:"材料题",kind:h,score:3},701:{subjectId:7,displayKind:701,displayName:"选择题",kind:u,score:2},702:{subjectId:7,displayKind:702,displayName:"判断题",kind:c,score:2},703:{subjectId:7,displayKind:703,displayName:"多选题",kind:d,score:2},704:{subjectId:7,displayKind:704,displayName:"填空题",kind:v,score:2},705:{subjectId:7,displayKind:705,displayName:"材料题",kind:h,score:3},706:{subjectId:7,displayKind:706,displayName:"解答题",kind:v,score:10},707:{subjectId:7,displayKind:707,displayName:"阅读题",kind:v,score:10},801:{subjectId:8,displayKind:801,displayName:"选择题",kind:u,score:2},802:{subjectId:8,displayKind:802,displayName:"判断题",kind:c,score:1},803:{subjectId:8,displayKind:803,displayName:"多选题",kind:d,score:3},804:{subjectId:8,displayKind:804,displayName:"论述题",kind:v,score:10},805:{subjectId:8,displayKind:805,displayName:"材料题",kind:h,score:3},806:{subjectId:8,displayKind:806,displayName:"解答题",kind:v,score:10},807:{subjectId:8,displayKind:807,displayName:"阅读题",kind:v,score:10},901:{subjectId:9,displayKind:901,displayName:"选择题",kind:u,score:2},902:{subjectId:9,displayKind:902,displayName:"判断题",kind:c,score:1},903:{subjectId:9,displayKind:903,displayName:"多选题",kind:d,score:2},904:{subjectId:9,displayKind:904,displayName:"填空题（自动判）",kind:p,score:1},905:{subjectId:9,displayKind:905,displayName:"解答题",kind:v,score:10},906:{subjectId:9,displayKind:906,displayName:"实验题",kind:v,score:10},907:{subjectId:9,displayKind:907,displayName:"填空题",kind:v,score:1},1001:{subjectId:10,displayKind:1001,displayName:"选择题",kind:u,score:2},1002:{subjectId:10,displayKind:1002,displayName:"材料题",kind:h,score:3},1003:{subjectId:10,displayKind:1003,displayName:"多选题",kind:d,score:2},1004:{subjectId:10,displayKind:1004,displayName:"填空题",kind:v,score:10},1005:{subjectId:10,displayKind:1005,displayName:"解答题",kind:v,score:10},1101:{subjectId:11,displayKind:1101,displayName:"选择题",kind:u,score:2},1102:{subjectId:11,displayKind:1102,displayName:"多选题",kind:d,score:2},1103:{subjectId:11,displayKind:1103,displayName:"解答题",kind:v,score:10},1104:{subjectId:11,displayKind:1104,displayName:"填空题",kind:v,score:10},1301:{subjectId:11,displayKind:1301,displayName:"选择题",kind:u,score:2},1302:{subjectId:11,displayKind:1302,displayName:"解答题",kind:v,score:10},1303:{subjectId:11,displayKind:1303,displayName:"材料题",kind:h,score:3}},q={1:[101,102,104,105,106,107,108,109,110,111,112],2:[201,202,203,204,207,205,206],3:[301,302,303,304,305,306,307],4:[401,402,403,404,408,405,406,407],5:[501,502,503,504,508,505,506,507],6:[601,602,603,604,605,606,607],7:[701,702,703,704,705,706,707],8:[801,802,803,804,805,806,807],9:[901,902,903,904,907,905,906],10:[1001,1002,1003,1004,1005],11:[1101,1102,1103,1104],13:[1301,1302,1303]},g=100,w=103,x=[{value:1,label:"简单"},{value:3,label:"中等"},{value:5,label:"困难"}],C=3e3,k=3003,S=3004,T=3015,A=(i={},o()(i,C,"编辑中"),o()(i,k,"已发布"),o()(i,S,"已删除"),o()(i,T,"已停用"),i),M=[{value:C,label:"编辑中"},{value:k,label:"已发布"},{value:S,label:"已删除"},{value:T,label:"已停用"}]},60:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(28),i={};e.default={name:"icon",props:{name:{type:String,validator:function(t){return t?t in i||(n.default.util.warn('Invalid prop: prop "icon" is referring to an unregistered icon "'+t+'".\nPlesase make sure you have imported this icon before using it.',this),!1):null}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(n.default.util.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},clazz:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?i[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,s=t.height;return Math.max(e,s)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,s=0;this.$children.forEach(function(t){e=Math.max(e,t.width),s=Math.max(s,t.height)}),this.childrenWidth=e,this.childrenHeight=s,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(s-t.height)/2})}},register:function(t){for(var e in t){var s=t[e];s.paths||(s.paths=[]),s.d&&s.paths.push({d:s.d}),s.polygons||(s.polygons=[]),s.points&&s.polygons.push({points:s.points}),i[e]=s}},icons:i}},61:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(42),o=s.n(a),r=s(49),l=s.n(r),u=s(7),c=s.n(u),d=s(10),p=s(9),v=s(37);s(63);e.default={name:"main-navbar",data:function(){return{pathConvert:v.b,unread:0}},props:{activeTab:{type:String}},mounted:function(){var t=this;return l()(o.a.mark(function e(){var s,n,i,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$nextTick(function(){return $(".main-top-nav .ui.dropdown").dropdown()}),e.next=3,c.a.get("/pad/j/teacher_info");case 3:return s=e.sent,n=s.data.accessToken,e.next=7,c.a.get("/teacher/api/chats/unread",{headers:{Authorization:"Bearer "+n}});case 7:i=e.sent,a=i.data.count,t.unread=a;case 10:case"end":return e.stop()}},e,t)}))()},watch:{teacher:function(){this.$nextTick(function(){return $(".main-top-nav .ui.dropdown").dropdown()})}},computed:i()({displayNewQuestionBank:function(){return!!this.teacher&&p.b.includes(this.teacher.subjectId)},manageDefaultHref:function(){var t=this.teacher,e=t.isManager,s=t.isHeadTeacher;return e||s?this.pathConvert("management","classes"):"/pad/manage/courses"}},s.i(d.b)(["teacher"])),methods:{gotoHomeUrl:function(){window.location.href="/"}}}},62:function(t,e){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var s=Object(this),n=s.length>>>0;if(0===n)return!1;for(var i=0|e,a=Math.max(i>=0?i:n-Math.abs(i),0);a<n;){if(s[a]===t)return!0;a++}return!1}})},63:function(t,e,s){"use strict";var n=s(62);s.n(n)},630:function(t,e){},64:function(t,e){},65:function(t,e){},66:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.teacher?n("nav",{staticClass:"main-top-nav"},[n("div",{staticClass:"ui blue inverted borderless menu"},[n("div",{staticClass:"item logo",on:{click:t.gotoHomeUrl}},[n("img",{staticClass:"ui tiny image",attrs:{src:s(52)}})]),t._v(" "),t.teacher.isCourseTeacher?[n("a",{staticClass:"item",class:"resource"===t.activeTab?"active":"",attrs:{href:t.pathConvert("resource","mine")}},[t._v("备课")]),t._v(" "),t.displayNewQuestionBank?n("a",{staticClass:"item",class:"question-bank"===t.activeTab?"active":"",attrs:{href:t.pathConvert("question-bank","gallery")}},[t._v("新题库")]):t._e(),t._v(" "),n("a",{staticClass:"item",class:"teach"===t.activeTab?"active":"",attrs:{href:t.pathConvert("teaching")}},[t._v("上课")]),t._v(" "),n("a",{staticClass:"item",class:"course-material"===t.activeTab?"active":"",attrs:{href:t.pathConvert("course-material")}},[t._v("作业批改")])]:t._e(),t._v(" "),t.teacher.isManager||t.teacher.isHeadTeacher||t.teacher.isCourseTeacher?n("a",{staticClass:"item",class:"management"===t.activeTab&&"active",attrs:{href:t.manageDefaultHref}},[t._v("管理")]):t._e(),t._v(" "),t.teacher.isHeadTeacher||t.teacher.isCourseTeacher?n("a",{staticClass:"item chat-item",class:"classroom-manage"===t.activeTab?"active":"",attrs:{href:t.pathConvert("classroom-manage","message/chat")}},[t._v("\n      聊天\n      "),t.unread>0&&"classroom-manage"!==t.activeTab?n("i",[t._v(t._s(t.unread))]):t._e()]):t._e(),t._v(" "),n("a",{staticClass:"item",class:"data-analyze"===t.activeTab?"active":"",attrs:{href:t.pathConvert("data-analyze")}},[t._v("数据分析")]),t._v(" "),n("div",{staticClass:"right menu"},[n("a",{staticClass:"item",class:"notice"===t.activeTab?"active":"",attrs:{href:t.pathConvert("notice"),title:"通知"}},[n("i",{staticClass:"alarm outline icon"}),t._v("\n        通知\n      ")]),t._v(" "),n("a",{staticClass:"item",attrs:{href:t.pathConvert("support","summary.md"),title:"使用帮助"}},[n("i",{staticClass:"help circle icon"}),t._v("\n        使用帮助\n      ")]),t._v(" "),n("div",{staticClass:"ui dropdown item"},[t._v("\n        "+t._s(t.teacher.school.name)+" / "+t._s(t.teacher.username)+"\n        "),n("i",{staticClass:"dropdown icon"}),t._v(" "),n("div",{staticClass:"menu"},[n("a",{staticClass:"item",attrs:{href:t.pathConvert("dashboard")}},[t._v("个人主页")]),t._v(" "),n("a",{staticClass:"item",attrs:{href:"/pad/fetch_change_pwd_code"}},[t._v("修改密码")]),t._v(" "),n("a",{staticClass:"item",attrs:{href:"/pad/logout"}},[t._v("登出")])])])])],2)]):t._e()},staticRenderFns:[]}},67:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{class:t.clazz,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e){return s("path",t._b({},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e){return s("polygon",t._b({},"polygon",e,!1))}):t._e(),t._v("\b\n    "),t.icon&&t.icon.raw?[s("g",{domProps:{innerHTML:t._s(t.icon.raw)}})]:t._e()])],2)},staticRenderFns:[]}},678:function(t,e,s){function n(t){s(1178),s(1179)}var i=s(0)(s(871),s(1575),n,"data-v-7f48c27c",null);t.exports=i.exports},679:function(t,e,s){function n(t){s(1086),s(1087)}var i=s(0)(s(872),s(1486),n,"data-v-35b577b4",null);t.exports=i.exports},68:function(t,e,s){"use strict";var n=s(3),i=s.n(n),a=s(4),o=s.n(a),r=s(331),l=s.n(r),u=s(140),c=s(9),d=function(){function t(e){i()(this,t),this.id=e.id,this.name=e.name,this.subjectId=e.subjectId,this.status=e.status,this.teacher=e.teacher||null,this.students={},this.studentAttached=!1,this.groups=[],this.groupAttached=!1}return o()(t,[{key:"injectStudentData",value:function(t){this.studentAttached=!0;for(var e in t)if(!this.students.hasOwnProperty(e)){var s=t[e];this.students[e]=new u.a(s.id,s.name,s.avatar)}}},{key:"injectGroupData",value:function(t){this.groupAttached=!0,t.length?this.groups=t:this.groups=[]}},{key:"hasStudent",get:function(){return!l()(this.students)}},{key:"hasGroup",get:function(){return this.groups.length>0}},{key:"isNormal",get:function(){return this.status===c.c}},{key:"isDeleted",get:function(){return this.status===c.d}},{key:"isArchived",get:function(){return this.status===c.e}}]),t}();e.a=d},680:function(t,e,s){function n(t){s(1175),s(1176)}var i=s(0)(s(874),s(1573),n,"data-v-7cb9aa29",null);t.exports=i.exports},681:function(t,e,s){function n(t){s(1217),s(1218)}var i=s(0)(s(875),s(1612),n,"data-v-e72fe0d0",null);t.exports=i.exports},682:function(t,e,s){function n(t){s(1204),s(1205)}var i=s(0)(s(876),s(1600),n,"data-v-c82d1b34",null);t.exports=i.exports},683:function(t,e,s){function n(t){s(1065)}var i=s(0)(s(877),s(1468),n,"data-v-1ed2440a",null);t.exports=i.exports},71:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(s(13),s(2)),i=s.n(n);e.default={name:"modal",props:{withHeader:{required:!1,default:!0},withFooter:{required:!1,default:!0},escBinding:{required:!1,default:!0}},data:function(){return{scrollbarWidth:window.innerWidth-document.body.clientWidth,originalBodyPad:document.body.style.paddingRight||"",bodyPad:parseInt(document.body.style.paddingRight||0,10)}},components:{Icon:i.a},mounted:function(){document.body.classList.add("modal-open"),document.body.style.paddingRight=this.scrollbarWidth+this.bodyPad+"px",this.escBinding&&window.addEventListener("keyup",this.closeSelf)},beforeDestroy:function(){this.escBinding&&window.removeEventListener("keyup",this.closeSelf)},destroyed:function(){document.body.classList.remove("modal-open"),document.body.style.paddingRight=this.originalBodyPad},methods:{closeSelf:function(t){27===t.keyCode&&this.$emit("close")}}}},73:function(t,e,s){"use strict";function n(t){if(t in _.k){var e=_.k[t].kind;return y[e]}}e.a=n;var i,a=s(32),o=s.n(a),r=s(145),l=s(143),u=s(125),c=s(121),d=s(144),p=s(122),v=s(123),h=s(141),f=s(146),m=s(142),_=s(6),y=(i={},o()(i,_.a,r.a),o()(i,_.b,l.a),o()(i,_.c,u.a),o()(i,_.d,v.a),o()(i,_.e,c.a),o()(i,_.f,d.a),o()(i,_.g,p.a),o()(i,_.h,h.a),o()(i,_.i,f.a),o()(i,_.j,m.a),i)},753:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(35),i=s.n(n),a=s(83),o=s.n(a),r=s(2),l=s.n(r);s(13);e.default={name:"chapter-tag-modal",props:{selectedChapters:{type:Array,default:function(){return[]}},open:{type:Boolean,default:!1}},data:function(){return{}},components:{ChapterSelector:o.a,Icon:l.a,PageModal:i.a},computed:{},methods:{removeChapter:function(t){var e=this.selectedChapters.indexOf(t);e>=0&&this.selectedChapters.splice(e,1)}}}},756:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(31),i=s.n(n),a=s(927),o=s(926);e.default={name:"formula-editor",placeholder:{default:"输入..."},data:function(){return{mathField:null,mathSymbols:a.a,mathFormulas:o.a,formulaGids:[1,2,8],typeMethod:2,latextyped:""}},components:{Modal:i.a},mounted:function(){var t=document.getElementById("math-field-animated"),e={restrictMismatchedBrackets:!0};this.mathField=MQ.MathField(t,e),this.$nextTick(function(){renderMathInElement(document.getElementById("fcommon-usage"),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]})})},computed:{isQuillInput:function(){return 1===this.typeMethod},isLatexInput:function(){return 2===this.typeMethod}},watch:{typeMethod:function(t){2===t?this.latextyped=this.mathField.latex():1===t&&this.$nextTick(function(){this.mathField.latex(this.latextyped)})},latextyped:function(){document.getElementById("latex-typed-render").innerHTML="\\("+this.latextyped+"\\)",this.$nextTick(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub])})}},methods:{generateInnerLatex:function(t){return this.$nextTick(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub])}),"\\("+t+"\\)"},saveFormula:function(){this.isQuillInput?this.$emit("updateFormula",this.mathField.latex()):this.isLatexInput&&this.$emit("updateFormula",this.latextyped)},insertLatex:function(t){if(this.isQuillInput)this.mathField.write(t);else if(this.isLatexInput){var e=$("#formula-latex-input").prop("selectionStart");this.latextyped=[this.latextyped.slice(0,e),t,this.latextyped.slice(e)].join("")}},formulaGroupSelected:function(t){return this.formulaGids.indexOf(t)>=0},toggleFormulaGroup:function(t){var e=this.formulaGids.indexOf(t);if(e>=0)this.formulaGids.splice(e,1);else{for(var s=0;s<this.formulaGids.length&&!(this.formulaGids[s]>t);s++);this.formulaGids.splice(s,0,t)}this.$nextTick(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub])})}}}},758:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(313),o=s.n(a),r=s(7),l=s.n(r),u=s(33),c=s.n(u),d=s(10),p=s(2),v=s.n(p);s(80),s(284);e.default={name:"knowledge-selector",props:{onlyLeafCanSelect:{type:Boolean,default:!0},mustSelectOne:{type:Boolean,default:!1},initFirstSelected:{type:Boolean,default:!1},multiSelect:{type:Boolean,default:!1},openLevel:{type:Number,default:1},selectedNodes:{type:Array,default:function(){return[]}}},data:function(){return{knowledges:[],knowledgesLoading:!1}},components:{PadTree:o.a,Loader:c.a,Icon:v.a},mounted:function(){this.fetchKnowledges()},watch:{selectedNodes:function(t){this.multiSelect?this.$emit("selectKnowledges",t):t.length?this.$emit("selectKnowledge",t[0].id):this.$emit("selectKnowledge",0)}},computed:i()({},s.i(d.b)(["teacher"])),methods:{fetchKnowledges:function(){var t=this;this.knowledgesLoading=!0,l.a.get("/pad/j/knowledge-tree").then(function(e){0===e.data.status?t.knowledges=e.data.knowledgeData:1===e.data.status&&t.$toasted.error(e.data.detail,{duration:1e3,position:"bottom-center"}),t.knowledgesLoading=!1})}}}},759:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(35),i=s.n(n),a=s(570),o=s.n(a),r=s(2),l=s.n(r);s(13);e.default={name:"knowledge-tag-modal",props:{selectedKnowledges:{type:Array,default:function(){return[]}},open:{type:Boolean,default:!1}},data:function(){return{}},components:{PageModal:i.a,KnowledgeSelector:o.a,Icon:l.a},computed:{},methods:{removeKnowledge:function(t){var e=this.selectedKnowledges.indexOf(t);e>=0&&this.selectedKnowledges.splice(e,1)}}}},76:function(t,e){},77:function(t,e){},78:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"modal-mask",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.$emit("close")}}},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-container"},[t.withHeader?s("div",{staticClass:"modal-header"},[t._t("header"),t._v(" "),s("button",{staticClass:"ui tiny icon button",on:{click:function(e){t.$emit("close")}}},[s("icon",{attrs:{name:"slim-remove"}})],1)],2):t._e(),t._v(" "),s("div",{staticClass:"modal-body"},[t._t("body")],2),t._v(" "),t.withFooter?s("div",{staticClass:"modal-footer"},[t._t("footer")],2):t._e()])])])])},staticRenderFns:[]}},782:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),i=s.n(n),a=s(74),o=s.n(a),r=s(42),l=s.n(r),u=s(8),c=s.n(u),d=s(40),p=s.n(d),v=s(7),h=s.n(v),f=s(1365),m=s.n(f),_=s(449),y=s(37),b=s(929),q=s(448),g=s(928),w=s(51),x=s(9);e.default={name:"text-editor",model:{prop:"content",event:"change"},props:{content:{type:Object,default:function(){}},nRow:{type:Number,default:5},placeholder:{type:String,default:"输入..."},required:{type:Boolean,default:!0},supportBlankBlot:{type:Boolean,default:!1}},data:function(){return{quill:null,openFormulaEditor:!1}},components:{FormulaEditor:m.a},mounted:function(){function t(){var t=this;if(this.quill){var e=this.quill.getModule("toolbar"),s=e.container.querySelector("input.ql-image[type=file]");null==s&&(s=document.createElement("input"),s.setAttribute("type","file"),s.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp"),s.classList.add("ql-image"),s.addEventListener("change",function(){if(!s.files||!s.files[0])return void t.$toasted.error("没有选中文件");var e=s.files[0],n=e.name.split(".").pop().toLowerCase();if(["jpg","jpeg","png","bmp"].indexOf(n)<0||!/^image\//.test(e.type))t.$toasted.error("仅支持 jpg/jpeg/png/bmp 格式的图片");else{var i=new FileReader;i.onload=function(i){var o=t.quill.getSelection(!0);t.quill.updateContents((new a).retain(o.index).delete(o.length).insert({image:i.target.result}),Quill.sources.USER),t.quill.setSelection(o.index+1,Quill.sources.SILENT),s.value="",t.quill.disable();var r=t.quill.getLeaf(o.index+1),u=p()(r,2),d=u[0];u[1];d.domNode.classList.add("image-uploading");var v=new _.a(t.quill,t.quill.container);v.position(d.domNode),h.a.get("/pad/j/misc/aliyun/sts").then(function(s){if(1===s.data.status)return void t.$toasted.error(s.data.detail+" 请刷新页面后重试",{duration:2e3,position:"bottom-center"});var i=new OSS.Wrapper(c()({region:x.B,bucket:x.z},s.data.sts)),a=new y.a(new Date),o="richtext_images/"+a.formatDate("/")+"/"+Math.random().toString(36).substr(2,15)+"."+n;i.multipartUpload(o,e,{partSize:131072,progress:l.a.mark(function t(e){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:v.root.innerHTML="上传中"+parseInt(100*e)+"%...";case 1:case"end":return t.stop()}},t,this)})}).then(function(e){200===e.res.status&&(d.domNode.classList.remove("image-uploading"),v.destroy(),d.domNode.setAttribute("src","http://"+x.z+"."+x.G+"/"+o),d.domNode.setAttribute("width",d.domNode.width),d.domNode.setAttribute("height",d.domNode.height),t.quill.enable())}).catch(function(e){return t.handleAliOssException(e)})}).catch(function(e){return t.handleAliOssException(e)})},i.readAsDataURL(s.files[0])}}),e.container.appendChild(s)),s.click()}}var e=this;Quill.register("modules/formula",b.a,!0),Quill.register("formats/image",q.a,!0),Quill.register("formats/blank-placeholder",g.a,!0);var n=this.$el.querySelector(".editor-wrapper"),a=Quill.import("delta");Quill.import("formats/link").sanitize=function(t){return t.startsWith("http")?t:"http://"+t},this.quill=new Quill(n,{modules:{formula:!0,imageResize:{modules:["Resize","DisplaySize"]},toolbar:{container:[["bold","italic","underline"],["image","formula"]],handlers:{image:t.bind(this),formula:function(){e.openFormulaEditor=!0}}}},placeholder:this.placeholder,theme:"pad",bounds:n,scrollingContainer:n,formats:["bold","italic","underline","link","image","width","height","formula","blank-placeholder"]}),this.quill.clipboard.addMatcher(".ql-blank-placeholder",function(){return new a}),this.quill.on("text-change",function(){e.$nextTick(function(){e.$emit("change",e.quill.getContents())})}),this.supportBlankBlot&&(this.$eventHub.$on("insert-blank",function(){for(var t=e.quill.getSelection(!0),s=e.$el.querySelectorAll(".ql-blank-placeholder"),n=1,i=1;i<=s.length;i++){var o=s[i-1],r=Quill.find(o),l=e.quill.getIndex(r);n<i+1&&l<t.index&&(n=i+1),l>=t.index&&e.quill.updateContents((new a).retain(l).delete(1).insert({"blank-placeholder":i+1}),"silent")}e.quill.insertEmbed(t.index,"blank-placeholder",n,Quill.sources.USER),e.quill.setSelection(t.index+1,Quill.sources.SILENT),e.$eventHub.$emit("insert-blank-question",n)}),this.$eventHub.$on("del-blank",function(t){var s=e.$el.querySelectorAll(".ql-blank-placeholder"),n=Quill.find(s[t-1]),i=n.offset();e.quill.updateContents((new a).retain(i).delete(1),"user")})),this.$eventHub.$on("save-question",function(){e.$store.state.checkSaving&&e.required&&s.i(w.d)(e.content)&&(e.$store.commit("changeCheckSaving",!1),e.quill.focus())}),this.quill.on("text-change",function(t,s,n){var r=!1,l=!1;if(t.forEach(function(t){"object"===o()(t.insert)&&!r&&t.insert.hasOwnProperty("formula")&&(r=!0),e.supportBlankBlot&&t.delete&&(l=!0)}),r&&e.$nextTick(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub])}),l){var u=s.ops.filter(function(t){return t.insert&&"object"===o()(t.insert)&&t.insert.hasOwnProperty("blank-placeholder")}).map(function(t){return t.insert["blank-placeholder"]}),c=e.quill.getContents(),d=c.ops.filter(function(t){return t.insert&&"object"===o()(t.insert)&&t.insert.hasOwnProperty("blank-placeholder")}).map(function(t){return t.insert["blank-placeholder"]}),p=[],v=!0,h=!1,f=void 0;try{for(var m,_=i()(u);!(v=(m=_.next()).done);v=!0){var y=m.value;d.includes(y)||p.push(y)}}catch(t){h=!0,f=t}finally{try{!v&&_.return&&_.return()}finally{if(h)throw f}}if(p.length){for(var b=e.$el.querySelectorAll(".ql-blank-placeholder"),q=1;q<=b.length;q++){var g=Quill.find(b[q-1]);if(g.domNode.textContent!=q){var w=e.quill.getIndex(g);e.quill.updateContents((new a).retain(w).delete(1).insert({"blank-placeholder":q}),"silent")}}e.quill.history.clear(),e.$eventHub.$emit("del-blank-questions",p)}}}),this.quill.setContents(this.content),window.quill=this.quill},methods:{handleAliOssException:function(t){"RequestTimeTooSkewedError"===t.name?this.$toasted.error("请求发起的时间有错。请确保电脑本地时间处于校准状态。校准后刷新页面重新输入富文本。",{duration:2e3,position:"bottom-center"}):this.$toasted.error(t,{duration:2e3,position:"bottom-center"})},insertOrUpdateFormula:function(t){if(t){var e=this.quill.getSelection(!0);if(null!=e){var s=e.index+e.length;this.quill.insertEmbed(s,"formula",t,Quill.sources.USER),this.quill.insertText(s+1," ",Quill.sources.USER),this.quill.setSelection(e.index+2,Quill.sources.SILENT),this.openFormulaEditor=!1}}}}}},80:function(t,e,s){"use strict";var n=s(2);s.n(n).a.register({"angle-right":{width:640,height:1792,paths:[{d:"M595 960q0 13-10 23l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23z"}]}})},83:function(t,e,s){function n(t){s(375),s(374)}var i=s(0)(s(345),s(393),n,"data-v-5b0af1c4",null);t.exports=i.exports},86:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bar-loader",data:function(){return{}}}},87:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(s(13),s(2)),i=s.n(n);e.default={name:"page-modal",props:{escBinding:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!0},maskCloseBinding:{type:Boolean,default:!0}},data:function(){return{scrollbarWidth:window.innerWidth-document.body.clientWidth,originalBodyPad:document.body.style.paddingRight||"",bodyPad:parseInt(document.body.style.paddingRight||0,10)}},components:{Icon:i.a},mounted:function(){document.body.classList.add("page-modal-open"),document.body.style.paddingRight=this.scrollbarWidth+this.bodyPad+"px",this.escBinding&&window.addEventListener("keyup",this.closeSelf)},beforeDestroy:function(){this.escBinding&&window.removeEventListener("keyup",this.closeSelf)},destroyed:function(){this.$el.style.display="none",1===document.querySelectorAll(".page-modal").length&&document.body.classList.remove("page-modal-open"),document.body.style.paddingRight=this.originalBodyPad},methods:{clickModalMask:function(){this.maskCloseBinding&&this.$emit("close")},closeSelf:function(t){27===t.keyCode&&this.$emit("close")}}}},871:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(34),i=s.n(n),a=s(8),o=s.n(a),r=s(1),l=s.n(r),u=s(427),c=s.n(u),d=s(7),p=s.n(d),v=s(10),h=s(57),f=s.n(h),m=s(83),_=s.n(m),y=s(570),b=s.n(y),q=s(31),g=s.n(q),w=s(35),x=s.n(w),C=s(33),k=s.n(C),S=s(6),T=s(73),A=s(124),M=s(37),R=this,I=s(25);e.default={name:"question-bank",props:{},data:function(){return{difficulties:S.q,loading:!1,questionSource:"bank",questions:[],totalPage:0,selectedPage:1,searchName:"",options:[],searchMode:!1,selectedChapterId:0,selectedKnowledgeId:0,difficulty:0,dkindInfoMap:S.k,displayKind:0,bucketQuestions:[],bucketKindCount:{},modalPaper:!1,modalPaperPublish:!1,paperTitle:"",paperChapterId:0,treeType:this.$route.query.tree_type,gallerySource:0,importPaperData:{fromPaperId:0,paper:null,modalOpened:!1}}},components:{Pagination:f.a,PageModal:x.a,Modal:g.a,ChapterSelector:_.a,KnowledgeSelector:b.a,Loader:k.a,vSelect:function(){return s.e(3).then(s.bind(null,510))}},created:function(){var t=this,e=localStorage.getItem(this.teacher.id+"-new-question-uuids");e=e&&JSON.parse(e)||[];var n=[],i={},a=!0,r=!1,u=void 0;try{for(var c,d=l()(e);!(a=(c=d.next()).done);a=!0){var v=c.value;n.push(v[0]),i[v[0]]=v[1]}}catch(t){r=!0,u=t}finally{try{!a&&d.return&&d.return()}finally{if(r)throw u}}n.length&&p.a.get("/question/j/questions/retrieve",{params:{uuids:n}}).then(function(e){if(0===e.data.status){var n=!0,a=!1,r=void 0;try{for(var u,c=l()(e.data.questions);!(n=(u=c.next()).done);n=!0){var d=u.value,p=s.i(T.a)(d.displayKind),v=new p(o()({sourceAction:"preview"},d));v.subScore=i[v.uuid],t.bucketQuestions.push(v);var h=v.displayKind;t.bucketKindCount.hasOwnProperty(h)?t.bucketKindCount[h]+=1:t.$set(t.bucketKindCount,h,1)}}catch(t){a=!0,r=t}finally{try{!n&&c.return&&c.return()}finally{if(a)throw r}}}else 1===e.data.status&&t.$toasted.error(e.data.detail)})},mounted:function(){this.fetchQuestions(),this.fetchCopiedQuestions(),$(window).scroll(function(){var t=$(window).scrollTop();t>=118&&$(".sidebar-tree").addClass("fixed"),t<118&&$(".sidebar-tree").removeClass("fixed")})},watch:{"importPaperData.fromPaperId":function(t){t?this.fetchAndCheckImportPaper(t):this.importPaperData.paper=null},$route:function(){this.treeType=this.$route.query.tree_type,"knowledge"===this.treeType&&(this.searchMode=!1)},selectedChapterId:function(){"bank"===this.questionSource&&this.fetchQuestions()},questionSource:function(){this.fetchQuestions()},difficulty:function(){this.fetchQuestions()},displayKind:function(){this.fetchQuestions()},selectedKnowledgeId:function(){this.fetchQuestions()},gallerySource:function(){this.fetchQuestions()},loading:function(t,e){if(t&&!e){$(window).scrollTop()>=118&&$(window).scrollTop(118)}},modalPaper:function(t){t?this.$nextTick(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub])}):this.saveLocalUuidScores()}},computed:o()({showImportPaperButton:function(){var t=this.importPaperData.paper;return t&&t.questions.some(function(t){return 0===t.authorId})},showFavorited:function(){return"favorited"===this.questionSource},bucketQuestionCount:function(){return this.bucketQuestions.length},bucketTotalScore:function(){var t=0,e=!0,s=!1,n=void 0;try{for(var i,a=l()(this.bucketQuestions);!(e=(i=a.next()).done);e=!0){var o=i.value;t+=o.subScore*o.subQuestionCount||0}}catch(t){s=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(s)throw n}}return t}},s.i(v.b)(["teacher","questionDkinds"])),beforeRouteEnter:function(t,e,s){s(function(e){["chapter","knowledge"].includes(t.query.tree_type)||e.$router.replace({name:"bank-gallery",query:{tree_type:"chapter"}})})},methods:{fetchAndCheckImportPaper:function(t){var e=this,n="/question/j/papers/"+t;p.a.get(n).then(function(t){if(0===t.data.status){var n=t.data.paper;if(t.data.paper.subjectId!==e.teacher.subjectId)return e.$toasted.error("试卷和你的学科不匹配",{position:"top-center"}),void(e.importPaperData.fromPaperId=0);e.importPaperData.paper=t.data.paper;var i=[],a=!0,r=!1,u=void 0;try{for(var c,d=l()(n.questions);!(a=(c=d.next()).done);a=!0){var p=c.value,v=s.i(T.a)(p.displayKind);i.push(new v(p))}}catch(t){r=!0,u=t}finally{try{!a&&d.return&&d.return()}finally{if(r)throw u}}e.importPaperData.paper=o()({},n,{questions:i})}else 1===t.data.status&&(e.importPaperData.fromPaperId=0,e.$toasted.error(t.data.detail,{position:"top-center"}))})},addPaperQuestionsIntoBucket:function(){var t=this.importPaperData.paper;if(!t)return void this.$toasted.error("找不到对应试题组");var e=!0,s=!1,n=void 0;try{for(var i,a=l()(t.questions);!(e=(i=a.next()).done);e=!0){var o=i.value;if(0===o.authorId&&!this.checkInBucket(o)){this.$set(o,"subScore",o.score/o.subQuestionCount),this.bucketQuestions.push(o);var r=o.displayKind;r in this.bucketKindCount?this.bucketKindCount[r]+=1:this.$set(this.bucketKindCount,r,1)}}}catch(t){s=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(s)throw n}}this.saveLocalUuidScores(),this.$toasted.success("添加成功"),this.closeImportPaperModal()},closeImportPaperModal:function(){this.importPaperData.fromPaperId=0,this.importPaperData.modalOpened=!1},openDuplicateQuestion:function(t){var e=this.$router.resolve({name:"duplicate-question",params:{uuid:t.uuid}});window.open(e.href,"_blank")},saveLocalUuidScores:function(){var t=[],e=!0,s=!1,n=void 0;try{for(var a,o=l()(this.bucketQuestions);!(e=(a=o.next()).done);e=!0){var r=a.value;t.push([r.uuid,r.subScore])}}catch(t){s=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw n}}localStorage.setItem(this.teacher.id+"-new-question-uuids",i()(t))},searchChapterIdChanged:function(t){t&&(this.selectedChapterId=t.value)},searchChapter:function(t,e){e(!0),this.getsearchedChpater(t,e,this)},getsearchedChpater:c()(function(t,e,s){p.a.get("/pad/j/resource/chapters/search",{params:{name:t,source:3}}).then(function(t){1===t.data.status?R.$toasted.error(t.data.detail):0===t.data.status&&(s.options=t.data.chapters),e(!1)})},250),changeQuestionScore:function(t,e){var s=e.target.value;s<0?e.target.value=0:s>100&&(e.target.value=100),t.subScore=e.target.value},favorite:function(t){this.$toasted.info("暂不支持收藏题目")},undoFavorite:function(t){},showModalPaper:function(){var t=this;this.modalPaperPublish=!1,this.$nextTick(function(){t.modalPaper=!0})},showModalPaperPublish:function(){var t=this;if(this.bucketTotalScore>300)return void this.$toasted.error("组卷总分不能超过 300 分");this.modalPaper=!1,this.$nextTick(function(){t.modalPaperPublish=!0})},qForward:function(t){var e=this.bucketIndexOf(t);0!==e&&(this.bucketQuestions.splice(e,1),this.bucketQuestions.splice(e-1,0,t))},qBackward:function(t){var e=this.bucketIndexOf(t);e!==this.bucketQuestions.length-1&&(this.bucketQuestions.splice(e,1),this.bucketQuestions.splice(e+1,0,t))},addInBucket:function(t,e){if(!this.checkInBucket(t)){if(e){var s=$(e.target).parents(".question-block").find(".preview-question").eq(0),n=s.clone(),i=$(".question-bucket");n.appendTo($("body")).css({position:"absolute",top:s.offset().top,left:s.offset().left,backgroundColor:"white",border:"solid 1px #ccc"}).animate({top:i.offset().top+i.innerHeight()/2,left:i.offset().left+i.innerWidth()/2,width:2,height:2,opacity:.5},500,function(){n.detach()}),i.animate({opacity:.8},500).animate({opacity:1},500)}this.$set(t,"subScore",this.dkindInfoMap[t.displayKind].score),this.bucketQuestions.push(t);var a=t.displayKind;this.bucketKindCount.hasOwnProperty(a)?this.bucketKindCount[a]+=1:this.$set(this.bucketKindCount,a,1),this.saveLocalUuidScores()}},removeFromBucket:function(t){var e=this.bucketIndexOf(t);e<0||(this.bucketQuestions.splice(e,1),this.saveLocalUuidScores(),this.bucketKindCount[t.displayKind]-=1)},bucketIndexOf:function(t){for(var e=this.bucketQuestions.length,s=0;s<e;s++)if(this.bucketQuestions[s].uuid===t.uuid)return s;return-1},checkInBucket:function(t){return this.bucketIndexOf(t)>=0},currentView:function(t){return s.i(A.a)(t.displayKind)},fetchCopiedQuestions:function(){var t=this,e=this.$route.query.id;void 0!==e&&p.a.get("/question/j/papers/"+e+"/questions").then(function(e){var n=e.data,i=n.status,a=n.questions,o=n.detail;if(i)return new Error(o);t.$toasted.info("复制试题组成功"),a.map(function(t){return new(s.i(T.a)(t.displayKind))(t)}).forEach(function(e){t.addInBucket(e)}),t.$nextTick().then(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub])})}).catch(function(e){t.$toasted.error(e.message||"复制试题组失败")})},fetchQuestions:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n="",i={page:e,pageSize:15,displayKind:this.displayKind,difficulty:this.difficulty};return"knowledge"===this.treeType?i.knowledgeId=this.selectedKnowledgeId:"chapter"===this.treeType&&(i.chapterId=this.selectedChapterId),1===this.gallerySource?(n="/question/j/questions/mine",i.state=S.o):0===this.gallerySource&&(n="/question/j/questions/gallery"),this.loading=!0,p.a.get(n,{params:i}).then(function(n){if(1===n.data.status)t.$toasted.error(n.data.detail),t.loading=!1;else if(0===n.data.status){t.questions=[];var i=!0,a=!1,o=void 0;try{for(var r,u=l()(n.data.questions);!(i=(r=u.next()).done);i=!0){var c=r.value,d=s.i(T.a)(c.displayKind);t.questions.push(new d(c))}}catch(t){a=!0,o=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw o}}t.totalPage=n.data.totalPage,t.selectedPage=e,t.loading=!1,t.$nextTick().then(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub])})}})},selectNodes:function(t){t.length?this.selectedChapterId=t[0].id:this.selectedChapterId=0},createPaper:function(t){var e=this,n=this.paperTitle.length;if(n<=0||n>=100)this.$toasted.error("试卷标题必填，且不能超过100个字符");else{$(t.target).addClass("loading");var a=[],o=!0,r=!1,u=void 0;try{for(var c,d=l()(this.bucketQuestions);!(o=(c=d.next()).done);o=!0){var v=c.value;a.push([v.uuid,v.subScore])}}catch(t){r=!0,u=t}finally{try{!o&&d.return&&d.return()}finally{if(r)throw u}}var h={questions:i()(a),title:this.paperTitle,chapterId:this.paperChapterId,totalScore:this.bucketTotalScore};p.a.post("/question/j/papers/create",I.stringify(h)).then(function(n){1===n.data.status?(e.$toasted.error(n.data.detail),$(t.target).removeClass("loading")):0===n.data.status&&e.$toasted.info("创建成功，试卷已放入 备课->我的->我的试题组 中",{duration:1e3,position:"bottom-center",onComplete:function(){e.bucketQuestions=[],e.bucketKindCount={},e.paperTitle="",e.selectedChapterId=0,e.modalPaperPublish=!1,localStorage.setItem(e.teacher.id+"-new-question-uuids",i()([])),$(t.target).removeClass("loading"),window.location.href=s.i(M.b)("resource","mine/new-papers")}})})}}}}},872:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(10),o=s(454),r=s(73),l=s(6),u=s(1425),c=s.n(u);e.default={name:"create-question",data:function(){var t=this.$route.query.display_kind,e=s.i(r.a)(t);return{selectedDkind:t,question:e&&new e({displayKind:t,sourceAction:"create"})||null}},created:function(){this.selectedDkind||(this.selectedDkind=this.questionDkinds[0].displayKind)},components:{DkindSwitcher:c.a},computed:i()({currentView:function(){return this.selectedDkind?s.i(o.a)(this.selectedDkind):null}},s.i(a.b)(["teacher","questionDkinds"])),watch:{"$route.query.display_kind":function(t){this.selectedDkind=t;var e=s.i(r.a)(t);this.question=e&&new e({displayKind:t,sourceAction:"create"})||null}},beforeRouteEnter:function(t,e,s){s(function(e){var s=l.v[e.$store.state.teacher.subjectId];s.includes(parseInt(t.query.display_kind))||e.$router.replace({name:"create-question",query:{display_kind:s&&s[0]}})})}}},873:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),i=s.n(n),a=s(8),o=s.n(a),r=s(9),l=s(6),u=s(10);e.default={name:"dkind-switcher",props:{},data:function(){return{selectedDkind:this.$route.query.display_kind,subjects:r.a,kindNameMap:l.k}},components:{},mounted:function(){this.$nextTick(function(){$(".ui.scrolling.dropdown").dropdown({action:"hide"})})},watch:{questionDkinds:function(t){var e=this;t.length<=0||this.$nextTick(function(){$(e.$el).find(".ui.dropdown").dropdown({action:"hide"})})},"$route.query.display_kind":function(t){this.selectedDkind=t}},computed:o()({},s.i(u.b)(["teacher","questionDkinds"])),methods:{validateSelectedDkind:function(){if(this.questionDkinds.length<=0)return!1;var t=!0,e=!1,s=void 0;try{for(var n,a=i()(this.questionDkinds);!(t=(n=a.next()).done);t=!0){if(n.value.displayKind===this.selectedDkind)return!0}}catch(t){e=!0,s=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw s}}return!1}}}},874:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(10),o=s(7),r=s.n(o),l=s(73),u=s(454);e.default={name:"duplicate-question",props:{},data:function(){return{question:null,errorMsg:""}},created:function(){},mounted:function(){this.fetchQuestion(this.$route.params.uuid)},watch:{},computed:i()({currentView:function(){return this.question?s.i(u.a)(this.question.displayKind):null}},s.i(a.b)(["teacher"])),methods:{fetchQuestion:function(t){var e=this,n={uuids:[t]};r.a.get("/question/j/questions/retrieve",{params:n}).then(function(t){if(0===t.data.status){if(0===t.data.questions.length)return void(e.errorMsg="题目不存在，");var n=t.data.questions[0],a=s.i(l.a)(n.displayKind);e.question=new a(i()({sourceAction:"duplicate"},n)),e.errorMsg=""}else 1===t.data.status&&e.$toasted.error(t.data.detail)})}}}},875:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(10),o=s(7),r=s.n(o),l=s(73),u=s(454),c=s(6);e.default={name:"edit-question",props:{},data:function(){return{question:null,errorMsg:""}},created:function(){},mounted:function(){this.fetchQuestion(this.$route.params.uuid)},watch:{},computed:i()({currentView:function(){return this.question?s.i(u.a)(this.question.displayKind):null}},s.i(a.b)(["teacher"])),methods:{fetchQuestion:function(t){var e=this,n={uuids:[t]};r.a.get("/question/j/questions/retrieve",{params:n}).then(function(t){if(0===t.data.status){if(0===t.data.questions.length)return void(e.errorMsg="题目不存在，");var n=t.data.questions[0];if(n.authorId!==e.teacher.id)return void(e.errorMsg="你没有权限编辑此题。");if(n.state!==c.u)return void(e.errorMsg="此题已发布或者已删除，已不能在进行编辑。");var a=s.i(l.a)(n.displayKind);e.question=new a(i()({sourceAction:"edit"},n)),e.errorMsg=""}else 1===t.data.status&&e.$toasted.error(t.data.detail)})}}}},876:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),i=s.n(n),a=s(8),o=s.n(a),r=s(427),l=s.n(r),u=s(7),c=s.n(u),d=s(10),p=s(31),v=s.n(p),h=s(57),f=s.n(h),m=s(83),_=s.n(m),y=s(174),b=s.n(y),q=s(6),g=s(33),w=s.n(g),x=s(73),C=this,k=s(25);e.default={name:"manage-question",props:{},data:function(){return{loading:!1,questionSource:"bank",questions:[],totalPage:0,selectedPage:1,searchName:"",options:[],searchMode:!1,selectedChapterId:0,difficulty:0,difficulties:q.q,state:0,states:q.r,displayKind:0,questionToPreview:null,questionToPublish:null,questionToDisable:null,questionToDiscard:null}},components:{Pagination:f.a,ChapterSelector:_.a,Loader:w.a,Modal:v.a,SinglePreviewModal:b.a,vSelect:function(){return s.e(3).then(s.bind(null,510))}},mounted:function(){var t=this;$(window).scroll(function(){var t=$(window).scrollTop();t>=118&&$(".sidebar-tree").addClass("fixed"),t<118&&$(".sidebar-tree").removeClass("fixed")}),this.$nextTick(function(){return t.fetchQuestions()})},watch:{selectedChapterId:function(){"bank"===this.questionSource&&this.fetchQuestions()},questionSource:function(){this.fetchQuestions()},difficulty:function(){this.fetchQuestions()},state:function(){this.fetchQuestions()},displayKind:function(){this.fetchQuestions()},loading:function(t,e){if(t&&!e){$(window).scrollTop()>=118&&$(window).scrollTop(118)}}},computed:o()({},s.i(d.b)(["teacher","questionDkinds"])),methods:{openDuplicateQuestion:function(t){var e=this.$router.resolve({name:"duplicate-question",params:{uuid:t.uuid}});window.open(e.href,"_blank")},openEditQuestion:function(t){var e=this.$router.resolve({name:"edit-question",params:{uuid:t.uuid}});window.open(e.href,"_blank")},udpdateQuestion:function(t,e,s){var n=this,i={action:e,uuid:t.uuid};return c.a.post("/question/j/questions/update",k.stringify(i)).then(function(e){0===e.data.status?n.$toasted.info("操作成功",{duration:500,position:"bottom-center",onComplete:function(){t.state=s,n.questionToPublish&&(n.questionToPublish=null),n.questionToDisable&&(n.questionToDisable=null),n.questionToDiscard&&(n.questionToDiscard=null)}}):1===e.data.status&&n.$toasted.error(e.data.detail)})},publish:function(t){t&&this.canPublish(t)&&this.udpdateQuestion(t,"publish",q.o)},disable:function(t){t&&this.canDisable(t)&&this.udpdateQuestion(t,"disable",q.s)},discard:function(t){t&&this.canDiscard(t)&&this.udpdateQuestion(t,"discard",q.t)},canEdit:function(t){return t.authorId===this.teacher.id&&t.state===q.u},canPublish:function(t){return t.authorId===this.teacher.id&&[q.u,q.s].includes(t.state)},canDisable:function(t){return t.authorId===this.teacher.id&&t.state===q.o},canDiscard:function(t){return t.authorId===this.teacher.id&&t.state!==q.t},searchChapterIdChanged:function(t){t&&(this.selectedChapterId=t.value)},searchChapter:function(t,e){e(!0),this.getsearchedChpater(t,e,this)},getsearchedChpater:l()(function(t,e,s){c.a.get("/pad/j/resource/chapters/search",{params:{name:t,source:3}}).then(function(t){0===t.data.status?(s.options=t.data.chapters,e(!1)):1===t.data.status&&(C.$toasted.error(t.data.detail),e(!1))})},250),fetchQuestions:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0;var n={page:e,pageSize:15,chapterId:this.selectedChapterId,displayKind:this.displayKind,difficulty:this.difficulty,state:this.state};return c.a.get("/question/j/questions/mine",{params:n}).then(function(n){if(0===n.data.status){t.questions=[];var a=!0,o=!1,r=void 0;try{for(var l,u=i()(n.data.questions);!(a=(l=u.next()).done);a=!0){var c=l.value,d=s.i(x.a)(c.displayKind);t.questions.push(new d(c))}}catch(t){o=!0,r=t}finally{try{!a&&u.return&&u.return()}finally{if(o)throw r}}t.totalPage=n.data.totalPage,t.selectedPage=e,t.loading=!1,t.$nextTick().then(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub])})}else 1===n.data.status&&(t.$toasted.error(n.data.detail),t.loading=!1)})},selectNodes:function(t){t.length?this.selectedChapterId=t[0].id:this.selectedChapterId=0}}}},877:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(10);e.default={name:"secondary-navbar",data:function(){return{}},computed:i()({initCreateDKind:function(){return this.questionDkinds.length&&this.questionDkinds[0].displayKind||null}},s.i(a.b)(["questionDkinds"]))}},88:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bar-chart",props:["options","blankQuestion","totalStuCount"],data:function(){return{}},computed:{blankCorrectRate:function(){return this.blankQuestion?this.blankQuestion.correctSids.length/this.totalStuCount:0},blankWrongRate:function(){return this.blankQuestion?this.blankQuestion.wrongResults.length/this.totalStuCount:0}}}},89:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"circular-chart",props:["options","totalStuCount"],data:function(){return{}},computed:{viewBoxVal:function(){return"0 0 "+40*this.options.length+" 55"}},methods:{genOptionClasses:function(t){return t.sids.length&&t.isAnswer?"correct":t.sids.length&&!t.isAnswer?"wrong":""}}}},9:function(t,e,s){"use strict";s.d(e,"X",function(){return _}),s.d(e,"_21",function(){return y}),s.d(e,"_1",function(){return b}),s.d(e,"a",function(){return q}),s.d(e,"u",function(){return g}),s.d(e,"_6",function(){return w}),s.d(e,"K",function(){return x}),s.d(e,"J",function(){return C}),s.d(e,"I",function(){return k}),s.d(e,"_5",function(){return S}),s.d(e,"P",function(){return T}),s.d(e,"N",function(){return A}),s.d(e,"M",function(){return M}),s.d(e,"L",function(){return R}),s.d(e,"_8",function(){return I}),s.d(e,"W",function(){return j}),s.d(e,"U",function(){return P}),s.d(e,"T",function(){return N}),s.d(e,"S",function(){return $}),s.d(e,"R",function(){return O}),s.d(e,"Q",function(){return K}),s.d(e,"v",function(){return Q}),s.d(e,"Z",function(){return B}),s.d(e,"_0",function(){return D}),s.d(e,"_7",function(){return L}),s.d(e,"_17",function(){return E}),s.d(e,"s",function(){return F}),s.d(e,"t",function(){return U}),s.d(e,"i",function(){return H}),s.d(e,"_19",function(){return J}),s.d(e,"j",function(){return z}),s.d(e,"k",function(){return G}),s.d(e,"_20",function(){return Z}),s.d(e,"m",function(){return W}),s.d(e,"p",function(){return Y}),s.d(e,"q",function(){return V}),s.d(e,"n",function(){return X}),s.d(e,"o",function(){return tt}),s.d(e,"l",function(){return et}),s.d(e,"y",function(){return st}),s.d(e,"_18",function(){return nt}),s.d(e,"A",function(){return it}),s.d(e,"C",function(){return at}),s.d(e,"E",function(){return ot}),s.d(e,"F",function(){return rt}),s.d(e,"D",function(){return lt}),s.d(e,"f",function(){return ut}),s.d(e,"g",function(){return ct}),s.d(e,"h",function(){return dt}),s.d(e,"Y",function(){return pt}),s.d(e,"V",function(){return vt}),s.d(e,"O",function(){return ht}),s.d(e,"H",function(){return ft}),s.d(e,"B",function(){return mt}),s.d(e,"G",function(){return _t}),s.d(e,"z",function(){return yt}),s.d(e,"r",function(){return bt}),s.d(e,"x",function(){return qt}),s.d(e,"w",function(){return gt}),s.d(e,"b",function(){return wt}),s.d(e,"c",function(){return xt}),s.d(e,"d",function(){return Ct}),s.d(e,"e",function(){return kt}),s.d(e,"_22",function(){return St}),s.d(e,"_3",function(){return Tt}),s.d(e,"_9",function(){return At}),s.d(e,"_4",function(){return Mt}),s.d(e,"_2",function(){return Rt}),s.d(e,"_10",function(){return It}),s.d(e,"_13",function(){return jt}),s.d(e,"_12",function(){return Pt}),s.d(e,"_14",function(){return Nt}),s.d(e,"_15",function(){return $t}),s.d(e,"_16",function(){return Ot}),s.d(e,"_11",function(){return Kt});var n,i,a,o,r,l,u,c,d,p,v,h,f=s(32),m=s.n(f),_=99,y=[0,1,2,3,4,5,6,7,8,9],b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],q=(n={},m()(n,0,"全部学科"),m()(n,1,"英语"),m()(n,2,"数学"),m()(n,3,"语文"),m()(n,4,"物理"),m()(n,5,"化学"),m()(n,6,"地理"),m()(n,7,"历史"),m()(n,8,"政治"),m()(n,9,"生物"),m()(n,10,"历史与社会"),m()(n,11,"科学"),m()(n,12,"综合素质"),m()(n,13,"信息技术"),m()(n,14,"音乐"),m()(n,15,"美术"),m()(n,16,"通用技术"),m()(n,17,"品德"),m()(n,18,"体育"),n),g=(i={},m()(i,1,"英语"),m()(i,2,"数学"),m()(i,3,"语文"),m()(i,4,"物理"),m()(i,5,"化学"),m()(i,6,"地理"),m()(i,7,"历史"),m()(i,8,"政治"),m()(i,9,"生物"),i),w=2,x=3,C=4,k=5,S=6,T=20,A=7,M=8,R=9,I=10,j=14,P=15,N=16,$=17,O=18,K=19,Q=(a={},m()(a,0,"全部年级"),m()(a,1,"大学"),m()(a,w,"高中"),m()(a,x,"高三"),m()(a,C,"高二"),m()(a,k,"高一"),m()(a,S,"初中"),m()(a,T,"初四"),m()(a,A,"初三"),m()(a,M,"初二"),m()(a,R,"初一"),m()(a,I,"小学"),m()(a,j,"小六"),m()(a,P,"小五"),m()(a,N,"小四"),m()(a,$,"小三"),m()(a,O,"小二"),m()(a,K,"小一"),a),B=[S,R,M,A,T],D=[w,k,C,x],L=[I,K,O,$,N,P,j],E=[S,R,M,A,T,w,k,C,x,I,K,O,$,N,P,j],F=2,U=3,H=0,J=1,z=2,G=3,Z=(o={},m()(o,H,"未收卷"),m()(o,J,"已收卷"),m()(o,z,"已完成批改"),m()(o,G,"待发送/定时中"),o),W=2030,Y=2018,V=2035,X=2032,tt=2025,et=(r={},m()(r,Y,"试卷"),m()(r,tt,"互动资料"),m()(r,2019,"课件"),m()(r,2024,"PPT"),m()(r,2020,"WORD"),m()(r,2028,"Excel"),m()(r,2021,"PDF"),m()(r,2022,"图片"),m()(r,2004,"视频"),m()(r,2023,"音频"),m()(r,2031,"截图下发"),r),st=[2020,2022,2021,2023,2004],nt=["doc","docx","pdf","ppt","pptx","xls","xlsx","png","jpg","bmp","jpeg","mp3","mp4"],it=(l={},m()(l,2020,["doc","docx"]),m()(l,2021,["pdf"]),m()(l,2024,["ppt","pptx"]),m()(l,2028,["xls","xlsx"]),m()(l,2022,["jpg","jpeg","png","bmp"]),m()(l,2004,["mp4"]),m()(l,2023,["mp3"]),l),at={0:"全部",1:"容易",2:"较易",3:"中等",4:"较难",5:"困难"},ot={1012:"听力短对话",1014:"听力长对话",1017:"单选题",1047:"完形填空",1020:"仔细阅读",1034:"七选五",1045:"短文填词",1083:"完成句子",1019:"作文",2e3:"选择题",2002:"填空题",2006:"解答题",7100:"选择题",7110:"填空题",7120:"解答题",7200:"选择题",7210:"填空题",7220:"解答题",7e3:"选择题",7010:"填空题",7020:"解答题",8e3:"选择题",8010:"阅读题",8020:"材料题",8030:"写作",8100:"选择题",8110:"阅读题",8120:"材料题",8200:"选择题",8210:"阅读题",8220:"材料题",8300:"选择题",8310:"阅读题",8320:"材料题"},rt={1012:1.5,1014:1.5,1017:2,1047:1.5,1020:2,1034:2,1045:1.5,1083:2,1019:25,2e3:5,2002:5,2006:10,7100:5,7110:5,7120:10,7200:5,7210:5,7220:10,7e3:5,7010:5,7020:10,8e3:3,8010:10,8020:10,8030:60,8100:5,8110:10,8120:10,8200:5,8210:10,8220:10,8300:5,8310:10,8320:10},lt=(u={},m()(u,1,[1012,1014,1017,1047,1020,1034,1045,1083,1019]),m()(u,2,[2e3,2002,2006]),m()(u,5,[7100,7110,7120]),m()(u,4,[7200,7210,7220]),m()(u,9,[7e3,7010,7020]),m()(u,3,[8e3,8010,8020,8030]),m()(u,7,[8100,8110,8120]),m()(u,6,[8200,8210,8220]),m()(u,8,[8300,8310,8320]),u),ut=3,ct=2,dt=1,pt=(c={},m()(c,ut,"课前预习"),m()(c,ct,"上课课件"),m()(c,dt,"课后练习"),c),vt=1,ht=2,ft=(d={},m()(d,vt,"六三制"),m()(d,ht,"五四制"),d),mt="oss-cn-beijing",_t="oss-cn-beijing.aliyuncs.com",yt="padmedia",bt="http://"+yt+"."+_t+"/",qt={doc:"page-document",docx:"page-document",ppt:"page-document",pptx:"page-document",pdf:"page-document",jpg:"page-image",jpeg:"page-image",bmp:"page-image",png:"page-image",mp3:"page-audio",mp4:"page-video",xls:"page-document",xlsx:"page-document"},gt={0:"全部",1:"教案",2:"素材",3:"课件",4:"习题",5:"拓展",6:"微课"},wt=[1,2,3,4,5,6,7,8,9,10,11,13],xt=1,Ct=2,kt=10,St=(p={},m()(p,xt,"正常"),m()(p,Ct,"已删除"),m()(p,kt,"已归档"),p),Tt=1,At=3,Mt=10,Rt=(v={},m()(v,Tt,"正常"),m()(v,2,"已毕业"),m()(v,At,"已删除"),m()(v,Mt,"已归档"),v),It=0,jt=3,Pt=(h={},m()(h,1,"已发送"),m()(h,jt,"定时，待发送"),h),Nt=2060,$t=2061,Ot=2050,Kt={0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六",7:"周日"}},90:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),i=s.n(n),a=s(81),o=s.n(a),r=s(54),l=s.n(r),u=s(251),c=s.n(u),d=s(39),p=s.n(d),v=s(9);s(11),e.default={name:"inline-subjective-results",props:{question:{type:Object,required:!0},allStudents:{type:Object,required:!0,default:null}},data:function(){return{viewStudentResult:null}},components:{StudentLabels:p.a,"sketch-pad":function(){return s.e(0).then(s.bind(null,85))}},computed:{unsubmitedSids:function(){var t=c()(o()(this.allStudents),"id");return t=l()(t,this.question.unansweredSids),t=l()(t,c()(this.question.results,"sid"))},reviewResults:function(){var t=[],e=!0,s=!1,n=void 0;try{for(var a,o=i()(this.question.results);!(e=(a=o.next()).done);e=!0){var r=a.value;r.status===v.t&&t.push(r)}}catch(t){s=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw n}}return t},unreviewResults:function(){var t=[],e=!0,s=!1,n=void 0;try{for(var a,o=i()(this.question.results);!(e=(a=o.next()).done);e=!0){var r=a.value;r.status===v.s&&t.push(r)}}catch(t){s=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw n}}return t}},methods:{toggleResultViewer:function(t){this.viewStudentResult===t?this.viewStudentResult=null:this.viewStudentResult=t},jumpToNextUnReviewed:function(){var t=!0,e=!1,s=void 0;try{for(var n,a=i()(this.unreviewResults);!(t=(n=a.next()).done);t=!0){var o=n.value;if(o.sid!==this.viewStudentResult.sid)return this.$toasted.success("提交成功，下一位:",{duration:700,position:"bottom-right"}),void(this.viewStudentResult=o)}}catch(t){e=!0,s=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw s}}this.$toasted.success("本题已全部批改完",{duration:700,position:"bottom-right"}),this.viewStudentResult=null}}}},91:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(14),i=s.n(n),a=s(35),o=s.n(a),r=s(39),l=s.n(r);e.default={name:"modal-blank-results",props:{question:{required:!0},allStudents:{required:!0}},data:function(){return{}},components:{PageModal:o.a,StudentLabels:l.a},computed:{totalStuCount:function(){return this.allStudents?i()(this.allStudents).length:0},stuWrongCount:function(){return this.question.wrongResults.length},stuCorrectCount:function(){return this.question.correctSids.length}}}},911:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(42),i=s.n(n),a=s(8),o=s.n(a),r=s(7),l=s.n(r),u=s(2),c=s.n(u),d=(s(13),s(31)),p=s.n(d),v=s(432),h=s.n(v),f=s(37),m=s(9),_=s(494),y=s.n(_);e.default={name:"audio-uploader",props:{audioPathWrite:{type:String}},data:function(){return{audioFile:null,percent:0,progressLabel:"",showProgressBar:!1}},components:{Icon:c.a,AudioUploader:y.a,Modal:p.a,ProgressBar:h.a},mounted:function(){var t=this,e=document.getElementById("file-selector");e.addEventListener("change",function(){var s=e.files[0];if("mp3"!==s.name.split(".").pop().toLowerCase())return void t.$toasted.error("音频文件格式不支持，请选择 mp3 文件",{duration:1e3,position:"top-center"});t.audioFile=s})},methods:{handleAliOssException:function(t){var e=this;"RequestTimeTooSkewedError"===t.name?this.$toasted.error("请求发起的时间有错。请确保电脑本地时间处于校准状态。",{duration:2e3,position:"bottom-center"}):this.$toasted.error(t,{duration:2e3,position:"bottom-center"}),this.showProgressBar=!1,this.$nextTick(function(){e.percent=0,e.progressLabel=""})},startUploading:function(){var t=this;if(!this.audioFile)return void this.$toasted.error("请选择文件");l.a.get("/pad/j/misc/aliyun/sts").then(function(e){if(1===e.data.status)return void t.$toasted.error(e.data.detail,{duration:2e3,position:"bottom-center"});t.showProgressBar=!0,t.progressLabel="正在上传音频文件，请不要关闭本页";var s=new OSS.Wrapper(o()({region:m.B,bucket:m.z},e.data.sts)),n=t.audioFile.name.split(".").pop().toLowerCase(),a=new f.a(new Date),r="listen_audio/"+a.formatDate("/")+"/"+Math.random().toString(36).substr(2,15)+"."+n,l=t;s.multipartUpload(r,t.audioFile,{partSize:131072,progress:i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:l.percent=parseInt(100*e);case 1:case"end":return t.stop()}},t,this)})}).then(function(e){200===e.res.status?(t.progressLabel="上传成功",t.$emit("uploadSucceed",r),t.audioFile=null):t.$toasted.error("上传文件失败"),t.showProgressBar=!1,t.$nextTick(function(){t.percent=0,t.progressLabel=""})}).catch(function(e){return t.handleAliOssException(e)})}).catch(function(e){return t.handleAliOssException(e)})}}}},912:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(128),i=s.n(n),a=s(21);e.default={name:"checkbox-options",props:{increKey:{type:Number,required:!0},options:{type:Array,default:function(){return[]}}},data:function(){return{}},components:{TextEditor:i.a},mounted:function(){for(;this.options.length<2;)this.addNewOption()},computed:{canRemoveOption:function(){return this.options.length>2},canAddOption:function(){return this.options.length<26}},methods:{addNewOption:function(){var t=new a.a({seq:this.options.length,vkey:this.increKey});this.options.push(t),this.$emit("update:increKey",this.increKey+1)},removeOption:function(t){if(this.canRemoveOption){var e=this.options.indexOf(t);e>=0&&(this.options.splice(e,1),this.restoreSeq())}},restoreSeq:function(){for(var t=this.options.length,e=0;e<t;e++)this.options[e].seq=e},toggleAnswer:function(t){t.isAnswer=!t.isAnswer}}}},913:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(7),o=s.n(a),r=s(10),l=s(174),u=s.n(l),c=s(128),d=s.n(c),p=s(121),v=s(335),h=s.n(v),f=s(204),m=s.n(f),_=s(25);e.default={name:"edit-cloze",props:{question:{type:Object,default:null},action:{type:String,required:!0}},data:function(){return{modalOpen:!1}},components:{TextEditor:d.a,RadioOptions:h.a,CommonInfo:m.a,SinglePreviewModal:u.a},mounted:function(){},computed:i()({canDelSubQ:function(){return this.subQlength>1},subQlength:function(){return this.question.questions.length}},s.i(r.b)(["teacher"])),methods:{saveQuestion:function(){var t=this;if(this.question.stemRich.ops.filter(function(t){return t.insert.hasOwnProperty("blank-placeholder")}).length!==this.subQlength)return void this.$toasted.error("占位符个数应等于小题数目",{duration:1e3,position:"bottom-center"});this.question.subjectId=this.teacher.subjectId;var e=this.question.validate();if(e)this.$toasted.error(e[1],{duration:1e3,position:"bottom-center"}),this.$store.commit("changeCheckSaving",!0),this.$eventHub.$emit("save-question");else{var s=this.question.uuid?"/question/j/questions/edit":"/question/j/questions/create";o.a.post(s,_.stringify({questionData:this.question.stringify()})).then(function(e){0===e.data.status?t.$toasted.info("create"===t.action&&"创建成功"||"已保存",{duration:800,position:"bottom-center",onComplete:function(){t.$router.push({name:"manage-questions"})}}):1===e.data.status&&t.$toasted.error(e.data.detail,{duration:1e3,position:"bottom-center"})})}},addNewSubQ:function(){var t=this.question.questions.length;this.question.questions.push(new p.b({seq:t+1,vkey:this.question.increKey++}))},delSubQ:function(t){if(!this.canDelSubQ)return void this.$toasted.error("当前题型需要至少关联一个小题",{duration:1e3,position:"bottom-center"});var e=this.question.questions.indexOf(t);for(e>=0&&this.question.questions.splice(e,1);e<this.subQlength;e++)this.question.questions[e].seq=e+1},insertBlankPlaceholder:function(){this.$eventHub.$emit("insert-blank")}}}},914:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(31),i=s.n(n),a=s(1363),o=s.n(a),r=s(1366),l=s.n(r),u=s(2),c=s.n(u);s(13);e.default={name:"common-info",props:{question:{type:Object,required:!0}},data:function(){return{openChapterModal:!1,openKnowledgeModal:!1}},components:{Modal:i.a,Icon:c.a,ChapterTagModal:o.a,KnowledgeTagModal:l.a},computed:{},methods:{removeChapter:function(t){var e=this.question.chapters.indexOf(t);e>=0&&this.question.chapters.splice(e,1)},removeKnowledge:function(t){var e=this.question.knowledges.indexOf(t);e>=0&&this.question.knowledges.splice(e,1)}}}},915:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(7),o=s.n(a),r=s(10),l=s(174),u=s.n(l),c=s(128),d=s.n(c),p=s(204),v=s.n(p),h=s(25);e.default={name:"edit-essay",props:{question:{type:Object,default:null},action:{type:String,required:!0}},data:function(){return{modalOpen:!1}},components:{TextEditor:d.a,CommonInfo:v.a,SinglePreviewModal:u.a},mounted:function(){},computed:i()({},s.i(r.b)(["teacher"])),methods:{saveQuestion:function(){var t=this;this.question.subjectId=this.teacher.subjectId;var e=this.question.validate();if(e)this.$toasted.error(e[1],{duration:1e3,position:"bottom-center"}),this.$store.commit("changeCheckSaving",!0),this.$eventHub.$emit("save-question");else{var s=this.question.uuid?"/question/j/questions/edit":"/question/j/questions/create";o.a.post(s,h.stringify({questionData:this.question.stringify()})).then(function(e){0===e.data.status?t.$toasted.info("create"===t.action&&"创建成功"||"已保存",{duration:800,position:"bottom-center",onComplete:function(){t.$router.push({name:"manage-questions"})}}):1===e.data.status&&t.$toasted.error(e.data.detail,{duration:1e3,position:"bottom-center"})})}}}}},916:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(7),o=s.n(a),r=s(10),l=s(174),u=s.n(l),c=s(128),d=s.n(c),p=s(122),v=s(335),h=s.n(v),f=s(204),m=s.n(f),_=s(494),y=s.n(_),b=s(25);e.default={name:"edit-long-dialog",props:{question:{type:Object,default:null},action:{type:String,required:!0}},data:function(){return{modalOpen:!1}},components:{TextEditor:d.a,RadioOptions:h.a,CommonInfo:m.a,AudioUploader:y.a,SinglePreviewModal:u.a},mounted:function(){},computed:i()({canDelSubQ:function(){return this.subQlength>1},subQlength:function(){return this.question.questions.length}},s.i(r.b)(["teacher"])),methods:{audioUploaded:function(t){this.question.audioPathWrite=t,this.saveQuestion()},checkQuestion:function(){this.question.subjectId=this.teacher.subjectId;var t=this.question.validate();if(t)return this.$toasted.error(t[1],{duration:1e3,position:"bottom-center"}),this.$store.commit("changeCheckSaving",!0),void this.$eventHub.$emit("save-question");!this.question.audioPathWrite||this.$refs.audio.audioFile?this.$refs.audio.startUploading():this.saveQuestion()},saveQuestion:function(){var t=this,e=this.question.uuid?"/question/j/questions/edit":"/question/j/questions/create";o.a.post(e,b.stringify({questionData:this.question.stringify()})).then(function(e){0===e.data.status?t.$toasted.info("create"===t.action&&"创建成功"||"已保存",{duration:800,position:"bottom-center",onComplete:function(){t.$router.push({name:"manage-questions"})}}):1===e.data.status&&t.$toasted.error(e.data.detail,{duration:1e3,position:"bottom-center"})})},delSubQ:function(t){if(!this.canDelSubQ)return void this.$toasted.error("当前题型需要至少关联一个小题",{duration:1e3,position:"bottom-center"});var e=this.question.questions.indexOf(t);for(e>=0&&this.question.questions.splice(e,1);e<this.subQlength;e++)this.question.questions[e].seq=e+1},addNewSubQ:function(){var t=this.question.questions.length;this.question.questions.push(new p.b({seq:t+1,vkey:this.question.increKey++}))}}}},917:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(7),o=s.n(a),r=s(10),l=s(174),u=s.n(l),c=s(128),d=s.n(c),p=s(204),v=s.n(p),h=s(335),f=s.n(h),m=s(25);e.default={name:"edit-matching",props:{question:{type:Object,default:null},action:{type:String,required:!0}},data:function(){return{modalOpen:!1}},components:{TextEditor:d.a,RadioOptions:f.a,CommonInfo:v.a,SinglePreviewModal:u.a},computed:i()({selectedSeq:function(){return this.question.questions.map(function(t){return t.answerSeq}).filter(function(t){return t>0})}},s.i(r.b)(["teacher"])),methods:{seqLabel:function(t){return String.fromCharCode(65+t)},setAnswer:function(t,e){t.answerSeq=e.seq},saveQuestion:function(){var t=this;if(this.question.stemRich.ops.filter(function(t){return t.insert.hasOwnProperty("blank-placeholder")}).length!==this.question.questions.length)return void this.$toasted.error("占位符个数应等于小题数目",{duration:1e3,position:"bottom-center"});this.question.subjectId=this.teacher.subjectId;var e=this.question.validate();if(e)this.$toasted.error(e[1],{duration:1e3,position:"bottom-center"}),this.$store.commit("changeCheckSaving",!0),this.$eventHub.$emit("save-question");else{var s=this.question.uuid?"/question/j/questions/edit":"/question/j/questions/create";o.a.post(s,m.stringify({questionData:this.question.stringify()})).then(function(e){0===e.data.status?t.$toasted.info("create"===t.action&&"创建成功"||"已保存",{duration:800,position:"bottom-center",onComplete:function(){t.$router.push({name:"manage-questions"})}}):1===e.data.status&&t.$toasted.error(e.data.detail,{duration:1e3,position:"bottom-center"})})}},matchOptionClass:function(t,e){var s="ui radio checkbox";return this.selectedSeq.indexOf(e.seq)>=0&&e.seq!==t.answerSeq&&(s+=" disabled"),s},insertBlankPlaceholder:function(){this.$eventHub.$emit("insert-blank")}}}},918:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(7),o=s.n(a),r=s(10),l=s(174),u=s.n(l),c=s(128),d=s.n(c),p=s(1429),v=s.n(p),h=s(204),f=s.n(h),m=s(25);e.default={name:"edit-multi-choice",props:{question:{type:Object,default:null},action:{type:String,required:!0}},data:function(){return{modalOpen:!1}},components:{TextEditor:d.a,CheckboxOptions:v.a,CommonInfo:f.a,SinglePreviewModal:u.a},computed:i()({},s.i(r.b)(["teacher"])),methods:{saveQuestion:function(){var t=this;this.question.subjectId=this.teacher.subjectId;var e=this.question.validate();if(e)this.$toasted.error(e[1],{duration:1e3,position:"bottom-center"}),this.$store.commit("changeCheckSaving",!0),this.$eventHub.$emit("save-question");else{var s=this.question.uuid?"/question/j/questions/edit":"/question/j/questions/create";o.a.post(s,m.stringify({questionData:this.question.stringify()})).then(function(e){0===e.data.status?t.$toasted.info("create"===t.action&&"创建成功"||"已保存",{duration:800,position:"bottom-center",onComplete:function(){t.$router.push({name:"manage-questions"})}}):1===e.data.status&&t.$toasted.error(e.data.detail,{duration:1e3,position:"bottom-center"})})}}}}},919:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(1),o=s.n(a),r=s(7),l=s.n(r),u=s(10),c=s(174),d=s.n(c),p=s(128),v=s.n(p),h=s(123),f=s(204),m=s.n(f),_=s(25);e.default={name:"edit-objective-blank",props:{question:{type:Object,default:null},action:{type:String,required:!0}},data:function(){return{modalOpen:!1}},components:{TextEditor:v.a,CommonInfo:m.a,SinglePreviewModal:d.a},mounted:function(){var t=this;this.$eventHub.$on("insert-blank-question",function(e){t.insertNewSubQ(e)}),this.$eventHub.$on("del-blank-questions",function(e){var s=e.sort(function(t,e){return t<e}),n=!0,i=!1,a=void 0;try{for(var r,l=o()(s);!(n=(r=l.next()).done);n=!0){var u=r.value;t.delSubQ(u)}}catch(t){i=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}})},computed:i()({},s.i(u.b)(["teacher"])),methods:{insertNewSubQ:function(t){for(var e=1;e<=this.question.questions.length;e++)e>=t&&(this.question.questions[e-1].seq=e+1);var s=new h.b({seq:t,vkey:this.question.increKey++});this.question.questions.splice(t-1,0,s)},saveQuestion:function(){var t=this;this.question.subjectId=this.teacher.subjectId;var e=this.question.validate();if(e)this.$toasted.error(e[1],{duration:1e3,position:"bottom-center"}),this.$store.commit("changeCheckSaving",!0),this.$eventHub.$emit("save-question");else{var s=this.question.uuid?"/question/j/questions/edit":"/question/j/questions/create";l.a.post(s,_.stringify({questionData:this.question.stringify()})).then(function(e){0===e.data.status?t.$toasted.info("create"===t.action&&"创建成功"||"已保存",{duration:800,position:"bottom-center",onComplete:function(){t.$router.push({name:"manage-questions"})}}):1===e.data.status&&t.$toasted.error(e.data.detail,{duration:1e3,position:"bottom-center"})})}},insertBlankPlaceholder:function(){this.$eventHub.$emit("insert-blank")},delBlankPlaceholder:function(t){this.$eventHub.$emit("del-blank",t)},delSubQ:function(t){for(var e=1;e<=this.question.questions.length;e++)e>t&&(this.question.questions[e-1].seq=e-1);this.question.questions.splice(t-1,1)}}}},92:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(14),i=s.n(n),a=s(1),o=s.n(a),r=s(285),l=s.n(r),u=s(35),c=s.n(u),d=s(39),p=s.n(d);e.default={name:"modal-objective-results",props:{question:{required:!0},allStudents:{required:!0}},data:function(){var t=new l.a,e=new l.a,s=new l.a,n=new l.a,i=!0,a=!1,r=void 0;try{for(var u,c=o()(this.question.options);!(i=(u=c.next()).done);i=!0){var d=u.value,p=!0,v=!1,h=void 0;try{for(var f,m=o()(d.sids);!(p=(f=m.next()).done);p=!0){var _=f.value;d.isAnswer||t.add(_),s.add(_)}}catch(t){v=!0,h=t}finally{try{!p&&m.return&&m.return()}finally{if(v)throw h}}}}catch(t){a=!0,r=t}finally{try{!i&&c.return&&c.return()}finally{if(a)throw r}}for(var y in this.allStudents){var b=parseInt(y);s.has(b)&&!t.has(b)&&e.add(b),s.has(b)||n.add(b)}return{wrongSids:t,rightSids:e,unansweredSids:n,answeredSids:s}},components:{PageModal:c.a,StudentLabels:p.a},computed:{totalStuCount:function(){return this.allStudents?i()(this.allStudents).length:0}}}},920:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),i=s.n(n),a=s(128),o=s.n(a),r=s(21);e.default={name:"radio-options",props:{increKey:{type:Number,required:!0},options:{type:Array,default:function(){return[]}},answerSeq:{type:Number,required:!0,default:1}},data:function(){return{}},components:{TextEditor:o.a},mounted:function(){for(;this.options.length<2;)this.addNewOption()},computed:{canRemoveOption:function(){return this.options.length>2},canAddOption:function(){return this.options.length<26}},methods:{addNewOption:function(){var t=this.options.length,e=new r.a({seq:t,vkey:this.increKey});this.options.push(e),0===t&&(e.isAnswer=!0,this.$emit("update:answerSeq",e.seq)),this.$emit("update:increKey",this.increKey+1)},removeOption:function(t){if(this.canRemoveOption){var e=this.options.indexOf(t);e>=0&&(this.options.splice(e,1),this.restoreSeq(),t.isAnswer&&this.restoreAnswer())}},restoreAnswer:function(){var t=0,e=!0,s=!1,n=void 0;try{for(var a,o=i()(this.options);!(e=(a=o.next()).done);e=!0){var r=a.value;0===t&&(r.isAnswer=!0,this.$emit("update:answerSeq",0)),t++}}catch(t){s=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw n}}},restoreSeq:function(){for(var t=this.options.length,e=0;e<t;e++)this.options[e].seq=e},setAnswer:function(t){var e=!0,s=!1,n=void 0;try{for(var a,o=i()(this.options);!(e=(a=o.next()).done);e=!0){var r=a.value;t===r?(r.isAnswer=!0,this.$emit("update:answerSeq",this.options.indexOf(r))):r.isAnswer=!1}}catch(t){s=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw n}}}}}},921:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(7),o=s.n(a),r=s(10),l=s(128),u=s.n(l),c=s(174),d=s.n(c),p=s(125),v=s(335),h=s.n(v),f=s(204),m=s.n(f),_=s(25);e.default={name:"edit-reading-choice",props:{question:{type:Object,default:null},action:{type:String,required:!0}},data:function(){return{modalOpen:!1}},components:{TextEditor:u.a,RadioOptions:h.a,CommonInfo:m.a,SinglePreviewModal:d.a},mounted:function(){},computed:i()({canDelSubQ:function(){return this.subQlength>1},subQlength:function(){return this.question.questions.length}},s.i(r.b)(["teacher"])),methods:{saveQuestion:function(){var t=this;this.question.subjectId=this.teacher.subjectId;var e=this.question.validate();if(e)this.$toasted.error(e[1],{duration:1e3,position:"bottom-center"}),this.$store.commit("changeCheckSaving",!0),this.$eventHub.$emit("save-question");else{var s=this.question.uuid?"/question/j/questions/edit":"/question/j/questions/create";o.a.post(s,_.stringify({questionData:this.question.stringify()})).then(function(e){0===e.data.status?t.$toasted.info("create"===t.action&&"创建成功"||"已保存",{duration:800,position:"bottom-center",onComplete:function(){t.$router.push({name:"manage-questions"})}}):1===e.data.status&&t.$toasted.error(e.data.detail,{duration:1e3,position:"bottom-center"})})}},addNewSubQ:function(){var t=this.question.questions.length;this.question.questions.push(new p.b({seq:t+1,vkey:this.question.increKey++}))},delSubQ:function(t){if(!this.canDelSubQ)return void this.$toasted.error("当前题型需要至少关联一个小题",{duration:1e3,position:"bottom-center"});var e=this.question.questions.indexOf(t);for(e>=0&&this.question.questions.splice(e,1);e<this.subQlength;e++)this.question.questions[e].seq=e+1}}}},922:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(7),o=s.n(a),r=s(10),l=s(174),u=s.n(l),c=s(128),d=s.n(c),p=s(204),v=s.n(p),h=s(494),f=s.n(h),m=s(335),_=s.n(m),y=s(25);e.default={name:"edit-short-dialog",props:{question:{type:Object,default:null},action:{type:String,required:!0}},data:function(){return{modalOpen:!1}},components:{TextEditor:d.a,RadioOptions:_.a,CommonInfo:v.a,AudioUploader:f.a,SinglePreviewModal:u.a},mounted:function(){},computed:i()({},s.i(r.b)(["teacher"])),watch:{},methods:{audioUploaded:function(t){this.question.audioPathWrite=t,this.saveQuestion()},checkQuestion:function(){this.question.subjectId=this.teacher.subjectId;var t=this.question.validate();if(t)return this.$toasted.error(t[1],{duration:1e3,position:"bottom-center"}),this.$store.commit("changeCheckSaving",!0),void this.$eventHub.$emit("save-question");!this.question.audioPathWrite||this.$refs.audio.audioFile?this.$refs.audio.startUploading():this.saveQuestion()},saveQuestion:function(){var t=this,e=this.question.uuid?"/question/j/questions/edit":"/question/j/questions/create";o.a.post(e,y.stringify({questionData:this.question.stringify()})).then(function(e){0===e.data.status?t.$toasted.info("create"===t.action&&"创建成功"||"已保存",{duration:800,position:"bottom-center",onComplete:function(){t.$router.push({name:"manage-questions"})}}):1===e.data.status&&t.$toasted.error(e.data.detail,{duration:1e3,position:"bottom-center"})})}}}},923:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),i=s.n(n),a=s(7),o=s.n(a),r=s(10),l=s(174),u=s.n(l),c=s(128),d=s.n(c),p=s(335),v=s.n(p),h=s(204),f=s.n(h),m=s(25);e.default={name:"edit-single-choice",props:{question:{type:Object,default:null},action:{type:String,required:!0}},data:function(){return{modalOpen:!1}},components:{TextEditor:d.a,RadioOptions:v.a,CommonInfo:f.a,SinglePreviewModal:u.a},computed:i()({},s.i(r.b)(["teacher"])),methods:{saveQuestion:function(){var t=this;this.question.subjectId=this.teacher.subjectId;var e=this.question.validate();if(e)this.$toasted.error(e[1],{duration:1e3,position:"bottom-center"}),this.$store.commit("changeCheckSaving",!0),this.$eventHub.$emit("save-question");else{var s=this.question.uuid?"/question/j/questions/edit":"/question/j/questions/create";o.a.post(s,m.stringify({questionData:this.question.stringify()})).then(function(e){0===e.data.status?t.$toasted.info("create"===t.action&&"创建成功"||"已保存",{duration:800,position:"bottom-center",onComplete:function(){t.$router.push({name:"manage-questions"})}}):1===e.data.status&&t.$toasted.error(e.data.detail,{duration:1e3,position:"bottom-center"})})}}}}},924:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),i=s.n(n),a=s(8),o=s.n(a),r=s(7),l=s.n(r),u=s(10),c=s(174),d=s.n(c),p=s(128),v=s.n(p),h=s(204),f=s.n(h),m=s(25);e.default={props:{question:{type:Object,default:null},action:{type:String,required:!0}},data:function(){return{modalOpen:!1}},components:{TextEditor:v.a,CommonInfo:f.a,SinglePreviewModal:d.a},mounted:function(){},computed:o()({},s.i(u.b)(["teacher"])),methods:{saveQuestion:function(){var t=this;this.question.subjectId=this.teacher.subjectId;var e=this.question.validate();if(e)this.$toasted.error(e[1],{duration:1e3,position:"bottom-center"}),this.$store.commit("changeCheckSaving",!0),this.$eventHub.$emit("save-question");else{var s=this.question.uuid?"/question/j/questions/edit":"/question/j/questions/create";l.a.post(s,m.stringify({questionData:this.question.stringify()})).then(function(e){0===e.data.status?t.$toasted.info("create"===t.action&&"创建成功"||"已保存",{duration:800,position:"bottom-center",onComplete:function(){t.$router.push({name:"manage-questions"})}}):1===e.data.status&&t.$toasted.error(e.data.detail,{duration:1e3,position:"bottom-center"})})}},setAnswer:function(t){var e=!0,s=!1,n=void 0;try{for(var a,o=i()(this.question.options);!(e=(a=o.next()).done);e=!0){var r=a.value;r.isAnswer=t===r}}catch(t){s=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw n}}this.question.answerSeq=t.seq}}}},925:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(31),i=s.n(n),a=s(124);e.default={name:"single-preview-modal",props:{question:{type:Object,required:!0},analysisFolded:{type:Boolean,default:!1},localAudioFile:{default:null}},data:function(){return{}},created:function(){null!=this.analysisFolded&&(this.question.analysisFolded=this.analysisFolded)},mounted:function(){if(this.localAudioFile){var t=$(this.$el.querySelector(".local-audio-preview")),e=new FileReader;e.onload=function(e){t.attr("src",e.target.result),t.play()},e.readAsDataURL(this.localAudioFile)}this.$nextTick(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub])})},components:{Modal:i.a},methods:{currentView:function(t){return s.i(a.a)(t.displayKind)}}}},926:function(t,e,s){"use strict";s.d(e,"a",function(){return n});var n=[{groupId:1,name:"分数",latex:"\\frac{x}{y}",collection:[{latex:"\\frac{dy}{dx}",verboseText:""},{latex:"\\frac{\\Delta y}{\\Delta x}",verboseText:""},{latex:"\\frac{\\delta y}{\\delta x}",verboseText:""},{latex:"\\frac{\\pi}{2}",verboseText:""}]},{groupId:2,name:"上下标",latex:"{x}^{y}",collection:[{latex:"{x}^{y}",verboseText:""},{latex:"{x}_{y}",verboseText:""},{latex:"{Y}^{n}_{1}",verboseText:""},{latex:"{^{n}_{1}y}",verboseText:""}]},{groupId:3,name:"根式",latex:"\\sqrt[{n}]{x}",collection:[{latex:"\\sqrt{x}",verboseText:""},{latex:"\\sqrt[{n}]{x}",verboseText:""},{latex:"\\sqrt[{3}]{a}",verboseText:""},{latex:"\\frac{-b\\pm\\sqrt{{b}^{2}-4ac}}{2a}",verboseText:""},{latex:"\\sqrt{{a}^{2}+{b}^{2}}",verboseText:""}]},{groupId:4,name:"积分",latex:"\\int ^{x}_{-x}",collection:[{latex:"\\int f(x)dx",verboseText:""},{latex:"\\int ^b_a f(x)dx",verboseText:""},{latex:"\\iint _D f(x, y)dxdy",verboseText:""},{latex:"\\iiint _T f(x, y, z)dxdydz",verboseText:""}]},{groupId:5,name:"大型\n运算符",latex:"\\sum^{n}_{i=0}",collection:[{latex:"\\displaystyle\\sum_{i=1}^n",verboseText:""},{latex:"\\textstyle\\sum_{i=1}^n",verboseText:""},{latex:"\\textstyle\\sum_{i=1}^n 2i",verboseText:""}]},{groupId:6,name:"括号",latex:"\\{()\\}",collection:[{latex:"()",verboseText:""},{latex:"[]",verboseText:""},{latex:"\\lgroup\\rgroup",verboseText:""},{latex:"\\lbrace\\rbrace",verboseText:""},{latex:"\\lceil\\rceil",verboseText:""},{latex:"\\lfloor\\rfloor",verboseText:""},{latex:"\\langle\\rangle",verboseText:""},{latex:"x = \\begin{cases}\n a &\\text{if } b  \\\\\n c &\\text{if } d\n \\end{cases}",verboseText:""}]},{groupId:7,name:"函数",latex:"\\sin\\theta",collection:[{latex:"\\sin\\theta",verboseText:""},{latex:"\\cos\\theta",verboseText:""},{latex:"\\tan\\theta",verboseText:""},{latex:"\\csc\\theta",verboseText:""},{latex:"\\sec\\theta",verboseText:""},{latex:"\\cot\\theta",verboseText:""}]},{groupId:8,name:"矩阵",latex:"\\begin{bmatrix}\n0 & 1\\\\\n1 & 0\n\\end{bmatrix}",collection:[{latex:"\\begin{matrix}\na & b\\\\\nc & d\n\\end{matrix}",verboseText:""},{latex:"\\begin{pmatrix}\na & b\\\\\nc & d\n\\end{pmatrix}",verboseText:""},{latex:"\\begin{bmatrix}\na & b\\\\\nc & d\n\\end{bmatrix}",verboseText:""},{latex:"\\begin{vmatrix}\na & b\\\\\nc & d\n\\end{vmatrix}",verboseText:""},{latex:"\\begin{Vmatrix}\na & b\\\\\nc & d\n\\end{Vmatrix}",verboseText:""}]}]},927:function(t,e,s){"use strict";s.d(e,"a",function(){return n});var n=[{name:"小写希腊字母",collection:[{latex:"\\alpha",verboseText:""},{latex:"\\beta",verboseText:""},{latex:"\\gamma",verboseText:""},{latex:"\\delta",verboseText:""},{latex:"\\epsilon",verboseText:""},{latex:"\\varepsilon",verboseText:""},{latex:"\\zeta",verboseText:""},{latex:"\\eta",verboseText:""},{latex:"\\theta",verboseText:""},{latex:"\\vartheta",verboseText:""},{latex:"\\iota",verboseText:""},{latex:"\\kappa",verboseText:""},{latex:"\\lambda",verboseText:""},{latex:"\\mu",verboseText:""},{latex:"\\nu",verboseText:""},{latex:"\\xi",verboseText:""},{latex:"o",verboseText:""},{latex:"\\pi",verboseText:""},{latex:"\\varpi",verboseText:""},{latex:"\\rho",verboseText:""},{latex:"\\varrho",verboseText:""},{latex:"\\sigma",verboseText:""},{latex:"\\varsigma",verboseText:""},{latex:"\\tau",verboseText:""},{latex:"\\upsilon",verboseText:""},{latex:"\\phi",verboseText:""},{latex:"\\varphi",verboseText:""},{latex:"\\chi",verboseText:""},{latex:"\\psi",verboseText:""},{latex:"\\omega",verboseText:""}]},{name:"大写希腊字母",collection:[{latex:"\\Gamma",verboseText:""},{latex:"\\Delta",verboseText:""},{latex:"\\Theta",verboseText:""},{latex:"\\Lambda",verboseText:""},{latex:"\\Xi",verboseText:""},{latex:"\\Pi",verboseText:""},{latex:"\\Sigma",verboseText:""},{latex:"\\Upsilon",verboseText:""},{latex:"\\Phi",verboseText:""},{latex:"\\Psi",verboseText:""},{latex:"\\Omega",verboseText:""}]},{name:"二元运算符",collection:[{latex:"+",verboseText:""},{latex:"-",verboseText:""},{latex:"\\div",verboseText:""},{latex:"\\times",verboseText:""},{latex:"\\pm",verboseText:""},{latex:"\\mp",verboseText:""},{latex:"\\ast",verboseText:""},{latex:"\\circ",verboseText:""},{latex:"\\bullet",verboseText:""},{latex:"\\cdot",verboseText:""},{latex:"\\cap",verboseText:""},{latex:"\\cup",verboseText:""},{latex:"\\uplus",verboseText:""},{latex:"\\sqcap",verboseText:""},{latex:"\\sqcup",verboseText:""},{latex:"\\wedge",verboseText:""},{latex:"\\vee",verboseText:""},{latex:"\\oplus",verboseText:""},{latex:"\\ominus",verboseText:""},{latex:"\\otimes",verboseText:""},{latex:"\\oslash",verboseText:""},{latex:"\\odot",verboseText:""},{latex:"\\diamond",verboseText:""},{latex:"\\bigtriangleup",verboseText:""},{latex:"\\bigtriangledown",verboseText:""},{latex:"\\triangleleft",verboseText:""},{latex:"\\triangleright",verboseText:""},{latex:"\\star",verboseText:""},{latex:"\\bigcirc",verboseText:""},{latex:"\\setminus",verboseText:""},{latex:"\\wr",verboseText:""},{latex:"\\dagger",verboseText:""},{latex:"\\ddagger",verboseText:""},{latex:"\\amalg",verboseText:""}]},{name:"关系运算符",collection:[{latex:"=",verboseText:""},{latex:"\\neq",verboseText:""},{latex:"<",verboseText:""},{latex:">",verboseText:""},{latex:"\\leq",verboseText:""},{latex:"\\geq",verboseText:""},{latex:"\\not<",verboseText:""},{latex:"\\not>",verboseText:""},{latex:"\\not\\leq",verboseText:""},{latex:"\\not\\geq",verboseText:""},{latex:"\\equiv",verboseText:""},{latex:"\\sim",verboseText:""},{latex:"\\simeq",verboseText:""},{latex:"\\approx",verboseText:""},{latex:"\\cong",verboseText:""},{latex:"\\not\\equiv",verboseText:""},{latex:"\\not\\simeq",verboseText:""},{latex:"\\not\\approx",verboseText:""},{latex:"\\not\\cong",verboseText:""},{latex:"\\propto",verboseText:""},{latex:"\\ll",verboseText:""},{latex:"\\gg",verboseText:""},{latex:"\\in",verboseText:""},{latex:"\\ni",verboseText:""},{latex:"\\notin",verboseText:""},{latex:"\\subset",verboseText:""},{latex:"\\supset",verboseText:""},{latex:"\\subseteq",verboseText:""},{latex:"\\supseteq",verboseText:""},{latex:"\\prec",verboseText:""},{latex:"\\succ",verboseText:""},{latex:"\\preceq",verboseText:""},{latex:"\\succeq",verboseText:""},{latex:"\\sqsubseteq",verboseText:""},{latex:"\\sqsupseteq",verboseText:""},{latex:"\\parallel",verboseText:""},{latex:"\\perp",verboseText:""},{latex:"\\vdash",verboseText:""},{latex:"\\dashv",verboseText:""},{latex:"\\bowtie",verboseText:""},{latex:"\\asymp",verboseText:""},{latex:"\\models",verboseText:""},{latex:"\\mid",verboseText:""},{latex:"\\doteq",verboseText:""},{latex:"\\smile",verboseText:""},{latex:"\\frown",verboseText:""},{latex:":",verboseText:""}]},{name:"箭头",collection:[{latex:"\\leftarrow",verboseText:""},{latex:"\\rightarrow",verboseText:""},{latex:"\\uparrow",verboseText:""},{latex:"\\downarrow",verboseText:""},{latex:"\\updownarrow",verboseText:""},{latex:"\\leftrightarrow",verboseText:""},{latex:"\\Leftarrow",verboseText:""},{latex:"\\Rightarrow",verboseText:""},{latex:"\\Uparrow",verboseText:""},{latex:"\\Downarrow",verboseText:""},{latex:"\\Updownarrow",verboseText:""},{latex:"\\Leftrightarrow",verboseText:""},{latex:"\\mapsto",verboseText:""},{latex:"\\hookleftarrow",verboseText:""},{latex:"\\hookrightarrow",verboseText:""},{latex:"\\leftharpoonup",verboseText:""},{latex:"\\leftharpoondown",verboseText:""},{latex:"\\rightharpoonup",verboseText:""},{latex:"\\rightharpoondown",verboseText:""},{latex:"\\rightleftharpoons",verboseText:""},{latex:"\\longleftarrow",verboseText:""},{latex:"\\longrightarrow",verboseText:""},{latex:"\\longleftrightarrow",verboseText:""},{latex:"\\Longleftarrow",verboseText:""},{latex:"\\Longrightarrow",verboseText:""},{latex:"\\Longleftrightarrow",verboseText:""},{latex:"\\longmapsto",verboseText:""},{latex:"\\nearrow",verboseText:""},{latex:"\\searrow",verboseText:""},{latex:"\\swarrow",verboseText:""},{latex:"\\nwarrow",verboseText:""}]}]},928:function(t,e,s){"use strict";var n=s(15),i=s.n(n),a=s(3),o=s.n(a),r=s(4),l=s.n(r),u=s(17),c=s.n(u),d=s(20),p=s.n(d),v=s(16),h=s.n(v),f=Quill.import("blots/embed"),m=function(t){function e(){return o()(this,e),c()(this,(e.__proto__||i()(e)).apply(this,arguments))}return h()(e,t),l()(e,null,[{key:"create",value:function(t){var s=p()(e.__proto__||i()(e),"create",this).call(this,t);s.setAttribute("data-seq",t);var n=document.createElement("span");return n.textContent=t,n.classList.add("blank-placeholder-label"),s.appendChild(n),s}},{key:"value",value:function(t){return parseInt(t.getAttribute("data-seq"))}}]),e}(f);m.blotName="blank-placeholder",m.className="ql-blank-placeholder",m.tagName="SPAN",e.a=m},929:function(t,e,s){"use strict";s.d(e,"a",function(){return y});var n=s(15),i=s.n(n),a=s(3),o=s.n(a),r=s(4),l=s.n(r),u=s(17),c=s.n(u),d=s(20),p=s.n(d),v=s(16),h=s.n(v),f=Quill.import("blots/embed"),m=Quill.import("core/module"),_=function(t){function e(){return o()(this,e),c()(this,(e.__proto__||i()(e)).apply(this,arguments))}return h()(e,t),l()(e,null,[{key:"create",value:function(t){var s=p()(e.__proto__||i()(e),"create",this).call(this,t);if("string"==typeof t){s.setAttribute("data-value",t);var n=document.createElement("span");n.classList.add("formula"),n.innerHTML="\\("+t+"\\)",s.appendChild(n)}return s}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(f);_.blotName="formula",_.className="ql-formula",_.tagName="SPAN";var y=function(t){function e(){return o()(this,e),c()(this,(e.__proto__||i()(e)).call(this))}return h()(e,t),l()(e,null,[{key:"register",value:function(){Quill.register(_,!0)}}]),e}(m)},93:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),i=s.n(n);s(11),e.default={name:"subjective-result",props:{question:{type:Object,required:!0},student:{type:Object,required:!0}},data:function(){return{}},components:{"sketch-pad":function(){return s.e(0).then(s.bind(null,85))}},computed:{studentResult:function(){if(this.question&&this.question.results){var t=!0,e=!1,s=void 0;try{for(var n,a=i()(this.question.results);!(t=(n=a.next()).done);t=!0){var o=n.value;if(this.student.id===o.sid)return o}}catch(t){e=!0,s=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw s}}}}}}},94:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"student-labels",data:function(){return{}},props:{allStudents:{type:Object,default:null},orderedSids:{type:Array,default:null},orderedStudents:{type:Array,default:null},orderedResults:{type:Array,default:null},selectedItem:{required:!1},active:{type:Boolean,default:!0}}}},944:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(42),i=s.n(n),a=s(49),o=s.n(a),r=s(1),l=s.n(r),u=s(28),c=s(10),d=s(50),p=s.n(d),v=s(45),h=s(43),f=s.n(h),m=s(46),_=s.n(m),y=s(48),b=s.n(y),q=s(68),g=s(9),w=s(6),x=s(683),C=s.n(x),k=s(678),S=s.n(k),T=s(679),A=s.n(T),M=s(681),R=s.n(M),I=s(680),j=s.n(I),P=s(682),N=s.n(P),$=this;s(630),u.default.config.productionTip=!1;var O=s(7);O.defaults.headers.common.X_REQUESTED_WITH="XMLHttpRequest",O.defaults.xsrfHeaderName="X-CSRFTOKEN",O.defaults.xsrfCookieName="csrftoken",u.default.prototype.$raven=f.a,f.a.config("http://216e3d581cd9424fad7f5d8c046b2f64@sentry.xdf100.com/6").addPlugin(_.a,u.default).install(),u.default.use(c.a),u.default.use(v.a),u.default.use(p.a,{duration:1e3,position:"bottom-center"});var K=new c.a.Store({state:{teacher:null,courses:[],checkSaving:!0,questionDkinds:[]},mutations:{updateTeacher:function(t,e){t.teacher=e.teacher,t.courses=[];var n=!0,i=!1,a=void 0;try{for(var o,r=l()(e.teacher.courses);!(n=(o=r.next()).done);n=!0){var u=o.value;t.courses.push(new q.a(u))}}catch(t){i=!0,a=t}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}t.questionDkinds=s.i(w.p)(e.teacher.subjectId)},changeCheckSaving:function(t,e){t.checkSaving=e}},getters:{school:function(t){return t.teacher?t.teacher.school:null},classes:function(t){return t.teacher?t.teacher.classes:[]}}}),Q=new v.a({mode:"history",base:"/pad/question-bank",routes:[{path:"",redirect:{name:"bank-gallery",query:{tree_type:"knowledge"}}},{path:"/gallery",component:S.a,name:"bank-gallery"},{path:"/edit/:uuid",component:R.a,name:"edit-question"},{path:"/duplicate/:uuid",component:j.a,name:"duplicate-question"},{path:"/create",component:A.a,name:"create-question"},{path:"/manage",component:N.a,name:"manage-questions"}],linkActiveClass:"active"});Q.beforeResolve(function(t,e,s){g.b.includes(K.state.teacher.subjectId)?s():(window.alert("你所在的学科暂未开放新题库功能"),window.location.href="/pad/resource")}),Q.beforeEach(function(t,e,s){K.state.teacher?s():O.get("/pad/j/teacher_info").then(function(t){var e=t.data.teacher;K.commit("updateTeacher",{teacher:e}),f.a.setUserContext({username:e.name,id:e.id}),s()})}),u.default.prototype.$eventHub=new u.default,o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!1,!t.t0){t.next=4;break}return t.next=4,s.e(1).then(s.bind(null,283));case 4:new u.default({delimiters:["${","}"],el:"#app",store:K,router:Q,data:{},components:{Navbar:b.a,SecondaryNavbar:C.a},created:function(){}});case 5:case"end":return t.stop()}},t,$)}))()},97:function(t,e){},98:function(t,e){},99:function(t,e){}},[944]);
//# sourceMappingURL=question-bank.1866eb6969190f7df48b.js.map